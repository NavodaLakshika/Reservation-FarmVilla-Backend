2025-11-14 12:13:14 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 12:13:14 [DBG] Hosting starting
2025-11-14 12:13:14 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 12:13:14 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 12:13:14 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 12:13:14 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 12:13:15 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 12:13:15 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 12:13:15 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 12:13:15 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 12:13:15 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 12:13:15 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 12:13:15 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 12:13:15 [DBG] Middleware loaded
2025-11-14 12:13:15 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 12:13:15 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 12:13:15 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 12:13:15 [INF] Now listening on: https://localhost:9307
2025-11-14 12:13:16 [DBG] Connection id "0HNH394BIOHHE" accepted.
2025-11-14 12:13:16 [DBG] Connection id "0HNH394BIOHHE" received FIN.
2025-11-14 12:13:16 [INF] Now listening on: http://localhost:9308
2025-11-14 12:13:16 [DBG] Connection id "0HNH394BIOHHE" started.
2025-11-14 12:13:16 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 12:13:16 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 12:13:16 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 12:13:16 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 12:13:16 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 12:13:16 [DBG] Connection id "0HNH394BIOHHE" stopped.
2025-11-14 12:13:16 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 12:13:16 [INF] Hosting environment: Development
2025-11-14 12:13:16 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 12:13:16 [DBG] Hosting started
2025-11-14 12:13:16 [DBG] Connection id "0HNH394BIOHHE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 12:13:18 [DBG] Connection id "0HNH394BIOHHF" accepted.
2025-11-14 12:13:18 [DBG] Connection id "0HNH394BIOHHF" started.
2025-11-14 12:13:18 [DBG] Connection 0HNH394BIOHHF established using the following protocol: "Tls12"
2025-11-14 12:13:19 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 12:13:19 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 12:13:19 [DBG] The request path  does not match the path filter
2025-11-14 12:13:19 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 12:13:19 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 12:13:19 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 12:13:19 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 12:13:19 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 12:13:20 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 12:13:20 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 12:13:20 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 1041.7436ms
2025-11-14 12:13:20 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 368.1278ms
2025-11-14 12:13:20 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 741.9122ms
2025-11-14 12:13:20 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 12:13:21 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 437.3063ms
2025-11-14 12:15:06 [DBG] Connection id "0HNH394BIOHHG" accepted.
2025-11-14 12:15:06 [DBG] Connection id "0HNH394BIOHHG" started.
2025-11-14 12:15:06 [DBG] Connection 0HNH394BIOHHG established using the following protocol: "Tls12"
2025-11-14 12:15:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 12:15:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 12:15:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - null null
2025-11-14 12:15:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - null null
2025-11-14 12:15:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:06 [INF] Request OPTIONS /api/Nationality/getall Body: 
2025-11-14 12:15:06 [INF] Request OPTIONS /api/TravelAgent/getall Body: 
2025-11-14 12:15:06 [INF] Request OPTIONS /api/BookingResource/getall Body: 
2025-11-14 12:15:06 [INF] Request OPTIONS /api/ReservationStatus/getall Body: 
2025-11-14 12:15:06 [INF] Request OPTIONS /api/Room/getall Body: 
2025-11-14 12:15:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 12:15:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - null null
2025-11-14 12:15:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:06 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [INF] Request OPTIONS /api/ServiceType/getall Body: 
2025-11-14 12:15:07 [INF] Request OPTIONS /api/PayType/getall Body: 
2025-11-14 12:15:07 [INF] Request OPTIONS /api/PackageInfo/getall Body: 
2025-11-14 12:15:07 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - null null
2025-11-14 12:15:07 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - null null
2025-11-14 12:15:07 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - null null
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [INF] Request OPTIONS /api/RoomType/getall Body: 
2025-11-14 12:15:07 [INF] Request OPTIONS /api/Customer/getall Body: 
2025-11-14 12:15:07 [INF] Request OPTIONS /api/Country/getall Body: 
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - 204 null null 179.659ms
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - 204 null null 72.2421ms
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - 204 null null 76.0344ms
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - 204 null null 72.1317ms
2025-11-14 12:15:07 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 12:15:07 [DBG] OPTIONS requests are not supported
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [INF] Request OPTIONS /api/CustomerType/getall Body: 
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - 204 null null 157.4525ms
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - 204 null null 222.3933ms
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - 204 null null 243.2905ms
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Nationality/getall - null null
2025-11-14 12:15:07 [INF] Request starting HTTP/2 GET https://localhost:9307/api/RoomType/getall - null null
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [DBG] The request path  does not match the path filter
2025-11-14 12:15:07 [DBG] The request path  does not match the path filter
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [DBG] The request path /api/Nationality/getall does not match a supported file type
2025-11-14 12:15:07 [DBG] The request path /api/RoomType/getall does not match a supported file type
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - 204 null null 69.3914ms
2025-11-14 12:15:07 [DBG] The request path  does not match the path filter
2025-11-14 12:15:07 [DBG] The request path  does not match the path filter
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Customer/getall - null null
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [DBG] The request path  does not match the path filter
2025-11-14 12:15:07 [INF] Request GET /api/Nationality/getall Body: 
2025-11-14 12:15:07 [INF] Request GET /api/RoomType/getall Body: 
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - 204 null null 211.0369ms
2025-11-14 12:15:07 [DBG] The request path /api/Customer/getall does not match a supported file type
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 12:15:07 [DBG] The request path  does not match the path filter
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)' with route pattern 'api/RoomType/getall' is valid for the request path '/api/RoomType/getall'
2025-11-14 12:15:07 [DBG] Endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)' with route pattern 'api/Nationality/getall' is valid for the request path '/api/Nationality/getall'
2025-11-14 12:15:07 [INF] Request GET /api/Customer/getall Body: 
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [DBG] Request matched endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)' with route pattern 'api/Customer/getall' is valid for the request path '/api/Customer/getall'
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - 204 null null 249.6584ms
2025-11-14 12:15:07 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - 204 null null 376.3591ms
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 12:15:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [DBG] The request is a preflight request.
2025-11-14 12:15:07 [INF] Response 204 Body: 
2025-11-14 12:15:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - 204 null null 415.0194ms
2025-11-14 12:15:07 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Country/getall - null null
2025-11-14 12:15:07 [DBG] The request path  does not match the path filter
2025-11-14 12:15:07 [DBG] The request path /api/Country/getall does not match a supported file type
2025-11-14 12:15:07 [DBG] The request path  does not match the path filter
2025-11-14 12:15:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:07 [INF] Request GET /api/Country/getall Body: 
2025-11-14 12:15:07 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 12:15:07 [DBG] Endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)' with route pattern 'api/Country/getall' is valid for the request path '/api/Country/getall'
2025-11-14 12:15:07 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:07 [INF] CORS policy execution successful.
2025-11-14 12:15:07 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:07 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:07 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:07 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:07 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:07 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:07 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:07 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:07 [INF] Executing endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 12:15:07 [INF] Executing endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [INF] Route matched with {action = "GetAllNationalities", controller = "Nationality"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllNationalities() on controller NationalityController (OIT_Reservation).
2025-11-14 12:15:07 [INF] Route matched with {action = "GetAll", controller = "RoomType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation).
2025-11-14 12:15:07 [INF] Route matched with {action = "GetAll", controller = "Country"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CountryController (OIT_Reservation).
2025-11-14 12:15:07 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation).
2025-11-14 12:15:07 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:07 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:07 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:07 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:07 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:07 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:07 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:07 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:07 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:07 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 12:15:07 [DBG] Executing controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 12:15:07 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 12:15:07 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 12:15:07 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 12:15:07 [DBG] Executed controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 12:15:07 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 12:15:07 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 12:15:07 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:07 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:07 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:07 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:07 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:07 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:07 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:07 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:07 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:07 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:07 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:07 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:07 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:07 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:07 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:07 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:07 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:07 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:07 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:07 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:07 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Nationality, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:07 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Country, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:07 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:07 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:07 [INF] Executed action OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation) in 446.8063ms
2025-11-14 12:15:07 [INF] Executed action OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation) in 453.9522ms
2025-11-14 12:15:07 [INF] Executed action NationalityController.GetAllNationalities (OIT_Reservation) in 457.5803ms
2025-11-14 12:15:07 [INF] Executed endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [INF] Executed action OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation) in 456.0718ms
2025-11-14 12:15:07 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [INF] Executed endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 12:15:07 [INF] Response 200 Body: [{"countryID":1,"countryCode":"CC001","description":"SRI LANKA"},{"countryID":2,"countryCode":"CC002","description":"INDIA"},{"countryID":3,"countryCode":"CC003","description":"RUSSIAN FEDERATION"},{"countryID":4,"countryCode":"CC004","description":"UNITED KINGDOM"},{"countryID":5,"countryCode":"CC005","description":"GERMANY"},{"countryID":6,"countryCode":"CC006","description":"CHINA"},{"countryID":7,"countryCode":"CC007","description":"FRANCE"},{"countryID":8,"countryCode":"CC008","description":"AUSTRALIA"},{"countryID":9,"countryCode":"CC009","description":"UNITED STATES"},{"countryID":10,"countryCode":"CC010","description":"NETHERLANDS"},{"countryID":11,"countryCode":"CC011","description":"MALDIVES"},{"countryID":12,"countryCode":"CC012","description":"BANGLADESH"},{"countryID":13,"countryCode":"CC013","description":"CANADA"},{"countryID":14,"countryCode":"CC014","description":"POLAND"},{"countryID":15,"countryCode":"CC015","description":"SWITZERLAND"},{"countryID":16,"countryCode":"CC016","description":"JAPAN"},{"countryID":17,"countryCode":"CC017","description":"AUSTRIA"},{"countryID":18,"countryCode":"CC018","description":"CZECH REPUBLIC"},{"countryID":19,"countryCode":"CC019","description":"ISRAEL"},{"countryID":20,"countryCode":"CC020","description":"SPAIN"},{"countryID":21,"countryCode":"CC021","description":"KAZAKHSTAN"},{"countryID":22,"countryCode":"CC022","description":"SINGAPORE"},{"countryID":23,"countryCode":"CC023","description":"MALAYSIA"},{"countryID":24,"countryCode":"CC024","description":"NORWAY"},{"countryID":25,"countryCode":"CC025","description":"NEW ZEALAND"},{"countryID":26,"countryCode":"CC026","description":"THAILAND"},{"countryID":27,"countryCode":"CC027","description":"ITALY"},{"countryID":28,"countryCode":"CC028","description":"SOUTH KOREA"},{"countryID":29,"countryCode":"CC029","description":"SWEDEN"},{"countryID":30,"countryCode":"CC030","description":"BELGIUM"},{"countryID":31,"countryCode":"CC031","description":"DENMARK"},{"countryID":32,"countryCode":"CC032","description":"UNITED ARAB EMIRATES"},{"countryID":33,"countryCode":"CC033","description":"SAUDI ARABIA"},{"countryID":34,"countryCode":"CC034","description":"IRAN"},{"countryID":35,"countryCode":"CC035","description":"TURKEY"},{"countryID":36,"countryCode":"CC036","description":"KUWAIT"},{"countryID":37,"countryCode":"CC037","description":"OMAN"},{"countryID":38,"countryCode":"CC038","description":"BAHRAIN"},{"countryID":39,"countryCode":"CC039","description":"FINLAND"},{"countryID":40,"countryCode":"CC040","description":"IRELAND"},{"countryID":41,"countryCode":"CC041","description":"PORTUGAL"},{"countryID":42,"countryCode":"CC042","description":"VIETNAM"},{"countryID":43,"countryCode":"CC043","description":"BELARUS"},{"countryID":44,"countryCode":"CC044","description":"UKRAINE"},{"countryID":45,"countryCode":"CC045","description":"SOUTH AFRICA"},{"countryID":46,"countryCode":"CC046","description":"MEXICO"},{"countryID":47,"countryCode":"CC047","description":"SLOVENIA"},{"countryID":48,"countryCode":"CC048","description":"HUNGARY"},{"countryID":49,"countryCode":"CC049","description":"PHILIPPINES"},{"countryID":50,"countryCode":"CC050","description":"INDONESIA"}]
2025-11-14 12:15:07 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 12:15:07 [INF] Response 200 Body: [{"roomTypeID":1,"roomTypeCode":"RT001","description":"DELUX ","remarks":""},{"roomTypeID":2,"roomTypeCode":"RT002","description":"STANDARD ","remarks":""},{"roomTypeID":3,"roomTypeCode":"RT003","description":"IN-DOOR","remarks":""},{"roomTypeID":4,"roomTypeCode":"RT004","description":"OUT-DOOR","remarks":""},{"roomTypeID":5,"roomTypeCode":"RT005","description":"string","remarks":"string"}]
2025-11-14 12:15:08 [INF] Response 200 Body: [{"nationalityID":1,"nationalityCode":"LKA","description":"Sri Lankan"},{"nationalityID":2,"nationalityCode":"IND","description":"Indian"},{"nationalityID":3,"nationalityCode":"PAK","description":"Pakistani"},{"nationalityID":4,"nationalityCode":"BGD","description":"Bangladeshi"},{"nationalityID":5,"nationalityCode":"NPL","description":"Nepali"},{"nationalityID":6,"nationalityCode":"CHN","description":"Chinese"},{"nationalityID":7,"nationalityCode":"JPN","description":"Japanese"},{"nationalityID":8,"nationalityCode":"USA","description":"American"},{"nationalityID":9,"nationalityCode":"GBR","description":"British"},{"nationalityID":10,"nationalityCode":"CAN","description":"Canadian"},{"nationalityID":11,"nationalityCode":"AUS","description":"Australian"},{"nationalityID":12,"nationalityCode":"DEU","description":"German"},{"nationalityID":13,"nationalityCode":"FRA","description":"French"},{"nationalityID":14,"nationalityCode":"ITA","description":"Italian"},{"nationalityID":15,"nationalityCode":"RUS","description":"Russian"},{"nationalityID":16,"nationalityCode":"SAU","description":"Saudi"},{"nationalityID":17,"nationalityCode":"ARE","description":"Emirati"},{"nationalityID":18,"nationalityCode":"SGP","description":"Singaporean"},{"nationalityID":19,"nationalityCode":"THA","description":"Thai"},{"nationalityID":20,"nationalityCode":"MYS","description":"Malaysian"}]
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Country/getall - 200 null application/json; charset=utf-8 675.3584ms
2025-11-14 12:15:08 [INF] Response 200 Body: [{"customerTypeCode":"001","customerCode":"G000001","title":"Mr.","name":"SAMPATH","niC_PassportNo":"907656767","nationalityCode":"LKA","countryCode":"CC001","mobile":"0759888811","telephone":"0554567898","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"MAHARAGAMA","whatsapp":"0759888811","remark":""},{"customerTypeCode":"001","customerCode":"G000002","title":"Mr.","name":"Thamalpath","niC_PassportNo":"53269493","nationalityCode":"LKA","countryCode":"CC001","mobile":"071155864","telephone":"","email":"thamal@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"07526648","remark":""},{"customerTypeCode":"001","customerCode":"G000003","title":"Mr.","name":"Sarindu","niC_PassportNo":"5461511988v","nationalityCode":"LKA","countryCode":"CC001","mobile":"071565658","telephone":"","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"0715561185","remark":""},{"customerTypeCode":"001","customerCode":"G000004","title":"Mr.","name":"Navoda","niC_PassportNo":"200130500240","nationalityCode":"LKA","countryCode":"CC001","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"bandarawela","whatsapp":"0123456789","remark":"Testing"}]
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/RoomType/getall - 200 null application/json; charset=utf-8 847.4717ms
2025-11-14 12:15:08 [INF] Request starting HTTP/2 GET https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 12:15:08 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The request path /api/PackageInfo/getall does not match a supported file type
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Nationality/getall - 200 null application/json; charset=utf-8 852.7788ms
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The request path /api/BookingResource/getall does not match a supported file type
2025-11-14 12:15:08 [INF] Request GET /api/PackageInfo/getall Body: 
2025-11-14 12:15:08 [INF] Request starting HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Customer/getall - 200 null application/json; charset=utf-8 834.4158ms
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [INF] Request starting HTTP/2 GET https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 12:15:08 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 12:15:08 [DBG] Endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)' with route pattern 'api/PackageInfo/getall' is valid for the request path '/api/PackageInfo/getall'
2025-11-14 12:15:08 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:08 [INF] Request GET /api/BookingResource/getall Body: 
2025-11-14 12:15:08 [DBG] The request path /api/TravelAgent/getall does not match a supported file type
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [INF] CORS policy execution successful.
2025-11-14 12:15:08 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The request path /api/CustomerType/getall does not match a supported file type
2025-11-14 12:15:08 [DBG] Endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)' with route pattern 'api/BookingResource/getall' is valid for the request path '/api/BookingResource/getall'
2025-11-14 12:15:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] Request matched endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Request GET /api/TravelAgent/getall Body: 
2025-11-14 12:15:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:08 [INF] Request GET /api/CustomerType/getall Body: 
2025-11-14 12:15:08 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 12:15:08 [INF] Executing endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:08 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 12:15:08 [DBG] Endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)' with route pattern 'api/TravelAgent/getall' is valid for the request path '/api/TravelAgent/getall'
2025-11-14 12:15:08 [INF] CORS policy execution successful.
2025-11-14 12:15:08 [INF] Route matched with {action = "GetAll", controller = "PackageInfo"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation).
2025-11-14 12:15:08 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)' with route pattern 'api/CustomerType/getall' is valid for the request path '/api/CustomerType/getall'
2025-11-14 12:15:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:08 [INF] CORS policy execution successful.
2025-11-14 12:15:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:08 [INF] Executing endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:08 [INF] Executing endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Route matched with {action = "GetAll", controller = "BookingResource"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation).
2025-11-14 12:15:08 [INF] CORS policy execution successful.
2025-11-14 12:15:08 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 12:15:08 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 12:15:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:08 [INF] Route matched with {action = "GetAll", controller = "TravelAgent"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation).
2025-11-14 12:15:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:08 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 12:15:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:08 [INF] Route matched with {action = "CustomerTypes", controller = "CustomerType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CustomerType]] CustomerTypes() on controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation).
2025-11-14 12:15:08 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 12:15:08 [DBG] Executing controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 12:15:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:08 [DBG] Executed controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 12:15:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PackageInfo, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:08 [INF] Executed action OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation) in 239.8959ms
2025-11-14 12:15:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:08 [INF] Executed endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:08 [INF] Response 200 Body: [{"packageID":1,"packageCode":"PKG0001","packageName":"SINGLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":2,"packageCode":"PKG0002","packageName":"DOUBLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":3,"packageCode":"PKG0003","packageName":"TRIPPLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":10.00,"roomCost":10.00,"roomAmount":42000.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":4,"packageCode":"PKG0004","packageName":"FAMILY ROOM (B/B)","packageDuration":0,"remarks":"","roomPrice":50000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":5,"packageCode":"PKG0005","packageName":"SINGLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":6,"packageCode":"PKG0006","packageName":"DOUBLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":7,"packageCode":"PKG0007","packageName":"TRIPPLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":48000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":8,"packageCode":"PKG0008","packageName":"FAMILY ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":58000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":9,"packageCode":"PKG0009","packageName":"SINGLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":42500.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":10,"packageCode":"PKG0010","packageName":"DOUBLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":45000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":11,"packageCode":"PKG0011","packageName":"TRIPPLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":55500.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":12,"packageCode":"PKG0012","packageName":"FAMILY ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":68000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"}]
2025-11-14 12:15:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - 200 null application/json; charset=utf-8 411.9636ms
2025-11-14 12:15:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelAgent, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:08 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PayType/getall - null null
2025-11-14 12:15:08 [INF] Executed action OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation) in 150.0528ms
2025-11-14 12:15:08 [INF] Executed endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Response 200 Body: [{"travelAgentID":1,"travelAgentCode":"TA001","description":"AITKEN SPENSE"},{"travelAgentID":2,"travelAgentCode":"TA002","description":"JETWIN TRAVELS"}]
2025-11-14 12:15:08 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - 200 null application/json; charset=utf-8 413.1366ms
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The request path /api/PayType/getall does not match a supported file type
2025-11-14 12:15:08 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 12:15:08 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 12:15:08 [DBG] The request path /api/ServiceType/getall does not match a supported file type
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The request path /api/ReservationStatus/getall does not match a supported file type
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:08 [INF] Request GET /api/ReservationStatus/getall Body: 
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:08 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 12:15:08 [DBG] Endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)' with route pattern 'api/ReservationStatus/getall' is valid for the request path '/api/ReservationStatus/getall'
2025-11-14 12:15:08 [INF] Request GET /api/PayType/getall Body: 
2025-11-14 12:15:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:08 [DBG] Request matched endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 12:15:08 [INF] Request GET /api/ServiceType/getall Body: 
2025-11-14 12:15:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:08 [DBG] Endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)' with route pattern 'api/PayType/getall' is valid for the request path '/api/PayType/getall'
2025-11-14 12:15:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:08 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 12:15:08 [INF] CORS policy execution successful.
2025-11-14 12:15:08 [DBG] Request matched endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)' with route pattern 'api/ServiceType/getall' is valid for the request path '/api/ServiceType/getall'
2025-11-14 12:15:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:08 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:08 [INF] Executing endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:08 [INF] CORS policy execution successful.
2025-11-14 12:15:08 [INF] Route matched with {action = "GetVisibleStatuses", controller = "ReservationStatus"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ReservationStatus]] GetVisibleStatuses() on controller ReservationStatusController (OIT_Reservation).
2025-11-14 12:15:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:08 [INF] Executed action OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation) in 92.6873ms
2025-11-14 12:15:08 [INF] CORS policy execution successful.
2025-11-14 12:15:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:08 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:08 [INF] Response 200 Body: [{"customerTypeID":1,"customerTypeCode":"001","description":"Local"},{"customerTypeID":2,"customerTypeCode":"002","description":"Foregien"}]
2025-11-14 12:15:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:08 [INF] Executing endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Executing controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 12:15:08 [INF] Executing endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/CustomerType/getall - 200 null application/json; charset=utf-8 538.5176ms
2025-11-14 12:15:08 [INF] Route matched with {action = "GetActivePayTypes", controller = "PayType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PayType]] GetActivePayTypes() on controller PayTypeController (OIT_Reservation).
2025-11-14 12:15:08 [DBG] Executed controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 12:15:08 [INF] Route matched with {action = "GetAll", controller = "ServiceType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation).
2025-11-14 12:15:08 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Room/getall - null null
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:08 [DBG] The request path /api/Room/getall does not match a supported file type
2025-11-14 12:15:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:08 [DBG] The request path  does not match the path filter
2025-11-14 12:15:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:15:08 [INF] Request GET /api/Room/getall Body: 
2025-11-14 12:15:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 12:15:08 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)' with route pattern 'api/Room/getall' is valid for the request path '/api/Room/getall'
2025-11-14 12:15:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationStatus, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:15:08 [DBG] Executing controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 12:15:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:08 [INF] Executed action ReservationStatusController.GetVisibleStatuses (OIT_Reservation) in 84.3824ms
2025-11-14 12:15:08 [INF] CORS policy execution successful.
2025-11-14 12:15:08 [DBG] Executed controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 12:15:08 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 12:15:08 [INF] Executed endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:15:08 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 12:15:08 [INF] Response 200 Body: [{"statusId":1,"statusName":"Booked","rowNo":1,"statusType":"1","colorCode":"#FFA500","isShow":true},{"statusId":2,"statusName":"Confirmed","rowNo":2,"statusType":"2","colorCode":"#5EFB6E","isShow":true},{"statusId":3,"statusName":"Checked In","rowNo":3,"statusType":"3","colorCode":"#6495ED","isShow":true},{"statusId":4,"statusName":"Checked Out","rowNo":4,"statusType":"4","colorCode":"#FFF8DC","isShow":true},{"statusId":6,"statusName":"Finalized","rowNo":6,"statusType":"6","colorCode":"#3de3cc","isShow":true}]
2025-11-14 12:15:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - 200 null application/json; charset=utf-8 262.2408ms
2025-11-14 12:15:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:15:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:08 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:08 [INF] Route matched with {action = "GetAll", controller = "Room"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomController (OIT_Reservation).
2025-11-14 12:15:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PayType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:08 [INF] Executed action PayTypeController.GetActivePayTypes (OIT_Reservation) in 100.6272ms
2025-11-14 12:15:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:15:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:08 [INF] Executed endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 12:15:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:15:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:08 [INF] Executed action OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation) in 105.1275ms
2025-11-14 12:15:08 [INF] Executed endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Response 200 Body: [{"serviceTypeID":1,"serviceCode":"SRV0001","serviceName":"00123","quantity":2,"serviceAmount":2000,"remarks":"Testing","isRoom":true,"isBanquet":false,"type":"Room"}]
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ServiceType/getall - 200 null application/json; charset=utf-8 357.101ms
2025-11-14 12:15:08 [INF] Response 200 Body: [{"paymentID":1,"descrip":"CASH","isSwipe":false,"type":"0","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":false,"printDescrip":"CASH","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":2,"descrip":"MASTER CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"MASTER CAR","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":3,"descrip":"VISA CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"VISA CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":true},{"paymentID":4,"descrip":"AMEX CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"AMEX CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false}]
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PayType/getall - 200 null application/json; charset=utf-8 371.7809ms
2025-11-14 12:15:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:15:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:08 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 12:15:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingResource, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:08 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 12:15:08 [INF] Executed action YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation) in 524.9718ms
2025-11-14 12:15:08 [INF] Executed endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Response 200 Body: [{"reservationBookingResourceId":1,"bookingResourceName":"On Arrival"},{"reservationBookingResourceId":2,"bookingResourceName":"On Call"},{"reservationBookingResourceId":3,"bookingResourceName":"Booking .com"},{"reservationBookingResourceId":4,"bookingResourceName":"Travel Agent"}]
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/BookingResource/getall - 200 null application/json; charset=utf-8 822.9486ms
2025-11-14 12:15:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:15:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:15:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:15:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:15:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:15:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Room, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 12:15:08 [INF] Executed action OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation) in 60.9682ms
2025-11-14 12:15:08 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 12:15:08 [INF] Response 200 Body: [{"roomID":1,"roomTypeCode":"RT001","roomCode":"R0001","description":"VILLA-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":2,"roomTypeCode":"RT001","roomCode":"R0002","description":"VILLA-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":3,"roomTypeCode":"RT001","roomCode":"R0003","description":"VILLA-03","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":4,"roomTypeCode":"RT001","roomCode":"R0004","description":"VILLA-04","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":5,"roomTypeCode":"RT001","roomCode":"R0005","description":"VILLA-05","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":6,"roomTypeCode":"RT001","roomCode":"R0006","description":"VILLA-06","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":7,"roomTypeCode":"RT001","roomCode":"R0007","description":"VILLA-07","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":8,"roomTypeCode":"RT001","roomCode":"R0008","description":"VILLA-08","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":9,"roomTypeCode":"RT001","roomCode":"R0009","description":"VILLA-09","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":10,"roomTypeCode":"","roomCode":"R0010","description":"ROOM-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":11,"roomTypeCode":"RT001","roomCode":"R0011","description":"ROOM-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false}]
2025-11-14 12:15:08 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Room/getall - 200 null application/json; charset=utf-8 290.5658ms
2025-11-14 12:16:17 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 12:16:17 [DBG] OPTIONS requests are not supported
2025-11-14 12:16:17 [DBG] OPTIONS requests are not supported
2025-11-14 12:16:17 [DBG] OPTIONS requests are not supported
2025-11-14 12:16:17 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:16:17 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 12:16:17 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 12:16:17 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 12:16:17 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:16:17 [INF] CORS policy execution successful.
2025-11-14 12:16:17 [DBG] The request is a preflight request.
2025-11-14 12:16:17 [INF] Response 204 Body: 
2025-11-14 12:16:17 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 29.6963ms
2025-11-14 12:16:17 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1109
2025-11-14 12:16:17 [DBG] POST requests are not supported
2025-11-14 12:16:17 [DBG] POST requests are not supported
2025-11-14 12:16:17 [DBG] POST requests are not supported
2025-11-14 12:16:17 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 12:16:17 [DBG] Connection id "0HNH394BIOHHG", Request id "0HNH394BIOHHG:00000033": started reading request body.
2025-11-14 12:16:17 [DBG] Connection id "0HNH394BIOHHG", Request id "0HNH394BIOHHG:00000033": done reading request body.
2025-11-14 12:16:17 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":4,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":52000,"discountPer":0,"discount":0,"grossAmount":52000,"paidAmount":50000,"dueAmount":2000,"reservationNote":"testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0004","noOfDays":1,"price":50000,"amount":50000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"137","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 12:16:17 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 12:16:17 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 12:16:17 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 12:16:17 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 12:16:17 [INF] CORS policy execution successful.
2025-11-14 12:16:17 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 12:16:17 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 12:16:17 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 12:16:17 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 12:16:17 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 12:16:17 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 12:16:17 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 12:16:17 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 12:16:17 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 12:16:17 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 12:16:17 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 12:16:17 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 12:16:17 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 12:16:17 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 12:16:17 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 12:16:17 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 12:16:17 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 12:16:17 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 12:16:17 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 12:16:17 [INF] Saving reservation for customer: G000004
2025-11-14 12:16:18 [INF] Reservation saved successfully: R00000000016
2025-11-14 12:16:18 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 12:16:18 [DBG] No information found on request to perform content negotiation.
2025-11-14 12:16:18 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 12:16:18 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 12:16:18 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 12:16:18 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 12:16:18 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 292.4886ms
2025-11-14 12:16:18 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 12:16:18 [INF] Response 200 Body: {"reservationNo":"R00000000016","message":"Reservation saved successfully"}
2025-11-14 12:16:18 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 370.2052ms
2025-11-14 12:18:32 [DBG] Connection id "0HNH394BIOHHG" received FIN.
2025-11-14 12:18:32 [DBG] Connection id "0HNH394BIOHHF" received FIN.
2025-11-14 12:18:32 [DBG] The connection queue processing loop for 0HNH394BIOHHG completed.
2025-11-14 12:18:32 [DBG] The connection queue processing loop for 0HNH394BIOHHF completed.
2025-11-14 12:18:32 [DBG] Connection id "0HNH394BIOHHF" is closed. The last processed stream ID was 7.
2025-11-14 12:18:32 [DBG] Connection id "0HNH394BIOHHG" is closed. The last processed stream ID was 51.
2025-11-14 12:18:32 [DBG] Connection id "0HNH394BIOHHF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 12:18:32 [DBG] Connection id "0HNH394BIOHHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 12:18:32 [DBG] Connection id "0HNH394BIOHHG" stopped.
2025-11-14 12:18:32 [DBG] Connection id "0HNH394BIOHHF" stopped.
2025-11-14 13:12:48 [DBG] Connection id "0HNH394BIOHHH" accepted.
2025-11-14 13:12:48 [DBG] Connection id "0HNH394BIOHHH" started.
2025-11-14 13:12:48 [DBG] Connection 0HNH394BIOHHH established using the following protocol: "Tls12"
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - null null
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request OPTIONS /api/BookingResource/getall Body: 
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Request OPTIONS /api/ReservationStatus/getall Body: 
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - 204 null null 60.3348ms
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - null null
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [INF] Request OPTIONS /api/PayType/getall Body: 
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request OPTIONS /api/ServiceType/getall Body: 
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 13:12:49 [INF] Request OPTIONS /api/Room/getall Body: 
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - 204 null null 36.6372ms
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - 204 null null 102.3532ms
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - null null
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - 204 null null 125.1348ms
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - 204 null null 128.6126ms
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - null null
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request OPTIONS /api/Nationality/getall Body: 
2025-11-14 13:12:49 [INF] Request OPTIONS /api/TravelAgent/getall Body: 
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Request OPTIONS /api/CustomerType/getall Body: 
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [INF] Request OPTIONS /api/Country/getall Body: 
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - 204 null null 76.0577ms
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - 204 null null 84.378ms
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - null null
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - null null
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - 204 null null 84.7343ms
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - 204 null null 89.8131ms
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request OPTIONS /api/RoomType/getall Body: 
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 13:12:49 [INF] Request OPTIONS /api/Customer/getall Body: 
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 13:12:49 [DBG] OPTIONS requests are not supported
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [DBG] The request path /api/ReservationStatus/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - 204 null null 76.2647ms
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Request OPTIONS /api/PackageInfo/getall Body: 
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Room/getall - null null
2025-11-14 13:12:49 [INF] Request GET /api/ReservationStatus/getall Body: 
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 13:12:49 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - 204 null null 89.7375ms
2025-11-14 13:12:49 [DBG] The request path /api/Room/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] Endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)' with route pattern 'api/ReservationStatus/getall' is valid for the request path '/api/ReservationStatus/getall'
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] Request matched endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [DBG] The request is a preflight request.
2025-11-14 13:12:49 [DBG] The request path /api/ServiceType/getall does not match a supported file type
2025-11-14 13:12:49 [INF] Request GET /api/Room/getall Body: 
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [INF] Response 204 Body: 
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - 204 null null 95.537ms
2025-11-14 13:12:49 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)' with route pattern 'api/Room/getall' is valid for the request path '/api/Room/getall'
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 13:12:49 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [INF] Request GET /api/ServiceType/getall Body: 
2025-11-14 13:12:49 [INF] Executing endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 13:12:49 [INF] Route matched with {action = "GetVisibleStatuses", controller = "ReservationStatus"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ReservationStatus]] GetVisibleStatuses() on controller ReservationStatusController (OIT_Reservation).
2025-11-14 13:12:49 [DBG] The request path /api/BookingResource/getall does not match a supported file type
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] Endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)' with route pattern 'api/ServiceType/getall' is valid for the request path '/api/ServiceType/getall'
2025-11-14 13:12:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:49 [INF] Request GET /api/BookingResource/getall Body: 
2025-11-14 13:12:49 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] Route matched with {action = "GetAll", controller = "Room"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomController (OIT_Reservation).
2025-11-14 13:12:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] Executing controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 13:12:49 [DBG] Endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)' with route pattern 'api/BookingResource/getall' is valid for the request path '/api/BookingResource/getall'
2025-11-14 13:12:49 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] Executed controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 13:12:49 [DBG] Request matched endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [INF] Executing endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [INF] Route matched with {action = "GetAll", controller = "ServiceType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation).
2025-11-14 13:12:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:49 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:49 [INF] Executing endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:49 [INF] Route matched with {action = "GetAll", controller = "BookingResource"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation).
2025-11-14 13:12:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationStatus, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] Executed action ReservationStatusController.GetVisibleStatuses (OIT_Reservation) in 104.293ms
2025-11-14 13:12:49 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 13:12:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:49 [INF] Executed endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 13:12:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Room, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] Response 200 Body: [{"statusId":1,"statusName":"Booked","rowNo":1,"statusType":"1","colorCode":"#FFA500","isShow":true},{"statusId":2,"statusName":"Confirmed","rowNo":2,"statusType":"2","colorCode":"#5EFB6E","isShow":true},{"statusId":3,"statusName":"Checked In","rowNo":3,"statusType":"3","colorCode":"#6495ED","isShow":true},{"statusId":4,"statusName":"Checked Out","rowNo":4,"statusType":"4","colorCode":"#FFF8DC","isShow":true},{"statusId":6,"statusName":"Finalized","rowNo":6,"statusType":"6","colorCode":"#3de3cc","isShow":true}]
2025-11-14 13:12:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:49 [INF] Executed action OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation) in 83.8641ms
2025-11-14 13:12:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:49 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - 200 null application/json; charset=utf-8 281.0747ms
2025-11-14 13:12:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:49 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Executing controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PayType/getall - null null
2025-11-14 13:12:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:49 [INF] Response 200 Body: [{"roomID":1,"roomTypeCode":"RT001","roomCode":"R0001","description":"VILLA-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":2,"roomTypeCode":"RT001","roomCode":"R0002","description":"VILLA-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":3,"roomTypeCode":"RT001","roomCode":"R0003","description":"VILLA-03","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":4,"roomTypeCode":"RT001","roomCode":"R0004","description":"VILLA-04","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":5,"roomTypeCode":"RT001","roomCode":"R0005","description":"VILLA-05","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":6,"roomTypeCode":"RT001","roomCode":"R0006","description":"VILLA-06","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":7,"roomTypeCode":"RT001","roomCode":"R0007","description":"VILLA-07","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":8,"roomTypeCode":"RT001","roomCode":"R0008","description":"VILLA-08","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":9,"roomTypeCode":"RT001","roomCode":"R0009","description":"VILLA-09","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":10,"roomTypeCode":"","roomCode":"R0010","description":"ROOM-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":11,"roomTypeCode":"RT001","roomCode":"R0011","description":"ROOM-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false}]
2025-11-14 13:12:49 [DBG] Executed controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Room/getall - 200 null application/json; charset=utf-8 270.7573ms
2025-11-14 13:12:49 [DBG] The request path /api/PayType/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Nationality/getall - null null
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:49 [DBG] The request path /api/TravelAgent/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [INF] Request GET /api/PayType/getall Body: 
2025-11-14 13:12:49 [INF] Executed action OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation) in 66.1374ms
2025-11-14 13:12:49 [DBG] The request path /api/Nationality/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 13:12:49 [INF] Executed endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [INF] Request GET /api/TravelAgent/getall Body: 
2025-11-14 13:12:49 [DBG] Endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)' with route pattern 'api/PayType/getall' is valid for the request path '/api/PayType/getall'
2025-11-14 13:12:49 [INF] Response 200 Body: [{"serviceTypeID":1,"serviceCode":"SRV0001","serviceName":"00123","quantity":2,"serviceAmount":2000,"remarks":"Testing","isRoom":true,"isBanquet":false,"type":"Room"}]
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 13:12:49 [DBG] Request matched endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 13:12:49 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ServiceType/getall - 200 null application/json; charset=utf-8 294.1927ms
2025-11-14 13:12:49 [INF] Request GET /api/Nationality/getall Body: 
2025-11-14 13:12:49 [DBG] Endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)' with route pattern 'api/TravelAgent/getall' is valid for the request path '/api/TravelAgent/getall'
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 13:12:49 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] Endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)' with route pattern 'api/Nationality/getall' is valid for the request path '/api/Nationality/getall'
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [DBG] The request path /api/CustomerType/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] Request matched endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [INF] Executing endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Route matched with {action = "GetActivePayTypes", controller = "PayType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PayType]] GetActivePayTypes() on controller PayTypeController (OIT_Reservation).
2025-11-14 13:12:49 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [INF] Request GET /api/CustomerType/getall Body: 
2025-11-14 13:12:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] Executing endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 13:12:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] Route matched with {action = "GetAll", controller = "TravelAgent"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation).
2025-11-14 13:12:49 [INF] Executing endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)' with route pattern 'api/CustomerType/getall' is valid for the request path '/api/CustomerType/getall'
2025-11-14 13:12:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] Route matched with {action = "GetAllNationalities", controller = "Nationality"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllNationalities() on controller NationalityController (OIT_Reservation).
2025-11-14 13:12:49 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] Executing controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 13:12:49 [DBG] Executed controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 13:12:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:49 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:49 [DBG] Executing controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 13:12:49 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 13:12:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:49 [DBG] Executed controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 13:12:49 [INF] Route matched with {action = "CustomerTypes", controller = "CustomerType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CustomerType]] CustomerTypes() on controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation).
2025-11-14 13:12:49 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 13:12:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PayType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:49 [INF] Executed action PayTypeController.GetActivePayTypes (OIT_Reservation) in 88.2842ms
2025-11-14 13:12:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:49 [INF] Executed endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:49 [INF] Response 200 Body: [{"paymentID":1,"descrip":"CASH","isSwipe":false,"type":"0","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":false,"printDescrip":"CASH","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":2,"descrip":"MASTER CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"MASTER CAR","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":3,"descrip":"VISA CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"VISA CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":true},{"paymentID":4,"descrip":"AMEX CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"AMEX CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false}]
2025-11-14 13:12:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:49 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PayType/getall - 200 null application/json; charset=utf-8 268.0642ms
2025-11-14 13:12:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Nationality, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Country/getall - null null
2025-11-14 13:12:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:49 [INF] Executed action NationalityController.GetAllNationalities (OIT_Reservation) in 67.3918ms
2025-11-14 13:12:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelAgent, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 13:12:49 [INF] Executed endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 13:12:49 [INF] Executed action OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation) in 82.2091ms
2025-11-14 13:12:49 [DBG] The request path /api/Country/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 13:12:49 [INF] Response 200 Body: [{"nationalityID":1,"nationalityCode":"LKA","description":"Sri Lankan"},{"nationalityID":2,"nationalityCode":"IND","description":"Indian"},{"nationalityID":3,"nationalityCode":"PAK","description":"Pakistani"},{"nationalityID":4,"nationalityCode":"BGD","description":"Bangladeshi"},{"nationalityID":5,"nationalityCode":"NPL","description":"Nepali"},{"nationalityID":6,"nationalityCode":"CHN","description":"Chinese"},{"nationalityID":7,"nationalityCode":"JPN","description":"Japanese"},{"nationalityID":8,"nationalityCode":"USA","description":"American"},{"nationalityID":9,"nationalityCode":"GBR","description":"British"},{"nationalityID":10,"nationalityCode":"CAN","description":"Canadian"},{"nationalityID":11,"nationalityCode":"AUS","description":"Australian"},{"nationalityID":12,"nationalityCode":"DEU","description":"German"},{"nationalityID":13,"nationalityCode":"FRA","description":"French"},{"nationalityID":14,"nationalityCode":"ITA","description":"Italian"},{"nationalityID":15,"nationalityCode":"RUS","description":"Russian"},{"nationalityID":16,"nationalityCode":"SAU","description":"Saudi"},{"nationalityID":17,"nationalityCode":"ARE","description":"Emirati"},{"nationalityID":18,"nationalityCode":"SGP","description":"Singaporean"},{"nationalityID":19,"nationalityCode":"THA","description":"Thai"},{"nationalityID":20,"nationalityCode":"MYS","description":"Malaysian"}]
2025-11-14 13:12:49 [INF] Executed endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:49 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Nationality/getall - 200 null application/json; charset=utf-8 288.4909ms
2025-11-14 13:12:49 [INF] Response 200 Body: [{"travelAgentID":1,"travelAgentCode":"TA001","description":"AITKEN SPENSE"},{"travelAgentID":2,"travelAgentCode":"TA002","description":"JETWIN TRAVELS"}]
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:49 [INF] Request finished HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - 200 null application/json; charset=utf-8 304.7023ms
2025-11-14 13:12:49 [INF] Request GET /api/Country/getall Body: 
2025-11-14 13:12:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/RoomType/getall - null null
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:49 [DBG] The request path /api/RoomType/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 13:12:49 [INF] Executed action OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation) in 66.9677ms
2025-11-14 13:12:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingResource, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:49 [INF] Request GET /api/RoomType/getall Body: 
2025-11-14 13:12:49 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 13:12:49 [INF] Executed action YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation) in 377.5212ms
2025-11-14 13:12:49 [DBG] Endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)' with route pattern 'api/Country/getall' is valid for the request path '/api/Country/getall'
2025-11-14 13:12:49 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 13:12:49 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)' with route pattern 'api/RoomType/getall' is valid for the request path '/api/RoomType/getall'
2025-11-14 13:12:49 [INF] Executed endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [INF] Response 200 Body: [{"reservationBookingResourceId":1,"bookingResourceName":"On Arrival"},{"reservationBookingResourceId":2,"bookingResourceName":"On Call"},{"reservationBookingResourceId":3,"bookingResourceName":"Booking .com"},{"reservationBookingResourceId":4,"bookingResourceName":"Travel Agent"}]
2025-11-14 13:12:49 [INF] Response 200 Body: [{"customerTypeID":1,"customerTypeCode":"001","description":"Local"},{"customerTypeID":2,"customerTypeCode":"002","description":"Foregien"}]
2025-11-14 13:12:49 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 13:12:49 [INF] Request finished HTTP/2 GET https://localhost:9307/api/BookingResource/getall - 200 null application/json; charset=utf-8 601.5374ms
2025-11-14 13:12:49 [INF] Request finished HTTP/2 GET https://localhost:9307/api/CustomerType/getall - 200 null application/json; charset=utf-8 334.8504ms
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Customer/getall - null null
2025-11-14 13:12:49 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] The request path /api/PackageInfo/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [INF] CORS policy execution successful.
2025-11-14 13:12:49 [DBG] The request path /api/Customer/getall does not match a supported file type
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:49 [DBG] The request path  does not match the path filter
2025-11-14 13:12:49 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:50 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:50 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:50 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:12:50 [INF] Request GET /api/PackageInfo/getall Body: 
2025-11-14 13:12:50 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [INF] Executing endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [INF] Request GET /api/Customer/getall Body: 
2025-11-14 13:12:50 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 13:12:50 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)' with route pattern 'api/Customer/getall' is valid for the request path '/api/Customer/getall'
2025-11-14 13:12:50 [INF] Route matched with {action = "GetAll", controller = "Country"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CountryController (OIT_Reservation).
2025-11-14 13:12:50 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 13:12:50 [INF] Route matched with {action = "GetAll", controller = "RoomType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation).
2025-11-14 13:12:50 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] Endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)' with route pattern 'api/PackageInfo/getall' is valid for the request path '/api/PackageInfo/getall'
2025-11-14 13:12:50 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:50 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:50 [INF] CORS policy execution successful.
2025-11-14 13:12:50 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:50 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:12:50 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:50 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:50 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:50 [INF] CORS policy execution successful.
2025-11-14 13:12:50 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:50 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:50 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:12:50 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:50 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 13:12:50 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:12:50 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 13:12:50 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 13:12:50 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation).
2025-11-14 13:12:50 [INF] Executing endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 13:12:50 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:50 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:50 [INF] Route matched with {action = "GetAll", controller = "PackageInfo"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation).
2025-11-14 13:12:50 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:50 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:50 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:50 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:50 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:50 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:12:50 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:50 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:50 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:12:50 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:50 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:50 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:50 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:12:50 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Country, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:50 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 13:12:50 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:50 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 13:12:50 [INF] Executed action OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation) in 68.4177ms
2025-11-14 13:12:50 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 13:12:50 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:50 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 13:12:50 [INF] Executed endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [INF] Executed action OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation) in 68.3449ms
2025-11-14 13:12:50 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:50 [INF] Response 200 Body: [{"countryID":1,"countryCode":"CC001","description":"SRI LANKA"},{"countryID":2,"countryCode":"CC002","description":"INDIA"},{"countryID":3,"countryCode":"CC003","description":"RUSSIAN FEDERATION"},{"countryID":4,"countryCode":"CC004","description":"UNITED KINGDOM"},{"countryID":5,"countryCode":"CC005","description":"GERMANY"},{"countryID":6,"countryCode":"CC006","description":"CHINA"},{"countryID":7,"countryCode":"CC007","description":"FRANCE"},{"countryID":8,"countryCode":"CC008","description":"AUSTRALIA"},{"countryID":9,"countryCode":"CC009","description":"UNITED STATES"},{"countryID":10,"countryCode":"CC010","description":"NETHERLANDS"},{"countryID":11,"countryCode":"CC011","description":"MALDIVES"},{"countryID":12,"countryCode":"CC012","description":"BANGLADESH"},{"countryID":13,"countryCode":"CC013","description":"CANADA"},{"countryID":14,"countryCode":"CC014","description":"POLAND"},{"countryID":15,"countryCode":"CC015","description":"SWITZERLAND"},{"countryID":16,"countryCode":"CC016","description":"JAPAN"},{"countryID":17,"countryCode":"CC017","description":"AUSTRIA"},{"countryID":18,"countryCode":"CC018","description":"CZECH REPUBLIC"},{"countryID":19,"countryCode":"CC019","description":"ISRAEL"},{"countryID":20,"countryCode":"CC020","description":"SPAIN"},{"countryID":21,"countryCode":"CC021","description":"KAZAKHSTAN"},{"countryID":22,"countryCode":"CC022","description":"SINGAPORE"},{"countryID":23,"countryCode":"CC023","description":"MALAYSIA"},{"countryID":24,"countryCode":"CC024","description":"NORWAY"},{"countryID":25,"countryCode":"CC025","description":"NEW ZEALAND"},{"countryID":26,"countryCode":"CC026","description":"THAILAND"},{"countryID":27,"countryCode":"CC027","description":"ITALY"},{"countryID":28,"countryCode":"CC028","description":"SOUTH KOREA"},{"countryID":29,"countryCode":"CC029","description":"SWEDEN"},{"countryID":30,"countryCode":"CC030","description":"BELGIUM"},{"countryID":31,"countryCode":"CC031","description":"DENMARK"},{"countryID":32,"countryCode":"CC032","description":"UNITED ARAB EMIRATES"},{"countryID":33,"countryCode":"CC033","description":"SAUDI ARABIA"},{"countryID":34,"countryCode":"CC034","description":"IRAN"},{"countryID":35,"countryCode":"CC035","description":"TURKEY"},{"countryID":36,"countryCode":"CC036","description":"KUWAIT"},{"countryID":37,"countryCode":"CC037","description":"OMAN"},{"countryID":38,"countryCode":"CC038","description":"BAHRAIN"},{"countryID":39,"countryCode":"CC039","description":"FINLAND"},{"countryID":40,"countryCode":"CC040","description":"IRELAND"},{"countryID":41,"countryCode":"CC041","description":"PORTUGAL"},{"countryID":42,"countryCode":"CC042","description":"VIETNAM"},{"countryID":43,"countryCode":"CC043","description":"BELARUS"},{"countryID":44,"countryCode":"CC044","description":"UKRAINE"},{"countryID":45,"countryCode":"CC045","description":"SOUTH AFRICA"},{"countryID":46,"countryCode":"CC046","description":"MEXICO"},{"countryID":47,"countryCode":"CC047","description":"SLOVENIA"},{"countryID":48,"countryCode":"CC048","description":"HUNGARY"},{"countryID":49,"countryCode":"CC049","description":"PHILIPPINES"},{"countryID":50,"countryCode":"CC050","description":"INDONESIA"}]
2025-11-14 13:12:50 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Country/getall - 200 null application/json; charset=utf-8 333.4954ms
2025-11-14 13:12:50 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:50 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:12:50 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:12:50 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:50 [INF] Response 200 Body: [{"roomTypeID":1,"roomTypeCode":"RT001","description":"DELUX ","remarks":""},{"roomTypeID":2,"roomTypeCode":"RT002","description":"STANDARD ","remarks":""},{"roomTypeID":3,"roomTypeCode":"RT003","description":"IN-DOOR","remarks":""},{"roomTypeID":4,"roomTypeCode":"RT004","description":"OUT-DOOR","remarks":""},{"roomTypeID":5,"roomTypeCode":"RT005","description":"string","remarks":"string"}]
2025-11-14 13:12:50 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:12:50 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:50 [INF] Request finished HTTP/2 GET https://localhost:9307/api/RoomType/getall - 200 null application/json; charset=utf-8 294.2784ms
2025-11-14 13:12:50 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:12:50 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:50 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:12:50 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PackageInfo, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:50 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:12:50 [INF] Executed action OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation) in 58.6767ms
2025-11-14 13:12:50 [INF] Executed action OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation) in 62.9856ms
2025-11-14 13:12:50 [INF] Executed endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 13:12:50 [INF] Response 200 Body: [{"packageID":1,"packageCode":"PKG0001","packageName":"SINGLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":2,"packageCode":"PKG0002","packageName":"DOUBLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":3,"packageCode":"PKG0003","packageName":"TRIPPLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":10.00,"roomCost":10.00,"roomAmount":42000.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":4,"packageCode":"PKG0004","packageName":"FAMILY ROOM (B/B)","packageDuration":0,"remarks":"","roomPrice":50000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":5,"packageCode":"PKG0005","packageName":"SINGLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":6,"packageCode":"PKG0006","packageName":"DOUBLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":7,"packageCode":"PKG0007","packageName":"TRIPPLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":48000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":8,"packageCode":"PKG0008","packageName":"FAMILY ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":58000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":9,"packageCode":"PKG0009","packageName":"SINGLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":42500.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":10,"packageCode":"PKG0010","packageName":"DOUBLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":45000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":11,"packageCode":"PKG0011","packageName":"TRIPPLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":55500.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":12,"packageCode":"PKG0012","packageName":"FAMILY ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":68000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"}]
2025-11-14 13:12:50 [INF] Response 200 Body: [{"customerTypeCode":"001","customerCode":"G000001","title":"Mr.","name":"SAMPATH","niC_PassportNo":"907656767","nationalityCode":"LKA","countryCode":"CC001","mobile":"0759888811","telephone":"0554567898","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"MAHARAGAMA","whatsapp":"0759888811","remark":""},{"customerTypeCode":"001","customerCode":"G000002","title":"Mr.","name":"Thamalpath","niC_PassportNo":"53269493","nationalityCode":"LKA","countryCode":"CC001","mobile":"071155864","telephone":"","email":"thamal@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"07526648","remark":""},{"customerTypeCode":"001","customerCode":"G000003","title":"Mr.","name":"Sarindu","niC_PassportNo":"5461511988v","nationalityCode":"LKA","countryCode":"CC001","mobile":"071565658","telephone":"","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"0715561185","remark":""},{"customerTypeCode":"001","customerCode":"G000004","title":"Mr.","name":"Navoda","niC_PassportNo":"200130500240","nationalityCode":"LKA","countryCode":"CC001","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"bandarawela","whatsapp":"0123456789","remark":"Testing"}]
2025-11-14 13:12:50 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - 200 null application/json; charset=utf-8 242.378ms
2025-11-14 13:12:50 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Customer/getall - 200 null application/json; charset=utf-8 249.9988ms
2025-11-14 13:31:46 [DBG] Connection id "0HNH394BIOHHH" received FIN.
2025-11-14 13:31:46 [DBG] Connection id "0HNH394BIOHHH" is closed. The last processed stream ID was 47.
2025-11-14 13:31:46 [DBG] The connection queue processing loop for 0HNH394BIOHHH completed.
2025-11-14 13:31:46 [DBG] Connection id "0HNH394BIOHHH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 13:31:46 [DBG] Connection id "0HNH394BIOHHH" stopped.
2025-11-14 13:58:47 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 13:58:47 [DBG] Hosting starting
2025-11-14 13:58:47 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 13:58:47 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 13:58:47 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 13:58:47 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 13:58:47 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 13:58:47 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 13:58:47 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 13:58:47 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 13:58:47 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 13:58:47 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 13:58:47 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 13:58:47 [DBG] Middleware loaded
2025-11-14 13:58:47 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 13:58:47 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 13:58:47 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 13:58:47 [INF] Now listening on: https://localhost:9307
2025-11-14 13:58:47 [INF] Now listening on: http://localhost:9308
2025-11-14 13:58:47 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 13:58:47 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 13:58:47 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 13:58:47 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 13:58:47 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 13:58:47 [INF] Hosting environment: Development
2025-11-14 13:58:47 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 13:58:47 [DBG] Hosting started
2025-11-14 13:58:48 [DBG] Connection id "0HNH3AVALF4BF" received FIN.
2025-11-14 13:58:48 [DBG] Connection id "0HNH3AVALF4BF" accepted.
2025-11-14 13:58:48 [DBG] Connection id "0HNH3AVALF4BF" started.
2025-11-14 13:58:48 [DBG] Connection id "0HNH3AVALF4BG" accepted.
2025-11-14 13:58:48 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 13:58:48 [DBG] Connection id "0HNH3AVALF4BG" started.
2025-11-14 13:58:48 [DBG] Connection id "0HNH3AVALF4BF" stopped.
2025-11-14 13:58:48 [DBG] Connection id "0HNH3AVALF4BF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 13:58:48 [DBG] Connection 0HNH3AVALF4BG established using the following protocol: "Tls12"
2025-11-14 13:58:48 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 13:58:48 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 13:58:48 [DBG] The request path  does not match the path filter
2025-11-14 13:58:48 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 13:58:48 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 13:58:48 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 13:58:48 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 13:58:48 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 252.2991ms
2025-11-14 13:58:48 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 13:58:48 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 13:58:48 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 13:58:48 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 24.83ms
2025-11-14 13:58:48 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.0997ms
2025-11-14 13:58:49 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 13:58:49 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.064ms
2025-11-14 13:59:00 [DBG] Connection id "0HNH3AVALF4BH" accepted.
2025-11-14 13:59:00 [DBG] Connection id "0HNH3AVALF4BH" started.
2025-11-14 13:59:00 [DBG] Connection 0HNH3AVALF4BH established using the following protocol: "Tls12"
2025-11-14 13:59:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 13:59:00 [DBG] OPTIONS requests are not supported
2025-11-14 13:59:00 [DBG] OPTIONS requests are not supported
2025-11-14 13:59:00 [DBG] OPTIONS requests are not supported
2025-11-14 13:59:00 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:59:00 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 13:59:00 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 13:59:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 13:59:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:59:00 [INF] CORS policy execution successful.
2025-11-14 13:59:00 [DBG] The request is a preflight request.
2025-11-14 13:59:00 [INF] Response 204 Body: 
2025-11-14 13:59:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 98.7611ms
2025-11-14 13:59:00 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 621
2025-11-14 13:59:00 [DBG] POST requests are not supported
2025-11-14 13:59:00 [DBG] POST requests are not supported
2025-11-14 13:59:00 [DBG] POST requests are not supported
2025-11-14 13:59:00 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 13:59:00 [DBG] Connection id "0HNH3AVALF4BH", Request id "0HNH3AVALF4BH:00000003": started reading request body.
2025-11-14 13:59:00 [DBG] Connection id "0HNH3AVALF4BH", Request id "0HNH3AVALF4BH:00000003": done reading request body.
2025-11-14 13:59:00 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"","reservationDate":"2025-11-14","reservationType":1,"customerCode":"","mobile":"","telephone":"","email":"","travelAgentCode":"","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":0,"noOfAdults":0,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":0,"discountPer":0,"discount":0,"grossAmount":0,"paidAmount":0,"dueAmount":0,"reservationNote":"","refundAmount":0,"refundNote":"","referenceNo":"","packageCode":"","bookingResourceId":0,"bookingReferenceNo":"","reservationStatus":"","user":"Admin","roomDetails":[],"serviceDetails":[],"roomPayDetails":[]}
2025-11-14 13:59:00 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 13:59:00 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 13:59:00 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 13:59:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 13:59:00 [INF] CORS policy execution successful.
2025-11-14 13:59:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 13:59:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 13:59:00 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 13:59:00 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 13:59:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 13:59:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 13:59:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 13:59:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 13:59:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 13:59:00 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 13:59:00 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 13:59:00 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 13:59:00 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 13:59:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 13:59:00 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 13:59:00 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 13:59:00 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 13:59:00 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 13:59:00 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 13:59:00 [INF] Saving reservation for customer: 
2025-11-14 13:59:00 [ERR] Error saving reservation for customer: 
System.Exception: An error occurred while saving reservation.
   at RoomReservationService.SaveOrUpdateReservationAsync(ReservationDto dto) in D:\Navoda\Projects\backend\Services\RoomReservationService.cs:line 289
   at RoomReservationController.SaveReservation(ReservationDto reservation) in D:\Navoda\Projects\backend\Controllers\RoomReservationController.cs:line 34
2025-11-14 13:59:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 13:59:00 [DBG] No information found on request to perform content negotiation.
2025-11-14 13:59:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 13:59:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 13:59:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 13:59:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 13:59:00 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 386.9377ms
2025-11-14 13:59:00 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 13:59:00 [INF] Response 500 Body: {"message":"An error occurred while saving the reservation","error":"An error occurred while saving reservation."}
2025-11-14 13:59:00 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 500 null application/json; charset=utf-8 596.655ms
2025-11-14 14:01:46 [DBG] Connection id "0HNH3AVALF4BG" received FIN.
2025-11-14 14:01:46 [DBG] Connection id "0HNH3AVALF4BH" received FIN.
2025-11-14 14:01:46 [DBG] The connection queue processing loop for 0HNH3AVALF4BG completed.
2025-11-14 14:01:46 [DBG] The connection queue processing loop for 0HNH3AVALF4BH completed.
2025-11-14 14:01:46 [DBG] Connection id "0HNH3AVALF4BH" is closed. The last processed stream ID was 3.
2025-11-14 14:01:46 [DBG] Connection id "0HNH3AVALF4BG" is closed. The last processed stream ID was 7.
2025-11-14 14:01:46 [DBG] Connection id "0HNH3AVALF4BH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:01:46 [DBG] Connection id "0HNH3AVALF4BG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:01:46 [DBG] Connection id "0HNH3AVALF4BH" stopped.
2025-11-14 14:01:46 [DBG] Connection id "0HNH3AVALF4BG" stopped.
2025-11-14 14:06:55 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:06:55 [DBG] Hosting starting
2025-11-14 14:06:55 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:06:55 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:06:55 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:06:55 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:06:55 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:06:55 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:06:55 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:06:55 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:06:55 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:06:55 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:06:55 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:06:55 [DBG] Middleware loaded
2025-11-14 14:06:55 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:06:55 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:06:56 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:06:56 [INF] Now listening on: https://localhost:9307
2025-11-14 14:06:56 [INF] Now listening on: http://localhost:9308
2025-11-14 14:06:56 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:06:56 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:06:56 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:06:56 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:06:56 [DBG] Connection id "0HNH3B3S48B9A" accepted.
2025-11-14 14:06:56 [DBG] Connection id "0HNH3B3S48B9A" started.
2025-11-14 14:06:56 [DBG] Connection id "0HNH3B3S48B9A" received FIN.
2025-11-14 14:06:56 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:06:56 [INF] Hosting environment: Development
2025-11-14 14:06:56 [DBG] Connection id "0HNH3B3S48B9B" accepted.
2025-11-14 14:06:56 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:06:56 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:06:56 [DBG] Hosting started
2025-11-14 14:06:56 [DBG] Connection id "0HNH3B3S48B9B" started.
2025-11-14 14:06:56 [DBG] Connection id "0HNH3B3S48B9A" stopped.
2025-11-14 14:06:56 [DBG] Connection id "0HNH3B3S48B9A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:06:56 [DBG] Connection 0HNH3B3S48B9B established using the following protocol: "Tls12"
2025-11-14 14:06:56 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:06:57 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:06:57 [DBG] The request path  does not match the path filter
2025-11-14 14:06:57 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:06:57 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:06:57 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:06:57 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:06:57 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 332.1693ms
2025-11-14 14:06:57 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:06:57 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:06:57 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:06:57 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 20.9242ms
2025-11-14 14:06:57 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.7235ms
2025-11-14 14:06:57 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:06:57 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.4658ms
2025-11-14 14:07:03 [DBG] Connection id "0HNH3B3S48B9C" accepted.
2025-11-14 14:07:03 [DBG] Connection id "0HNH3B3S48B9C" started.
2025-11-14 14:07:03 [DBG] Connection 0HNH3B3S48B9C established using the following protocol: "Tls12"
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - null null
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - null null
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] Request OPTIONS /api/BookingResource/getall Body: 
2025-11-14 14:07:03 [INF] Request OPTIONS /api/Country/getall Body: 
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [INF] Request OPTIONS /api/Customer/getall Body: 
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - null null
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - null null
2025-11-14 14:07:03 [INF] Request OPTIONS /api/ReservationStatus/getall Body: 
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] Request OPTIONS /api/PackageInfo/getall Body: 
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - null null
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] Request OPTIONS /api/RoomType/getall Body: 
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] Request OPTIONS /api/PayType/getall Body: 
2025-11-14 14:07:03 [INF] Request OPTIONS /api/ServiceType/getall Body: 
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [INF] Request OPTIONS /api/Room/getall Body: 
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - 204 null null 98.7712ms
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - 204 null null 105.4069ms
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - 204 null null 71.6002ms
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - 204 null null 188.2951ms
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - 204 null null 95.0155ms
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - null null
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [INF] Request OPTIONS /api/CustomerType/getall Body: 
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [INF] Request OPTIONS /api/TravelAgent/getall Body: 
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [INF] Request OPTIONS /api/Nationality/getall Body: 
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - 204 null null 253.4242ms
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - 204 null null 177.6068ms
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [INF] Request starting HTTP/2 GET https://localhost:9307/api/RoomType/getall - null null
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [DBG] The request path /api/RoomType/getall does not match a supported file type
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - 204 null null 101.4274ms
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - 204 null null 97.9277ms
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - 204 null null 99.4166ms
2025-11-14 14:07:03 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PayType/getall - null null
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Room/getall - null null
2025-11-14 14:07:03 [INF] Request starting HTTP/2 GET https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [INF] Request GET /api/RoomType/getall Body: 
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [DBG] The request path /api/PayType/getall does not match a supported file type
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - 204 null null 332.4497ms
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 14:07:03 [DBG] The request path /api/BookingResource/getall does not match a supported file type
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [DBG] The request path /api/Room/getall does not match a supported file type
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)' with route pattern 'api/RoomType/getall' is valid for the request path '/api/RoomType/getall'
2025-11-14 14:07:03 [INF] Request GET /api/Room/getall Body: 
2025-11-14 14:07:03 [INF] Request GET /api/PayType/getall Body: 
2025-11-14 14:07:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] Request GET /api/BookingResource/getall Body: 
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)' with route pattern 'api/Room/getall' is valid for the request path '/api/Room/getall'
2025-11-14 14:07:03 [DBG] Endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)' with route pattern 'api/PayType/getall' is valid for the request path '/api/PayType/getall'
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 14:07:03 [DBG] Request matched endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 14:07:03 [DBG] The request is a preflight request.
2025-11-14 14:07:03 [DBG] Endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)' with route pattern 'api/BookingResource/getall' is valid for the request path '/api/BookingResource/getall'
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [DBG] Request matched endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 14:07:03 [INF] Response 204 Body: 
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - 204 null null 416.4255ms
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [DBG] The request path /api/ServiceType/getall does not match a supported file type
2025-11-14 14:07:03 [DBG] The request path  does not match the path filter
2025-11-14 14:07:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:03 [INF] Request GET /api/ServiceType/getall Body: 
2025-11-14 14:07:03 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 14:07:03 [DBG] Endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)' with route pattern 'api/ServiceType/getall' is valid for the request path '/api/ServiceType/getall'
2025-11-14 14:07:03 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:07:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:03 [INF] CORS policy execution successful.
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Executing endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Executing endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Route matched with {action = "GetAll", controller = "Room"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomController (OIT_Reservation).
2025-11-14 14:07:04 [INF] Route matched with {action = "GetAll", controller = "BookingResource"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation).
2025-11-14 14:07:04 [INF] Route matched with {action = "GetActivePayTypes", controller = "PayType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PayType]] GetActivePayTypes() on controller PayTypeController (OIT_Reservation).
2025-11-14 14:07:04 [INF] Route matched with {action = "GetAll", controller = "RoomType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation).
2025-11-14 14:07:04 [INF] Route matched with {action = "GetAll", controller = "ServiceType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation).
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executing controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executing controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executed controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executed controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 14:07:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Country/getall - null null
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The request path /api/Country/getall does not match a supported file type
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:04 [INF] Request GET /api/Country/getall Body: 
2025-11-14 14:07:04 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 14:07:04 [DBG] Endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)' with route pattern 'api/Country/getall' is valid for the request path '/api/Country/getall'
2025-11-14 14:07:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:04 [INF] CORS policy execution successful.
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Route matched with {action = "GetAll", controller = "Country"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CountryController (OIT_Reservation).
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Room, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PayType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Country, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:04 [INF] Executed action OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation) in 415.1382ms
2025-11-14 14:07:04 [INF] Executed action OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation) in 173.3482ms
2025-11-14 14:07:04 [INF] Executed action PayTypeController.GetActivePayTypes (OIT_Reservation) in 415.3175ms
2025-11-14 14:07:04 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Executed action OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation) in 416.1104ms
2025-11-14 14:07:04 [INF] Executed endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Executed action OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation) in 415.6561ms
2025-11-14 14:07:04 [INF] Executed endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Response 200 Body: [{"roomID":1,"roomTypeCode":"RT001","roomCode":"R0001","description":"VILLA-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":2,"roomTypeCode":"RT001","roomCode":"R0002","description":"VILLA-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":3,"roomTypeCode":"RT001","roomCode":"R0003","description":"VILLA-03","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":4,"roomTypeCode":"RT001","roomCode":"R0004","description":"VILLA-04","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":5,"roomTypeCode":"RT001","roomCode":"R0005","description":"VILLA-05","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":6,"roomTypeCode":"RT001","roomCode":"R0006","description":"VILLA-06","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":7,"roomTypeCode":"RT001","roomCode":"R0007","description":"VILLA-07","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":8,"roomTypeCode":"RT001","roomCode":"R0008","description":"VILLA-08","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":9,"roomTypeCode":"RT001","roomCode":"R0009","description":"VILLA-09","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":10,"roomTypeCode":"","roomCode":"R0010","description":"ROOM-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":11,"roomTypeCode":"RT001","roomCode":"R0011","description":"ROOM-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false}]
2025-11-14 14:07:04 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Response 200 Body: [{"countryID":1,"countryCode":"CC001","description":"SRI LANKA"},{"countryID":2,"countryCode":"CC002","description":"INDIA"},{"countryID":3,"countryCode":"CC003","description":"RUSSIAN FEDERATION"},{"countryID":4,"countryCode":"CC004","description":"UNITED KINGDOM"},{"countryID":5,"countryCode":"CC005","description":"GERMANY"},{"countryID":6,"countryCode":"CC006","description":"CHINA"},{"countryID":7,"countryCode":"CC007","description":"FRANCE"},{"countryID":8,"countryCode":"CC008","description":"AUSTRALIA"},{"countryID":9,"countryCode":"CC009","description":"UNITED STATES"},{"countryID":10,"countryCode":"CC010","description":"NETHERLANDS"},{"countryID":11,"countryCode":"CC011","description":"MALDIVES"},{"countryID":12,"countryCode":"CC012","description":"BANGLADESH"},{"countryID":13,"countryCode":"CC013","description":"CANADA"},{"countryID":14,"countryCode":"CC014","description":"POLAND"},{"countryID":15,"countryCode":"CC015","description":"SWITZERLAND"},{"countryID":16,"countryCode":"CC016","description":"JAPAN"},{"countryID":17,"countryCode":"CC017","description":"AUSTRIA"},{"countryID":18,"countryCode":"CC018","description":"CZECH REPUBLIC"},{"countryID":19,"countryCode":"CC019","description":"ISRAEL"},{"countryID":20,"countryCode":"CC020","description":"SPAIN"},{"countryID":21,"countryCode":"CC021","description":"KAZAKHSTAN"},{"countryID":22,"countryCode":"CC022","description":"SINGAPORE"},{"countryID":23,"countryCode":"CC023","description":"MALAYSIA"},{"countryID":24,"countryCode":"CC024","description":"NORWAY"},{"countryID":25,"countryCode":"CC025","description":"NEW ZEALAND"},{"countryID":26,"countryCode":"CC026","description":"THAILAND"},{"countryID":27,"countryCode":"CC027","description":"ITALY"},{"countryID":28,"countryCode":"CC028","description":"SOUTH KOREA"},{"countryID":29,"countryCode":"CC029","description":"SWEDEN"},{"countryID":30,"countryCode":"CC030","description":"BELGIUM"},{"countryID":31,"countryCode":"CC031","description":"DENMARK"},{"countryID":32,"countryCode":"CC032","description":"UNITED ARAB EMIRATES"},{"countryID":33,"countryCode":"CC033","description":"SAUDI ARABIA"},{"countryID":34,"countryCode":"CC034","description":"IRAN"},{"countryID":35,"countryCode":"CC035","description":"TURKEY"},{"countryID":36,"countryCode":"CC036","description":"KUWAIT"},{"countryID":37,"countryCode":"CC037","description":"OMAN"},{"countryID":38,"countryCode":"CC038","description":"BAHRAIN"},{"countryID":39,"countryCode":"CC039","description":"FINLAND"},{"countryID":40,"countryCode":"CC040","description":"IRELAND"},{"countryID":41,"countryCode":"CC041","description":"PORTUGAL"},{"countryID":42,"countryCode":"CC042","description":"VIETNAM"},{"countryID":43,"countryCode":"CC043","description":"BELARUS"},{"countryID":44,"countryCode":"CC044","description":"UKRAINE"},{"countryID":45,"countryCode":"CC045","description":"SOUTH AFRICA"},{"countryID":46,"countryCode":"CC046","description":"MEXICO"},{"countryID":47,"countryCode":"CC047","description":"SLOVENIA"},{"countryID":48,"countryCode":"CC048","description":"HUNGARY"},{"countryID":49,"countryCode":"CC049","description":"PHILIPPINES"},{"countryID":50,"countryCode":"CC050","description":"INDONESIA"}]
2025-11-14 14:07:04 [INF] Executed endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Response 200 Body: [{"serviceTypeID":1,"serviceCode":"SRV0001","serviceName":"00123","quantity":2,"serviceAmount":2000,"remarks":"Testing","isRoom":true,"isBanquet":false,"type":"Room"}]
2025-11-14 14:07:04 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Room/getall - 200 null application/json; charset=utf-8 781.3565ms
2025-11-14 14:07:04 [INF] Response 200 Body: [{"roomTypeID":1,"roomTypeCode":"RT001","description":"DELUX ","remarks":""},{"roomTypeID":2,"roomTypeCode":"RT002","description":"STANDARD ","remarks":""},{"roomTypeID":3,"roomTypeCode":"RT003","description":"IN-DOOR","remarks":""},{"roomTypeID":4,"roomTypeCode":"RT004","description":"OUT-DOOR","remarks":""},{"roomTypeID":5,"roomTypeCode":"RT005","description":"string","remarks":"string"}]
2025-11-14 14:07:04 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Country/getall - 200 null application/json; charset=utf-8 261.2784ms
2025-11-14 14:07:04 [INF] Response 200 Body: [{"paymentID":1,"descrip":"CASH","isSwipe":false,"type":"0","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":false,"printDescrip":"CASH","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":2,"descrip":"MASTER CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"MASTER CAR","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":3,"descrip":"VISA CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"VISA CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":true},{"paymentID":4,"descrip":"AMEX CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"AMEX CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false}]
2025-11-14 14:07:04 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ServiceType/getall - 200 null application/json; charset=utf-8 669.4787ms
2025-11-14 14:07:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 14:07:04 [INF] Request finished HTTP/2 GET https://localhost:9307/api/RoomType/getall - 200 null application/json; charset=utf-8 845.0875ms
2025-11-14 14:07:04 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PayType/getall - 200 null application/json; charset=utf-8 815.1325ms
2025-11-14 14:07:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 14:07:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Nationality/getall - null null
2025-11-14 14:07:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The request path /api/PackageInfo/getall does not match a supported file type
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The request path /api/TravelAgent/getall does not match a supported file type
2025-11-14 14:07:04 [DBG] The request path /api/Nationality/getall does not match a supported file type
2025-11-14 14:07:04 [DBG] The request path /api/CustomerType/getall does not match a supported file type
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The request path /api/ReservationStatus/getall does not match a supported file type
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:04 [DBG] The request path  does not match the path filter
2025-11-14 14:07:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:04 [INF] Request GET /api/PackageInfo/getall Body: 
2025-11-14 14:07:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:04 [INF] Request GET /api/ReservationStatus/getall Body: 
2025-11-14 14:07:04 [INF] Request GET /api/Nationality/getall Body: 
2025-11-14 14:07:04 [INF] Request GET /api/CustomerType/getall Body: 
2025-11-14 14:07:04 [INF] Request GET /api/TravelAgent/getall Body: 
2025-11-14 14:07:04 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 14:07:04 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 14:07:04 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 14:07:04 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 14:07:04 [DBG] Endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)' with route pattern 'api/PackageInfo/getall' is valid for the request path '/api/PackageInfo/getall'
2025-11-14 14:07:04 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 14:07:04 [DBG] Endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)' with route pattern 'api/ReservationStatus/getall' is valid for the request path '/api/ReservationStatus/getall'
2025-11-14 14:07:04 [DBG] Endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)' with route pattern 'api/Nationality/getall' is valid for the request path '/api/Nationality/getall'
2025-11-14 14:07:04 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)' with route pattern 'api/CustomerType/getall' is valid for the request path '/api/CustomerType/getall'
2025-11-14 14:07:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [DBG] Endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)' with route pattern 'api/TravelAgent/getall' is valid for the request path '/api/TravelAgent/getall'
2025-11-14 14:07:04 [DBG] Request matched endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 14:07:04 [DBG] Request matched endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 14:07:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 14:07:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:04 [INF] CORS policy execution successful.
2025-11-14 14:07:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:04 [INF] CORS policy execution successful.
2025-11-14 14:07:04 [INF] CORS policy execution successful.
2025-11-14 14:07:04 [INF] CORS policy execution successful.
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] CORS policy execution successful.
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:04 [INF] Route matched with {action = "CustomerTypes", controller = "CustomerType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CustomerType]] CustomerTypes() on controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation).
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Route matched with {action = "GetAll", controller = "TravelAgent"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation).
2025-11-14 14:07:04 [INF] Executing endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:04 [INF] Executing endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 14:07:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [INF] Route matched with {action = "GetAllNationalities", controller = "Nationality"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllNationalities() on controller NationalityController (OIT_Reservation).
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [INF] Route matched with {action = "GetVisibleStatuses", controller = "ReservationStatus"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ReservationStatus]] GetVisibleStatuses() on controller ReservationStatusController (OIT_Reservation).
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [INF] Route matched with {action = "GetAll", controller = "PackageInfo"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation).
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Executing controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 14:07:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:04 [DBG] Executed controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] Executing controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:05 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:05 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:05 [DBG] Executed controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:05 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:05 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationStatus, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Nationality, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:05 [INF] Executed action ReservationStatusController.GetVisibleStatuses (OIT_Reservation) in 450.2096ms
2025-11-14 14:07:05 [INF] Executed action NationalityController.GetAllNationalities (OIT_Reservation) in 250.8622ms
2025-11-14 14:07:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelAgent, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:05 [INF] Executed endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Executed endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PackageInfo, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:05 [INF] Executed action OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation) in 78.1459ms
2025-11-14 14:07:05 [INF] Executed action OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation) in 87.1312ms
2025-11-14 14:07:05 [INF] Response 200 Body: [{"statusId":1,"statusName":"Booked","rowNo":1,"statusType":"1","colorCode":"#FFA500","isShow":true},{"statusId":2,"statusName":"Confirmed","rowNo":2,"statusType":"2","colorCode":"#5EFB6E","isShow":true},{"statusId":3,"statusName":"Checked In","rowNo":3,"statusType":"3","colorCode":"#6495ED","isShow":true},{"statusId":4,"statusName":"Checked Out","rowNo":4,"statusType":"4","colorCode":"#FFF8DC","isShow":true},{"statusId":6,"statusName":"Finalized","rowNo":6,"statusType":"6","colorCode":"#3de3cc","isShow":true}]
2025-11-14 14:07:05 [INF] Response 200 Body: [{"nationalityID":1,"nationalityCode":"LKA","description":"Sri Lankan"},{"nationalityID":2,"nationalityCode":"IND","description":"Indian"},{"nationalityID":3,"nationalityCode":"PAK","description":"Pakistani"},{"nationalityID":4,"nationalityCode":"BGD","description":"Bangladeshi"},{"nationalityID":5,"nationalityCode":"NPL","description":"Nepali"},{"nationalityID":6,"nationalityCode":"CHN","description":"Chinese"},{"nationalityID":7,"nationalityCode":"JPN","description":"Japanese"},{"nationalityID":8,"nationalityCode":"USA","description":"American"},{"nationalityID":9,"nationalityCode":"GBR","description":"British"},{"nationalityID":10,"nationalityCode":"CAN","description":"Canadian"},{"nationalityID":11,"nationalityCode":"AUS","description":"Australian"},{"nationalityID":12,"nationalityCode":"DEU","description":"German"},{"nationalityID":13,"nationalityCode":"FRA","description":"French"},{"nationalityID":14,"nationalityCode":"ITA","description":"Italian"},{"nationalityID":15,"nationalityCode":"RUS","description":"Russian"},{"nationalityID":16,"nationalityCode":"SAU","description":"Saudi"},{"nationalityID":17,"nationalityCode":"ARE","description":"Emirati"},{"nationalityID":18,"nationalityCode":"SGP","description":"Singaporean"},{"nationalityID":19,"nationalityCode":"THA","description":"Thai"},{"nationalityID":20,"nationalityCode":"MYS","description":"Malaysian"}]
2025-11-14 14:07:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Executed action OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation) in 93.9975ms
2025-11-14 14:07:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - 200 null application/json; charset=utf-8 728.9915ms
2025-11-14 14:07:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Nationality/getall - 200 null application/json; charset=utf-8 757.5272ms
2025-11-14 14:07:05 [INF] Response 200 Body: [{"customerTypeID":1,"customerTypeCode":"001","description":"Local"},{"customerTypeID":2,"customerTypeCode":"002","description":"Foregien"}]
2025-11-14 14:07:05 [INF] Response 200 Body: [{"travelAgentID":1,"travelAgentCode":"TA001","description":"AITKEN SPENSE"},{"travelAgentID":2,"travelAgentCode":"TA002","description":"JETWIN TRAVELS"}]
2025-11-14 14:07:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Customer/getall - null null
2025-11-14 14:07:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/CustomerType/getall - 200 null application/json; charset=utf-8 781.0212ms
2025-11-14 14:07:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - 200 null application/json; charset=utf-8 776.3711ms
2025-11-14 14:07:05 [INF] Response 200 Body: [{"packageID":1,"packageCode":"PKG0001","packageName":"SINGLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":2,"packageCode":"PKG0002","packageName":"DOUBLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":3,"packageCode":"PKG0003","packageName":"TRIPPLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":10.00,"roomCost":10.00,"roomAmount":42000.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":4,"packageCode":"PKG0004","packageName":"FAMILY ROOM (B/B)","packageDuration":0,"remarks":"","roomPrice":50000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":5,"packageCode":"PKG0005","packageName":"SINGLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":6,"packageCode":"PKG0006","packageName":"DOUBLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":7,"packageCode":"PKG0007","packageName":"TRIPPLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":48000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":8,"packageCode":"PKG0008","packageName":"FAMILY ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":58000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":9,"packageCode":"PKG0009","packageName":"SINGLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":42500.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":10,"packageCode":"PKG0010","packageName":"DOUBLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":45000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":11,"packageCode":"PKG0011","packageName":"TRIPPLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":55500.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":12,"packageCode":"PKG0012","packageName":"FAMILY ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":68000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"}]
2025-11-14 14:07:05 [DBG] The request path  does not match the path filter
2025-11-14 14:07:05 [DBG] The request path /api/Customer/getall does not match a supported file type
2025-11-14 14:07:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - 200 null application/json; charset=utf-8 821.8576ms
2025-11-14 14:07:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:05 [DBG] The request path  does not match the path filter
2025-11-14 14:07:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:05 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:05 [INF] Request GET /api/Customer/getall Body: 
2025-11-14 14:07:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:05 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 14:07:05 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)' with route pattern 'api/Customer/getall' is valid for the request path '/api/Customer/getall'
2025-11-14 14:07:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:05 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingResource, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:05 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:05 [INF] CORS policy execution successful.
2025-11-14 14:07:05 [INF] Executed action YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation) in 1308.0403ms
2025-11-14 14:07:05 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:05 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:05 [INF] Executed endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Response 200 Body: [{"reservationBookingResourceId":1,"bookingResourceName":"On Arrival"},{"reservationBookingResourceId":2,"bookingResourceName":"On Call"},{"reservationBookingResourceId":3,"bookingResourceName":"Booking .com"},{"reservationBookingResourceId":4,"bookingResourceName":"Travel Agent"}]
2025-11-14 14:07:05 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation).
2025-11-14 14:07:05 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/BookingResource/getall - 200 null application/json; charset=utf-8 1695.3723ms
2025-11-14 14:07:05 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:05 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:05 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:05 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:05 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 14:07:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:07:05 [INF] Executed action OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation) in 95.9169ms
2025-11-14 14:07:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 14:07:05 [INF] Response 200 Body: [{"customerTypeCode":"001","customerCode":"G000001","title":"Mr.","name":"SAMPATH","niC_PassportNo":"907656767","nationalityCode":"LKA","countryCode":"CC001","mobile":"0759888811","telephone":"0554567898","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"MAHARAGAMA","whatsapp":"0759888811","remark":""},{"customerTypeCode":"001","customerCode":"G000002","title":"Mr.","name":"Thamalpath","niC_PassportNo":"53269493","nationalityCode":"LKA","countryCode":"CC001","mobile":"071155864","telephone":"","email":"thamal@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"07526648","remark":""},{"customerTypeCode":"001","customerCode":"G000003","title":"Mr.","name":"Sarindu","niC_PassportNo":"5461511988v","nationalityCode":"LKA","countryCode":"CC001","mobile":"071565658","telephone":"","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"0715561185","remark":""},{"customerTypeCode":"001","customerCode":"G000004","title":"Mr.","name":"Navoda","niC_PassportNo":"200130500240","nationalityCode":"LKA","countryCode":"CC001","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"bandarawela","whatsapp":"0123456789","remark":"Testing"}]
2025-11-14 14:07:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Customer/getall - 200 null application/json; charset=utf-8 267.4891ms
2025-11-14 14:07:22 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:07:22 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:22 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:22 [DBG] OPTIONS requests are not supported
2025-11-14 14:07:22 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:22 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:07:22 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:07:22 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:07:22 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:22 [INF] CORS policy execution successful.
2025-11-14 14:07:22 [DBG] The request is a preflight request.
2025-11-14 14:07:22 [INF] Response 204 Body: 
2025-11-14 14:07:22 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 23.1901ms
2025-11-14 14:07:22 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 690
2025-11-14 14:07:22 [DBG] POST requests are not supported
2025-11-14 14:07:22 [DBG] POST requests are not supported
2025-11-14 14:07:22 [DBG] POST requests are not supported
2025-11-14 14:07:22 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:07:22 [DBG] Connection id "0HNH3B3S48B9C", Request id "0HNH3B3S48B9C:00000033": started reading request body.
2025-11-14 14:07:22 [DBG] Connection id "0HNH3B3S48B9C", Request id "0HNH3B3S48B9C:00000033": done reading request body.
2025-11-14 14:07:22 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":0,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":0,"discountPer":0,"discount":0,"grossAmount":0,"paidAmount":0,"dueAmount":0,"reservationNote":"Testing","refundAmount":0,"refundNote":"","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[],"serviceDetails":[],"roomPayDetails":[]}
2025-11-14 14:07:22 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:07:22 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:07:22 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:07:22 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:07:22 [INF] CORS policy execution successful.
2025-11-14 14:07:22 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:07:22 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:07:22 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:07:22 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:07:22 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:07:22 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:07:22 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:07:22 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:07:22 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:07:22 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:07:22 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:07:22 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:07:22 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:07:22 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:07:22 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:07:22 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:07:22 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:07:22 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:07:22 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:07:22 [INF] Saving reservation for customer: G000004
2025-11-14 14:07:22 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:07:22 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:07:22 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:07:22 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:07:22 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:07:22 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:07:22 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:07:22 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 212.3861ms
2025-11-14 14:07:22 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:07:22 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:07:22 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 284.5856ms
2025-11-14 14:08:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:08:00 [DBG] OPTIONS requests are not supported
2025-11-14 14:08:00 [DBG] OPTIONS requests are not supported
2025-11-14 14:08:00 [DBG] OPTIONS requests are not supported
2025-11-14 14:08:00 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:08:00 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:08:00 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:08:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:08:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:08:00 [INF] CORS policy execution successful.
2025-11-14 14:08:00 [DBG] The request is a preflight request.
2025-11-14 14:08:00 [INF] Response 204 Body: 
2025-11-14 14:08:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 27.207ms
2025-11-14 14:08:00 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:08:00 [DBG] POST requests are not supported
2025-11-14 14:08:00 [DBG] POST requests are not supported
2025-11-14 14:08:00 [DBG] POST requests are not supported
2025-11-14 14:08:00 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:08:00 [DBG] Connection id "0HNH3B3S48B9C", Request id "0HNH3B3S48B9C:00000037": started reading request body.
2025-11-14 14:08:00 [DBG] Connection id "0HNH3B3S48B9C", Request id "0HNH3B3S48B9C:00000037": done reading request body.
2025-11-14 14:08:00 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:08:00 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:08:00 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:08:00 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:08:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:08:00 [INF] CORS policy execution successful.
2025-11-14 14:08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:08:00 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:08:00 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:08:00 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:08:00 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:08:00 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:08:00 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:08:01 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:08:01 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:08:01 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:08:01 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:08:01 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:08:01 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:08:01 [INF] Saving reservation for customer: G000004
2025-11-14 14:08:01 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:08:01 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:08:01 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:08:01 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:08:01 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:08:01 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:08:01 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:08:01 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 154.2772ms
2025-11-14 14:08:01 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:08:01 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:08:01 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 216.5589ms
2025-11-14 14:14:05 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:14:05 [DBG] Hosting starting
2025-11-14 14:14:05 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:14:05 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:14:05 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:14:05 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:14:05 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:14:05 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:14:05 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:14:05 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:14:05 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:14:05 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:14:05 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:14:05 [DBG] Middleware loaded
2025-11-14 14:14:05 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:14:05 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:14:05 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:14:05 [INF] Now listening on: https://localhost:9307
2025-11-14 14:14:05 [INF] Now listening on: http://localhost:9308
2025-11-14 14:14:05 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:14:05 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:14:05 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:14:05 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:14:05 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:14:05 [INF] Hosting environment: Development
2025-11-14 14:14:05 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:14:05 [DBG] Hosting started
2025-11-14 14:14:05 [DBG] Connection id "0HNH3B7S3S66U" received FIN.
2025-11-14 14:14:05 [DBG] Connection id "0HNH3B7S3S66U" accepted.
2025-11-14 14:14:05 [DBG] Connection id "0HNH3B7S3S66U" started.
2025-11-14 14:14:05 [DBG] Connection id "0HNH3B7S3S66V" accepted.
2025-11-14 14:14:05 [DBG] Connection id "0HNH3B7S3S66V" started.
2025-11-14 14:14:05 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:14:06 [DBG] Connection id "0HNH3B7S3S66U" stopped.
2025-11-14 14:14:06 [DBG] Connection 0HNH3B7S3S66V established using the following protocol: "Tls12"
2025-11-14 14:14:06 [DBG] Connection id "0HNH3B7S3S66U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:14:06 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:14:06 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:14:06 [DBG] The request path  does not match the path filter
2025-11-14 14:14:06 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:14:06 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:14:06 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:14:06 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:14:06 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 336.3699ms
2025-11-14 14:14:06 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:14:06 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:14:06 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:14:06 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 35.4575ms
2025-11-14 14:14:06 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 122.4052ms
2025-11-14 14:14:06 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:14:06 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.7585ms
2025-11-14 14:14:33 [DBG] Connection id "0HNH3B7S3S670" accepted.
2025-11-14 14:14:33 [DBG] Connection id "0HNH3B7S3S670" started.
2025-11-14 14:14:33 [DBG] Connection 0HNH3B7S3S670 established using the following protocol: "Tls12"
2025-11-14 14:14:33 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:14:33 [DBG] OPTIONS requests are not supported
2025-11-14 14:14:33 [DBG] OPTIONS requests are not supported
2025-11-14 14:14:33 [DBG] OPTIONS requests are not supported
2025-11-14 14:14:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:14:33 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:14:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:14:33 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:14:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:14:33 [INF] CORS policy execution successful.
2025-11-14 14:14:33 [DBG] The request is a preflight request.
2025-11-14 14:14:33 [INF] Response 204 Body: 
2025-11-14 14:14:33 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 85.4916ms
2025-11-14 14:14:33 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1219
2025-11-14 14:14:33 [DBG] POST requests are not supported
2025-11-14 14:14:33 [DBG] POST requests are not supported
2025-11-14 14:14:33 [DBG] POST requests are not supported
2025-11-14 14:14:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:14:33 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:00000003": started reading request body.
2025-11-14 14:14:33 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:00000003": done reading request body.
2025-11-14 14:14:33 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29000,"dueAmount":10000,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:14:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:14:33 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:14:33 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:14:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:14:33 [INF] CORS policy execution successful.
2025-11-14 14:14:33 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:14:33 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:14:33 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:14:33 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:14:33 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:14:33 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:14:33 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:14:33 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:14:33 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:14:33 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:14:33 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:14:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:14:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:14:33 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:14:33 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:14:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:14:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:14:33 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:14:33 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:14:33 [INF] Saving reservation for customer: G000004
2025-11-14 14:14:34 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:14:34 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:14:34 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:14:34 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:14:34 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:14:34 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:14:34 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:14:34 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 678.7232ms
2025-11-14 14:14:34 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:14:34 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:14:34 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 953.4853ms
2025-11-14 14:18:34 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:18:34 [DBG] OPTIONS requests are not supported
2025-11-14 14:18:34 [DBG] OPTIONS requests are not supported
2025-11-14 14:18:34 [DBG] OPTIONS requests are not supported
2025-11-14 14:18:34 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:18:34 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:18:34 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:18:34 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:18:34 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:18:34 [INF] CORS policy execution successful.
2025-11-14 14:18:34 [DBG] The request is a preflight request.
2025-11-14 14:18:34 [INF] Response 204 Body: 
2025-11-14 14:18:34 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 32.4871ms
2025-11-14 14:18:34 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1219
2025-11-14 14:18:34 [DBG] POST requests are not supported
2025-11-14 14:18:34 [DBG] POST requests are not supported
2025-11-14 14:18:34 [DBG] POST requests are not supported
2025-11-14 14:18:34 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:18:34 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:00000007": started reading request body.
2025-11-14 14:18:34 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:00000007": done reading request body.
2025-11-14 14:18:34 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29000,"dueAmount":10000,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:18:34 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:18:34 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:18:34 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:18:34 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:18:34 [INF] CORS policy execution successful.
2025-11-14 14:18:34 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:18:34 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:18:34 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:18:34 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:18:34 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:18:34 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:18:34 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:18:34 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:18:34 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:18:34 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:18:34 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:18:34 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:18:34 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:18:34 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:18:34 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:18:34 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:18:34 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:18:34 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:18:34 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:18:34 [INF] Saving reservation for customer: G000004
2025-11-14 14:18:34 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:18:34 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:18:34 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:18:34 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:18:34 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:18:34 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:18:34 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:18:34 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 105.9967ms
2025-11-14 14:18:34 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:18:34 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:18:34 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 172.1411ms
2025-11-14 14:18:53 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:18:53 [DBG] OPTIONS requests are not supported
2025-11-14 14:18:53 [DBG] OPTIONS requests are not supported
2025-11-14 14:18:53 [DBG] OPTIONS requests are not supported
2025-11-14 14:18:53 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:18:53 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:18:53 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:18:53 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:18:53 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:18:53 [INF] CORS policy execution successful.
2025-11-14 14:18:53 [DBG] The request is a preflight request.
2025-11-14 14:18:53 [INF] Response 204 Body: 
2025-11-14 14:18:53 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 25.6749ms
2025-11-14 14:18:53 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1219
2025-11-14 14:18:53 [DBG] POST requests are not supported
2025-11-14 14:18:53 [DBG] POST requests are not supported
2025-11-14 14:18:53 [DBG] POST requests are not supported
2025-11-14 14:18:53 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:18:53 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:0000000B": started reading request body.
2025-11-14 14:18:53 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:0000000B": done reading request body.
2025-11-14 14:18:53 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29000,"dueAmount":10000,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:18:53 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:18:53 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:18:53 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:18:53 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:18:53 [INF] CORS policy execution successful.
2025-11-14 14:18:53 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:18:53 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:18:53 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:18:53 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:18:53 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:18:53 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:18:53 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:18:53 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:18:53 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:18:53 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:18:53 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:18:53 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:18:53 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:18:53 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:18:53 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:18:53 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:18:53 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:18:53 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:18:53 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:18:53 [INF] Saving reservation for customer: G000004
2025-11-14 14:18:53 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:18:53 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:18:53 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:18:53 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:18:53 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:18:53 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:18:53 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:18:53 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 92.9662ms
2025-11-14 14:18:53 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:18:53 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:18:53 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 176.1633ms
2025-11-14 14:19:08 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:19:08 [DBG] OPTIONS requests are not supported
2025-11-14 14:19:08 [DBG] OPTIONS requests are not supported
2025-11-14 14:19:08 [DBG] OPTIONS requests are not supported
2025-11-14 14:19:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:19:08 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:19:08 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:19:08 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:19:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:19:08 [INF] CORS policy execution successful.
2025-11-14 14:19:08 [DBG] The request is a preflight request.
2025-11-14 14:19:08 [INF] Response 204 Body: 
2025-11-14 14:19:08 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 35.2205ms
2025-11-14 14:19:08 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1312
2025-11-14 14:19:08 [DBG] POST requests are not supported
2025-11-14 14:19:08 [DBG] POST requests are not supported
2025-11-14 14:19:08 [DBG] POST requests are not supported
2025-11-14 14:19:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:19:08 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:0000000F": started reading request body.
2025-11-14 14:19:08 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:0000000F": done reading request body.
2025-11-14 14:19:08 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29045,"dueAmount":9955,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":45,"refNo":"585","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:19:08 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:19:08 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:19:08 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:19:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:19:08 [INF] CORS policy execution successful.
2025-11-14 14:19:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:19:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:19:08 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:19:08 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:19:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:19:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:19:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:19:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:19:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:19:08 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:19:08 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:19:09 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:19:09 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:19:09 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:19:09 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:19:09 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:19:09 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:19:09 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:19:09 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:19:09 [INF] Saving reservation for customer: G000004
2025-11-14 14:19:09 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:19:09 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:19:09 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:19:09 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:19:09 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:19:09 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:19:09 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:19:09 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 106.3331ms
2025-11-14 14:19:09 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:19:09 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:19:09 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 162.6742ms
2025-11-14 14:19:29 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:19:29 [DBG] OPTIONS requests are not supported
2025-11-14 14:19:29 [DBG] OPTIONS requests are not supported
2025-11-14 14:19:29 [DBG] OPTIONS requests are not supported
2025-11-14 14:19:29 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:19:29 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:19:29 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:19:29 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:19:29 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:19:29 [INF] CORS policy execution successful.
2025-11-14 14:19:29 [DBG] The request is a preflight request.
2025-11-14 14:19:29 [INF] Response 204 Body: 
2025-11-14 14:19:29 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 33.5209ms
2025-11-14 14:19:29 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1312
2025-11-14 14:19:29 [DBG] POST requests are not supported
2025-11-14 14:19:29 [DBG] POST requests are not supported
2025-11-14 14:19:29 [DBG] POST requests are not supported
2025-11-14 14:19:29 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:19:29 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:00000013": started reading request body.
2025-11-14 14:19:29 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:00000013": done reading request body.
2025-11-14 14:19:29 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29045,"dueAmount":9955,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":45,"refNo":"585","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:19:29 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:19:29 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:19:29 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:19:29 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:19:29 [INF] CORS policy execution successful.
2025-11-14 14:19:29 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:19:29 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:19:29 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:19:29 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:19:29 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:19:29 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:19:29 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:19:29 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:19:29 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:19:29 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:19:29 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:19:29 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:19:29 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:19:29 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:19:29 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:19:29 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:19:29 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:19:29 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:19:29 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:19:29 [INF] Saving reservation for customer: G000004
2025-11-14 14:19:29 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:19:29 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:19:29 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:19:29 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:19:29 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:19:29 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:19:29 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:19:29 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 42.667ms
2025-11-14 14:19:29 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:19:29 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:19:29 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 115.2584ms
2025-11-14 14:20:12 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:20:12 [DBG] OPTIONS requests are not supported
2025-11-14 14:20:12 [DBG] OPTIONS requests are not supported
2025-11-14 14:20:12 [DBG] OPTIONS requests are not supported
2025-11-14 14:20:12 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:20:12 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:20:12 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:20:12 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:20:12 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:20:12 [INF] CORS policy execution successful.
2025-11-14 14:20:12 [DBG] The request is a preflight request.
2025-11-14 14:20:12 [INF] Response 204 Body: 
2025-11-14 14:20:12 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 22.3519ms
2025-11-14 14:20:12 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1312
2025-11-14 14:20:12 [DBG] POST requests are not supported
2025-11-14 14:20:12 [DBG] POST requests are not supported
2025-11-14 14:20:12 [DBG] POST requests are not supported
2025-11-14 14:20:12 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:20:12 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:00000017": started reading request body.
2025-11-14 14:20:12 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:00000017": done reading request body.
2025-11-14 14:20:12 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29045,"dueAmount":9955,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":45,"refNo":"585","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:20:12 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:20:12 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:20:12 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:20:12 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:20:12 [INF] CORS policy execution successful.
2025-11-14 14:20:12 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:20:12 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:20:12 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:20:12 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:20:12 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:20:12 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:20:12 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:20:12 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:20:12 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:20:12 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:20:12 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:20:12 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:20:12 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:20:12 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:20:12 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:20:12 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:20:12 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:20:12 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:20:12 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:20:12 [INF] Saving reservation for customer: G000004
2025-11-14 14:20:12 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:20:12 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:20:12 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:20:12 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:20:12 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:20:12 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:20:12 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:20:12 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 94.0359ms
2025-11-14 14:20:12 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:20:12 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:20:12 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 152.3005ms
2025-11-14 14:21:20 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:21:20 [DBG] OPTIONS requests are not supported
2025-11-14 14:21:20 [DBG] OPTIONS requests are not supported
2025-11-14 14:21:20 [DBG] OPTIONS requests are not supported
2025-11-14 14:21:20 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:21:20 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:21:20 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:21:20 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:21:20 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:21:20 [INF] CORS policy execution successful.
2025-11-14 14:21:20 [DBG] The request is a preflight request.
2025-11-14 14:21:20 [INF] Response 204 Body: 
2025-11-14 14:21:20 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 31.7551ms
2025-11-14 14:21:20 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1312
2025-11-14 14:21:20 [DBG] POST requests are not supported
2025-11-14 14:21:20 [DBG] POST requests are not supported
2025-11-14 14:21:20 [DBG] POST requests are not supported
2025-11-14 14:21:20 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:21:20 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:0000001B": started reading request body.
2025-11-14 14:21:20 [DBG] Connection id "0HNH3B7S3S670", Request id "0HNH3B7S3S670:0000001B": done reading request body.
2025-11-14 14:21:20 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29045,"dueAmount":9955,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":45,"refNo":"585","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:21:20 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:21:20 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:21:20 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:21:20 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:21:20 [INF] CORS policy execution successful.
2025-11-14 14:21:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:21:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:21:20 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:21:20 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:21:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:21:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:21:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:21:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:21:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:21:20 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:21:20 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:21:20 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:21:20 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:21:20 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:21:20 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:21:20 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:21:20 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:21:20 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:21:20 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:21:20 [INF] Saving reservation for customer: G000004
2025-11-14 14:21:20 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:21:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:21:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:21:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:21:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:21:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:21:20 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:21:20 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 128.9823ms
2025-11-14 14:21:20 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:21:20 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:21:20 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 197.7259ms
2025-11-14 14:22:20 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:22:20 [DBG] Hosting starting
2025-11-14 14:22:20 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:22:20 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:22:20 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:22:20 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:22:20 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:22:20 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:22:20 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:22:20 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:22:20 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:22:20 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:22:20 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:22:20 [DBG] Middleware loaded
2025-11-14 14:22:20 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:22:20 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:22:20 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:22:20 [INF] Now listening on: https://localhost:9307
2025-11-14 14:22:20 [INF] Now listening on: http://localhost:9308
2025-11-14 14:22:20 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:22:20 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:22:20 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:22:20 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:22:20 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:22:20 [INF] Hosting environment: Development
2025-11-14 14:22:20 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:22:20 [DBG] Hosting started
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBOR9" received FIN.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBORA" received FIN.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBORA" accepted.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBOR9" accepted.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBORA" started.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBOR9" started.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBORB" accepted.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBORB" started.
2025-11-14 14:22:21 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:22:21 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBORA" stopped.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBOR9" stopped.
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBOR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:22:21 [DBG] Connection id "0HNH3BCFOBORA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:22:21 [DBG] Connection 0HNH3BCFOBORB established using the following protocol: "Tls12"
2025-11-14 14:22:21 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:22:21 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:22:21 [DBG] The request path  does not match the path filter
2025-11-14 14:22:21 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:22:21 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:22:21 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:22:21 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:22:21 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 385.2266ms
2025-11-14 14:22:21 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:22:21 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:22:21 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:22:21 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 16.1622ms
2025-11-14 14:22:21 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 143.6209ms
2025-11-14 14:22:22 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:22:22 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.4532ms
2025-11-14 14:24:25 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:24:25 [DBG] Hosting starting
2025-11-14 14:24:25 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:24:25 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:24:25 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:24:25 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:24:25 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:24:25 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:24:25 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:24:25 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:24:25 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:24:25 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:24:25 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:24:25 [DBG] Middleware loaded
2025-11-14 14:24:25 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:24:25 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:24:26 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:24:26 [INF] Now listening on: https://localhost:9307
2025-11-14 14:24:26 [INF] Now listening on: http://localhost:9308
2025-11-14 14:24:26 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:24:26 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:24:26 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:24:26 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IR" accepted.
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IS" accepted.
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IR" started.
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IS" started.
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IS" received FIN.
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IR" received FIN.
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IT" accepted.
2025-11-14 14:24:26 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:24:26 [INF] Hosting environment: Development
2025-11-14 14:24:26 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IT" started.
2025-11-14 14:24:26 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:24:26 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IR" stopped.
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IS" stopped.
2025-11-14 14:24:26 [DBG] Hosting started
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:24:26 [DBG] Connection id "0HNH3BDL2H3IR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:24:26 [DBG] Connection 0HNH3BDL2H3IT established using the following protocol: "Tls12"
2025-11-14 14:24:26 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:24:26 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:24:27 [DBG] The request path  does not match the path filter
2025-11-14 14:24:27 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:24:27 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:24:27 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:24:27 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:24:27 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:24:27 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:24:27 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 383.0499ms
2025-11-14 14:24:27 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:24:27 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 16.5365ms
2025-11-14 14:24:27 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.3486ms
2025-11-14 14:24:27 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:24:27 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.2907ms
2025-11-14 14:26:22 [DBG] Connection id "0HNH3BDL2H3IU" accepted.
2025-11-14 14:26:22 [DBG] Connection id "0HNH3BDL2H3IU" started.
2025-11-14 14:26:22 [DBG] Connection 0HNH3BDL2H3IU established using the following protocol: "Tls12"
2025-11-14 14:26:22 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:26:23 [DBG] OPTIONS requests are not supported
2025-11-14 14:26:23 [DBG] OPTIONS requests are not supported
2025-11-14 14:26:23 [DBG] OPTIONS requests are not supported
2025-11-14 14:26:23 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:26:23 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:26:23 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:26:23 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:26:23 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:26:23 [INF] CORS policy execution successful.
2025-11-14 14:26:23 [DBG] The request is a preflight request.
2025-11-14 14:26:23 [INF] Response 204 Body: 
2025-11-14 14:26:23 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 90.9332ms
2025-11-14 14:26:23 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1312
2025-11-14 14:26:23 [DBG] POST requests are not supported
2025-11-14 14:26:23 [DBG] POST requests are not supported
2025-11-14 14:26:23 [DBG] POST requests are not supported
2025-11-14 14:26:23 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:26:23 [DBG] Connection id "0HNH3BDL2H3IU", Request id "0HNH3BDL2H3IU:00000003": started reading request body.
2025-11-14 14:26:23 [DBG] Connection id "0HNH3BDL2H3IU", Request id "0HNH3BDL2H3IU:00000003": done reading request body.
2025-11-14 14:26:23 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29045,"dueAmount":9955,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":45,"refNo":"585","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:26:23 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:26:23 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:26:23 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:26:23 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:26:23 [INF] CORS policy execution successful.
2025-11-14 14:26:23 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:26:23 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:26:23 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:26:23 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:26:23 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:26:23 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:26:23 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:26:23 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:26:23 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:26:23 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:26:23 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:26:23 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:26:23 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:26:23 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:26:23 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:26:23 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:26:23 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:26:23 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:26:23 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:26:23 [INF] Saving reservation for customer: G000004
2025-11-14 14:26:23 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:26:23 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:26:23 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:26:23 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:26:23 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:26:23 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:26:23 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:26:23 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 524.0988ms
2025-11-14 14:26:23 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:26:23 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:26:23 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 729.1887ms
2025-11-14 14:27:46 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:27:46 [DBG] OPTIONS requests are not supported
2025-11-14 14:27:46 [DBG] OPTIONS requests are not supported
2025-11-14 14:27:46 [DBG] OPTIONS requests are not supported
2025-11-14 14:27:46 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:27:46 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:27:46 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:27:46 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:27:46 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:27:46 [INF] CORS policy execution successful.
2025-11-14 14:27:46 [DBG] The request is a preflight request.
2025-11-14 14:27:46 [INF] Response 204 Body: 
2025-11-14 14:27:46 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 23.4286ms
2025-11-14 14:27:46 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1312
2025-11-14 14:27:46 [DBG] POST requests are not supported
2025-11-14 14:27:46 [DBG] POST requests are not supported
2025-11-14 14:27:46 [DBG] POST requests are not supported
2025-11-14 14:27:46 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:27:46 [DBG] Connection id "0HNH3BDL2H3IU", Request id "0HNH3BDL2H3IU:00000007": started reading request body.
2025-11-14 14:27:46 [DBG] Connection id "0HNH3BDL2H3IU", Request id "0HNH3BDL2H3IU:00000007": done reading request body.
2025-11-14 14:27:46 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000017","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":1,"noOfAdults":2,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":29045,"dueAmount":9955,"reservationNote":"Testing","refundAmount":0,"refundNote":"testing","referenceNo":"123","packageCode":"","bookingResourceId":1,"bookingReferenceNo":"123","reservationStatus":"Booked","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"321","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":4000,"refNo":"1235","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""},{"paymentId":0,"amount":45,"refNo":"585","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:27:46 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:27:46 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:27:46 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:27:46 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:27:46 [INF] CORS policy execution successful.
2025-11-14 14:27:46 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:27:46 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:27:46 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:27:46 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:27:46 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:27:46 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:27:46 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:27:46 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:27:46 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:27:46 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:27:46 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:27:46 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:27:46 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:27:46 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:27:46 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:27:46 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:27:46 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:27:46 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:27:46 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:27:46 [INF] Saving reservation for customer: G000004
2025-11-14 14:27:46 [INF] Reservation saved successfully: R00000000017
2025-11-14 14:27:46 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:27:46 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:27:46 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:27:46 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:27:46 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:27:46 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:27:46 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 92.4653ms
2025-11-14 14:27:46 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:27:46 [INF] Response 200 Body: {"reservationNo":"R00000000017","message":"Reservation saved successfully"}
2025-11-14 14:27:46 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 156.3228ms
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 14:29:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:03 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - null null
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - null null
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - null null
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - null null
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request OPTIONS /api/ServiceType/getall Body: 
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request OPTIONS /api/PackageInfo/getall Body: 
2025-11-14 14:29:04 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - null null
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [INF] Request OPTIONS /api/Country/getall Body: 
2025-11-14 14:29:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 14:29:04 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 14:29:04 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - null null
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [INF] Request OPTIONS /api/ReservationStatus/getall Body: 
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [INF] Request OPTIONS /api/PayType/getall Body: 
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] OPTIONS requests are not supported
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Request OPTIONS /api/BookingResource/getall Body: 
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Request OPTIONS /api/Customer/getall Body: 
2025-11-14 14:29:04 [INF] Request OPTIONS /api/RoomType/getall Body: 
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request OPTIONS /api/Nationality/getall Body: 
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - 204 null null 275.4372ms
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Request OPTIONS /api/CustomerType/getall Body: 
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - 204 null null 308.0823ms
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - 204 null null 312.6464ms
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - 204 null null 252.4713ms
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 14:29:04 [INF] Request OPTIONS /api/TravelAgent/getall Body: 
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Country/getall - null null
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] The request path /api/ReservationStatus/getall does not match a supported file type
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path /api/Country/getall does not match a supported file type
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - 204 null null 258.8519ms
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - 204 null null 338.6334ms
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Request GET /api/Country/getall Body: 
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path /api/ServiceType/getall does not match a supported file type
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PayType/getall - null null
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request GET /api/ReservationStatus/getall Body: 
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 14:29:04 [DBG] Endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)' with route pattern 'api/Country/getall' is valid for the request path '/api/Country/getall'
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - 204 null null 354.1911ms
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] Endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)' with route pattern 'api/ReservationStatus/getall' is valid for the request path '/api/ReservationStatus/getall'
2025-11-14 14:29:04 [DBG] Request matched endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Nationality/getall - null null
2025-11-14 14:29:04 [DBG] The request path /api/PayType/getall does not match a supported file type
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Customer/getall - null null
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - 204 null null 338.3435ms
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - 204 null null 372.0345ms
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path /api/Customer/getall does not match a supported file type
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] Request OPTIONS /api/Room/getall Body: 
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/RoomType/getall - null null
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path /api/Nationality/getall does not match a supported file type
2025-11-14 14:29:04 [DBG] The request path /api/CustomerType/getall does not match a supported file type
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - 204 null null 331.8853ms
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Request GET /api/ServiceType/getall Body: 
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path /api/BookingResource/getall does not match a supported file type
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [DBG] The request path /api/RoomType/getall does not match a supported file type
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request GET /api/PayType/getall Body: 
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 14:29:04 [DBG] Endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)' with route pattern 'api/PayType/getall' is valid for the request path '/api/PayType/getall'
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - 204 null null 438.9953ms
2025-11-14 14:29:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:29:04 [DBG] Endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)' with route pattern 'api/ServiceType/getall' is valid for the request path '/api/ServiceType/getall'
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path /api/PackageInfo/getall does not match a supported file type
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Executing endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 14:29:04 [INF] Request GET /api/Nationality/getall Body: 
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [INF] Request GET /api/Customer/getall Body: 
2025-11-14 14:29:04 [INF] Route matched with {action = "GetAll", controller = "Country"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CountryController (OIT_Reservation).
2025-11-14 14:29:04 [DBG] Request matched endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Request GET /api/RoomType/getall Body: 
2025-11-14 14:29:04 [INF] Route matched with {action = "GetVisibleStatuses", controller = "ReservationStatus"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ReservationStatus]] GetVisibleStatuses() on controller ReservationStatusController (OIT_Reservation).
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 14:29:04 [DBG] Endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)' with route pattern 'api/Nationality/getall' is valid for the request path '/api/Nationality/getall'
2025-11-14 14:29:04 [DBG] Request matched endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] The request is a preflight request.
2025-11-14 14:29:04 [INF] Request GET /api/BookingResource/getall Body: 
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] The request path /api/TravelAgent/getall does not match a supported file type
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Request GET /api/CustomerType/getall Body: 
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 14:29:04 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)' with route pattern 'api/Customer/getall' is valid for the request path '/api/Customer/getall'
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 14:29:04 [INF] Request GET /api/PackageInfo/getall Body: 
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)' with route pattern 'api/RoomType/getall' is valid for the request path '/api/RoomType/getall'
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)' with route pattern 'api/CustomerType/getall' is valid for the request path '/api/CustomerType/getall'
2025-11-14 14:29:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [INF] Executing endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [INF] Request GET /api/TravelAgent/getall Body: 
2025-11-14 14:29:04 [INF] Response 204 Body: 
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 14:29:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [INF] Route matched with {action = "GetAllNationalities", controller = "Nationality"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllNationalities() on controller NationalityController (OIT_Reservation).
2025-11-14 14:29:04 [DBG] Executing controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 14:29:04 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Room/getall - null null
2025-11-14 14:29:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - 204 null null 593.0068ms
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [DBG] Endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)' with route pattern 'api/BookingResource/getall' is valid for the request path '/api/BookingResource/getall'
2025-11-14 14:29:04 [DBG] Request matched endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Executed controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation).
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Executing endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] Endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)' with route pattern 'api/TravelAgent/getall' is valid for the request path '/api/TravelAgent/getall'
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] Endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)' with route pattern 'api/PackageInfo/getall' is valid for the request path '/api/PackageInfo/getall'
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Route matched with {action = "GetActivePayTypes", controller = "PayType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PayType]] GetActivePayTypes() on controller PayTypeController (OIT_Reservation).
2025-11-14 14:29:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] The request path /api/Room/getall does not match a supported file type
2025-11-14 14:29:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] The request path  does not match the path filter
2025-11-14 14:29:04 [INF] Route matched with {action = "GetAll", controller = "ServiceType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation).
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [INF] Route matched with {action = "GetAll", controller = "RoomType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation).
2025-11-14 14:29:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Country, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:04 [INF] Executed action OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation) in 240.3582ms
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [INF] Request GET /api/Room/getall Body: 
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationStatus, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:04 [INF] Executed endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [INF] Response 200 Body: [{"countryID":1,"countryCode":"CC001","description":"SRI LANKA"},{"countryID":2,"countryCode":"CC002","description":"INDIA"},{"countryID":3,"countryCode":"CC003","description":"RUSSIAN FEDERATION"},{"countryID":4,"countryCode":"CC004","description":"UNITED KINGDOM"},{"countryID":5,"countryCode":"CC005","description":"GERMANY"},{"countryID":6,"countryCode":"CC006","description":"CHINA"},{"countryID":7,"countryCode":"CC007","description":"FRANCE"},{"countryID":8,"countryCode":"CC008","description":"AUSTRALIA"},{"countryID":9,"countryCode":"CC009","description":"UNITED STATES"},{"countryID":10,"countryCode":"CC010","description":"NETHERLANDS"},{"countryID":11,"countryCode":"CC011","description":"MALDIVES"},{"countryID":12,"countryCode":"CC012","description":"BANGLADESH"},{"countryID":13,"countryCode":"CC013","description":"CANADA"},{"countryID":14,"countryCode":"CC014","description":"POLAND"},{"countryID":15,"countryCode":"CC015","description":"SWITZERLAND"},{"countryID":16,"countryCode":"CC016","description":"JAPAN"},{"countryID":17,"countryCode":"CC017","description":"AUSTRIA"},{"countryID":18,"countryCode":"CC018","description":"CZECH REPUBLIC"},{"countryID":19,"countryCode":"CC019","description":"ISRAEL"},{"countryID":20,"countryCode":"CC020","description":"SPAIN"},{"countryID":21,"countryCode":"CC021","description":"KAZAKHSTAN"},{"countryID":22,"countryCode":"CC022","description":"SINGAPORE"},{"countryID":23,"countryCode":"CC023","description":"MALAYSIA"},{"countryID":24,"countryCode":"CC024","description":"NORWAY"},{"countryID":25,"countryCode":"CC025","description":"NEW ZEALAND"},{"countryID":26,"countryCode":"CC026","description":"THAILAND"},{"countryID":27,"countryCode":"CC027","description":"ITALY"},{"countryID":28,"countryCode":"CC028","description":"SOUTH KOREA"},{"countryID":29,"countryCode":"CC029","description":"SWEDEN"},{"countryID":30,"countryCode":"CC030","description":"BELGIUM"},{"countryID":31,"countryCode":"CC031","description":"DENMARK"},{"countryID":32,"countryCode":"CC032","description":"UNITED ARAB EMIRATES"},{"countryID":33,"countryCode":"CC033","description":"SAUDI ARABIA"},{"countryID":34,"countryCode":"CC034","description":"IRAN"},{"countryID":35,"countryCode":"CC035","description":"TURKEY"},{"countryID":36,"countryCode":"CC036","description":"KUWAIT"},{"countryID":37,"countryCode":"CC037","description":"OMAN"},{"countryID":38,"countryCode":"CC038","description":"BAHRAIN"},{"countryID":39,"countryCode":"CC039","description":"FINLAND"},{"countryID":40,"countryCode":"CC040","description":"IRELAND"},{"countryID":41,"countryCode":"CC041","description":"PORTUGAL"},{"countryID":42,"countryCode":"CC042","description":"VIETNAM"},{"countryID":43,"countryCode":"CC043","description":"BELARUS"},{"countryID":44,"countryCode":"CC044","description":"UKRAINE"},{"countryID":45,"countryCode":"CC045","description":"SOUTH AFRICA"},{"countryID":46,"countryCode":"CC046","description":"MEXICO"},{"countryID":47,"countryCode":"CC047","description":"SLOVENIA"},{"countryID":48,"countryCode":"CC048","description":"HUNGARY"},{"countryID":49,"countryCode":"CC049","description":"PHILIPPINES"},{"countryID":50,"countryCode":"CC050","description":"INDONESIA"}]
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [INF] Route matched with {action = "CustomerTypes", controller = "CustomerType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CustomerType]] CustomerTypes() on controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation).
2025-11-14 14:29:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 14:29:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:04 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Executing endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] Executing controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 14:29:04 [INF] Route matched with {action = "GetAll", controller = "PackageInfo"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation).
2025-11-14 14:29:04 [INF] Executed action ReservationStatusController.GetVisibleStatuses (OIT_Reservation) in 233.7284ms
2025-11-14 14:29:04 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Country/getall - 200 null application/json; charset=utf-8 589.6632ms
2025-11-14 14:29:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] Executing controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 14:29:04 [INF] Executing endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)' with route pattern 'api/Room/getall' is valid for the request path '/api/Room/getall'
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Executed controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 14:29:04 [INF] Route matched with {action = "GetAll", controller = "BookingResource"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation).
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] Executed controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Route matched with {action = "GetAll", controller = "TravelAgent"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation).
2025-11-14 14:29:04 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [INF] Executed endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:29:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PayType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 14:29:04 [INF] Response 200 Body: [{"statusId":1,"statusName":"Booked","rowNo":1,"statusType":"1","colorCode":"#FFA500","isShow":true},{"statusId":2,"statusName":"Confirmed","rowNo":2,"statusType":"2","colorCode":"#5EFB6E","isShow":true},{"statusId":3,"statusName":"Checked In","rowNo":3,"statusType":"3","colorCode":"#6495ED","isShow":true},{"statusId":4,"statusName":"Checked Out","rowNo":4,"statusType":"4","colorCode":"#FFF8DC","isShow":true},{"statusId":6,"statusName":"Finalized","rowNo":6,"statusType":"6","colorCode":"#3de3cc","isShow":true}]
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [DBG] Executing controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [INF] CORS policy execution successful.
2025-11-14 14:29:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:04 [INF] Executed action PayTypeController.GetActivePayTypes (OIT_Reservation) in 125.9988ms
2025-11-14 14:29:04 [INF] Executed endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 14:29:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:04 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] Executed controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:29:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:04 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - 200 null application/json; charset=utf-8 741.3425ms
2025-11-14 14:29:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:04 [INF] Response 200 Body: [{"paymentID":1,"descrip":"CASH","isSwipe":false,"type":"0","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":false,"printDescrip":"CASH","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":2,"descrip":"MASTER CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"MASTER CAR","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":3,"descrip":"VISA CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"VISA CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":true},{"paymentID":4,"descrip":"AMEX CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"AMEX CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false}]
2025-11-14 14:29:04 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 14:29:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [INF] Executed action OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation) in 110.1744ms
2025-11-14 14:29:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:29:05 [INF] Response 200 Body: [{"serviceTypeID":1,"serviceCode":"SRV0001","serviceName":"00123","quantity":2,"serviceAmount":2000,"remarks":"Testing","isRoom":true,"isBanquet":false,"type":"Room"}]
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ServiceType/getall - 200 null application/json; charset=utf-8 863.7299ms
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Nationality, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PayType/getall - 200 null application/json; charset=utf-8 757.9293ms
2025-11-14 14:29:05 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:05 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 14:29:05 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:29:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [INF] Executed action NationalityController.GetAllNationalities (OIT_Reservation) in 207.9402ms
2025-11-14 14:29:05 [INF] Executed endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 14:29:05 [INF] Response 200 Body: [{"nationalityID":1,"nationalityCode":"LKA","description":"Sri Lankan"},{"nationalityID":2,"nationalityCode":"IND","description":"Indian"},{"nationalityID":3,"nationalityCode":"PAK","description":"Pakistani"},{"nationalityID":4,"nationalityCode":"BGD","description":"Bangladeshi"},{"nationalityID":5,"nationalityCode":"NPL","description":"Nepali"},{"nationalityID":6,"nationalityCode":"CHN","description":"Chinese"},{"nationalityID":7,"nationalityCode":"JPN","description":"Japanese"},{"nationalityID":8,"nationalityCode":"USA","description":"American"},{"nationalityID":9,"nationalityCode":"GBR","description":"British"},{"nationalityID":10,"nationalityCode":"CAN","description":"Canadian"},{"nationalityID":11,"nationalityCode":"AUS","description":"Australian"},{"nationalityID":12,"nationalityCode":"DEU","description":"German"},{"nationalityID":13,"nationalityCode":"FRA","description":"French"},{"nationalityID":14,"nationalityCode":"ITA","description":"Italian"},{"nationalityID":15,"nationalityCode":"RUS","description":"Russian"},{"nationalityID":16,"nationalityCode":"SAU","description":"Saudi"},{"nationalityID":17,"nationalityCode":"ARE","description":"Emirati"},{"nationalityID":18,"nationalityCode":"SGP","description":"Singaporean"},{"nationalityID":19,"nationalityCode":"THA","description":"Thai"},{"nationalityID":20,"nationalityCode":"MYS","description":"Malaysian"}]
2025-11-14 14:29:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:05 [INF] Executed action OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation) in 226.3386ms
2025-11-14 14:29:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 14:29:05 [INF] Response 200 Body: [{"roomTypeID":1,"roomTypeCode":"RT001","description":"DELUX ","remarks":""},{"roomTypeID":2,"roomTypeCode":"RT002","description":"STANDARD ","remarks":""},{"roomTypeID":3,"roomTypeCode":"RT003","description":"IN-DOOR","remarks":""},{"roomTypeID":4,"roomTypeCode":"RT004","description":"OUT-DOOR","remarks":""},{"roomTypeID":5,"roomTypeCode":"RT005","description":"string","remarks":"string"}]
2025-11-14 14:29:05 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 14:29:05 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 14:29:05 [INF] Executed action OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation) in 241.9596ms
2025-11-14 14:29:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [INF] Executed action OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation) in 135.618ms
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Nationality/getall - 200 null application/json; charset=utf-8 740.4025ms
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/RoomType/getall - 200 null application/json; charset=utf-8 738.5217ms
2025-11-14 14:29:05 [INF] Route matched with {action = "GetAll", controller = "Room"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomController (OIT_Reservation).
2025-11-14 14:29:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 14:29:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:05 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 14:29:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:05 [INF] Response 200 Body: [{"customerTypeID":1,"customerTypeCode":"001","description":"Local"},{"customerTypeID":2,"customerTypeCode":"002","description":"Foregien"}]
2025-11-14 14:29:05 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:29:05 [INF] Response 200 Body: [{"customerTypeCode":"001","customerCode":"G000001","title":"Mr.","name":"SAMPATH","niC_PassportNo":"907656767","nationalityCode":"LKA","countryCode":"CC001","mobile":"0759888811","telephone":"0554567898","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"MAHARAGAMA","whatsapp":"0759888811","remark":""},{"customerTypeCode":"001","customerCode":"G000002","title":"Mr.","name":"Thamalpath","niC_PassportNo":"53269493","nationalityCode":"LKA","countryCode":"CC001","mobile":"071155864","telephone":"","email":"thamal@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"07526648","remark":""},{"customerTypeCode":"001","customerCode":"G000003","title":"Mr.","name":"Sarindu","niC_PassportNo":"5461511988v","nationalityCode":"LKA","countryCode":"CC001","mobile":"071565658","telephone":"","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"0715561185","remark":""},{"customerTypeCode":"001","customerCode":"G000004","title":"Mr.","name":"Navoda","niC_PassportNo":"200130500240","nationalityCode":"LKA","countryCode":"CC001","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"bandarawela","whatsapp":"0123456789","remark":"Testing"}]
2025-11-14 14:29:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:05 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PackageInfo, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/CustomerType/getall - 200 null application/json; charset=utf-8 802.4103ms
2025-11-14 14:29:05 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Customer/getall - 200 null application/json; charset=utf-8 827.4992ms
2025-11-14 14:29:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:05 [INF] Executed action OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation) in 162.2867ms
2025-11-14 14:29:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 14:29:05 [INF] Response 200 Body: [{"packageID":1,"packageCode":"PKG0001","packageName":"SINGLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":2,"packageCode":"PKG0002","packageName":"DOUBLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":3,"packageCode":"PKG0003","packageName":"TRIPPLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":10.00,"roomCost":10.00,"roomAmount":42000.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":4,"packageCode":"PKG0004","packageName":"FAMILY ROOM (B/B)","packageDuration":0,"remarks":"","roomPrice":50000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":5,"packageCode":"PKG0005","packageName":"SINGLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":6,"packageCode":"PKG0006","packageName":"DOUBLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":7,"packageCode":"PKG0007","packageName":"TRIPPLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":48000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":8,"packageCode":"PKG0008","packageName":"FAMILY ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":58000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":9,"packageCode":"PKG0009","packageName":"SINGLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":42500.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":10,"packageCode":"PKG0010","packageName":"DOUBLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":45000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":11,"packageCode":"PKG0011","packageName":"TRIPPLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":55500.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":12,"packageCode":"PKG0012","packageName":"FAMILY ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":68000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"}]
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - 200 null application/json; charset=utf-8 991.317ms
2025-11-14 14:29:05 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:29:05 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:29:05 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:29:05 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingResource, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 14:29:05 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 14:29:05 [INF] Executed action YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation) in 256.5024ms
2025-11-14 14:29:05 [INF] Executed endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 14:29:05 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 14:29:05 [INF] Response 200 Body: [{"reservationBookingResourceId":1,"bookingResourceName":"On Arrival"},{"reservationBookingResourceId":2,"bookingResourceName":"On Call"},{"reservationBookingResourceId":3,"bookingResourceName":"Booking .com"},{"reservationBookingResourceId":4,"bookingResourceName":"Travel Agent"}]
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/BookingResource/getall - 200 null application/json; charset=utf-8 1013.6267ms
2025-11-14 14:29:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:29:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:29:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:29:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Room, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:29:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:29:05 [INF] Executed action OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation) in 56.7511ms
2025-11-14 14:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelAgent, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:29:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 14:29:05 [INF] Response 200 Body: [{"roomID":1,"roomTypeCode":"RT001","roomCode":"R0001","description":"VILLA-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":2,"roomTypeCode":"RT001","roomCode":"R0002","description":"VILLA-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":3,"roomTypeCode":"RT001","roomCode":"R0003","description":"VILLA-03","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":4,"roomTypeCode":"RT001","roomCode":"R0004","description":"VILLA-04","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":5,"roomTypeCode":"RT001","roomCode":"R0005","description":"VILLA-05","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":6,"roomTypeCode":"RT001","roomCode":"R0006","description":"VILLA-06","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":7,"roomTypeCode":"RT001","roomCode":"R0007","description":"VILLA-07","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":8,"roomTypeCode":"RT001","roomCode":"R0008","description":"VILLA-08","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":9,"roomTypeCode":"RT001","roomCode":"R0009","description":"VILLA-09","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":10,"roomTypeCode":"","roomCode":"R0010","description":"ROOM-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":11,"roomTypeCode":"RT001","roomCode":"R0011","description":"ROOM-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false}]
2025-11-14 14:29:05 [INF] Executed action OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation) in 116.4979ms
2025-11-14 14:29:05 [INF] Executed endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Room/getall - 200 null application/json; charset=utf-8 676.8378ms
2025-11-14 14:29:05 [INF] Response 200 Body: [{"travelAgentID":1,"travelAgentCode":"TA001","description":"AITKEN SPENSE"},{"travelAgentID":2,"travelAgentCode":"TA002","description":"JETWIN TRAVELS"}]
2025-11-14 14:29:05 [INF] Request finished HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - 200 null application/json; charset=utf-8 858.0187ms
2025-11-14 14:30:51 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:30:51 [DBG] OPTIONS requests are not supported
2025-11-14 14:30:51 [DBG] OPTIONS requests are not supported
2025-11-14 14:30:51 [DBG] OPTIONS requests are not supported
2025-11-14 14:30:51 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:30:51 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:30:51 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:30:51 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:30:51 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:30:51 [INF] CORS policy execution successful.
2025-11-14 14:30:51 [DBG] The request is a preflight request.
2025-11-14 14:30:51 [INF] Response 204 Body: 
2025-11-14 14:30:51 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 29.1663ms
2025-11-14 14:30:51 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1110
2025-11-14 14:30:51 [DBG] POST requests are not supported
2025-11-14 14:30:51 [DBG] POST requests are not supported
2025-11-14 14:30:51 [DBG] POST requests are not supported
2025-11-14 14:30:51 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:30:51 [DBG] Connection id "0HNH3BDL2H3IU", Request id "0HNH3BDL2H3IU:0000003B": started reading request body.
2025-11-14 14:30:51 [DBG] Connection id "0HNH3BDL2H3IU", Request id "0HNH3BDL2H3IU:0000003B": done reading request body.
2025-11-14 14:30:51 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:30:51 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:30:51 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:30:51 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:30:51 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:30:51 [INF] CORS policy execution successful.
2025-11-14 14:30:51 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:30:51 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:30:51 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:30:51 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:30:51 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:30:51 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:30:51 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:30:51 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:30:51 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:30:51 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:30:51 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:30:51 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:30:51 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:30:51 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:30:51 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:30:51 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:30:51 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:30:51 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:30:51 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:30:51 [INF] Saving reservation for customer: G000004
2025-11-14 14:30:51 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:30:51 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:30:51 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:30:51 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:30:51 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:30:51 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:30:51 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:30:51 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 106.0546ms
2025-11-14 14:30:51 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:30:51 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:30:51 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 160.3384ms
2025-11-14 14:31:46 [DBG] Connection id "0HNH3BDL2H3IU" received FIN.
2025-11-14 14:31:46 [DBG] Connection id "0HNH3BDL2H3IT" received FIN.
2025-11-14 14:31:46 [DBG] The connection queue processing loop for 0HNH3BDL2H3IU completed.
2025-11-14 14:31:46 [DBG] The connection queue processing loop for 0HNH3BDL2H3IT completed.
2025-11-14 14:31:46 [DBG] Connection id "0HNH3BDL2H3IU" is closed. The last processed stream ID was 59.
2025-11-14 14:31:46 [DBG] Connection id "0HNH3BDL2H3IT" is closed. The last processed stream ID was 7.
2025-11-14 14:31:46 [DBG] Connection id "0HNH3BDL2H3IU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:31:46 [DBG] Connection id "0HNH3BDL2H3IT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:31:46 [DBG] Connection id "0HNH3BDL2H3IT" stopped.
2025-11-14 14:31:46 [DBG] Connection id "0HNH3BDL2H3IU" stopped.
2025-11-14 14:32:20 [DBG] Connection id "0HNH3BDL2H3IV" accepted.
2025-11-14 14:32:20 [DBG] Connection id "0HNH3BDL2H3IV" started.
2025-11-14 14:32:20 [DBG] Connection 0HNH3BDL2H3IV established using the following protocol: "Tls12"
2025-11-14 14:32:20 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:32:20 [DBG] OPTIONS requests are not supported
2025-11-14 14:32:20 [DBG] OPTIONS requests are not supported
2025-11-14 14:32:20 [DBG] OPTIONS requests are not supported
2025-11-14 14:32:20 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:32:20 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:32:20 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:32:20 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:32:20 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:32:20 [INF] CORS policy execution successful.
2025-11-14 14:32:20 [DBG] The request is a preflight request.
2025-11-14 14:32:20 [INF] Response 204 Body: 
2025-11-14 14:32:20 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 18.0102ms
2025-11-14 14:32:20 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:32:20 [DBG] POST requests are not supported
2025-11-14 14:32:20 [DBG] POST requests are not supported
2025-11-14 14:32:20 [DBG] POST requests are not supported
2025-11-14 14:32:20 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:32:20 [DBG] Connection id "0HNH3BDL2H3IV", Request id "0HNH3BDL2H3IV:00000003": started reading request body.
2025-11-14 14:32:20 [DBG] Connection id "0HNH3BDL2H3IV", Request id "0HNH3BDL2H3IV:00000003": done reading request body.
2025-11-14 14:32:20 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:32:20 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:32:20 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:32:20 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:32:20 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:32:20 [INF] CORS policy execution successful.
2025-11-14 14:32:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:32:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:32:20 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:32:20 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:32:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:32:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:32:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:32:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:32:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:32:20 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:32:20 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:32:20 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:32:20 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:32:20 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:32:20 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:32:20 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:32:20 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:32:20 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:32:20 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:32:20 [INF] Saving reservation for customer: G000004
2025-11-14 14:32:20 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:32:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:32:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:32:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:32:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:32:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:32:20 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:32:20 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 80.7849ms
2025-11-14 14:32:20 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:32:20 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:32:20 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 132.2292ms
2025-11-14 14:36:05 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:36:05 [DBG] Hosting starting
2025-11-14 14:36:05 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:36:05 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:36:05 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:36:05 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:36:05 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:36:05 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:36:05 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:36:05 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:36:05 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:36:05 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:36:05 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:36:05 [DBG] Middleware loaded
2025-11-14 14:36:05 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:36:05 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:36:06 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:36:06 [INF] Now listening on: https://localhost:9307
2025-11-14 14:36:06 [INF] Now listening on: http://localhost:9308
2025-11-14 14:36:06 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:36:06 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:36:06 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:36:06 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:36:06 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:36:06 [INF] Hosting environment: Development
2025-11-14 14:36:06 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:36:06 [DBG] Hosting started
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH5" accepted.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH6" received FIN.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH5" received FIN.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH5" started.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH6" accepted.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH6" started.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH7" accepted.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH7" started.
2025-11-14 14:36:06 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:36:06 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH6" stopped.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH5" stopped.
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:36:06 [DBG] Connection id "0HNH3BK5MOBH6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:36:06 [DBG] Connection 0HNH3BK5MOBH7 established using the following protocol: "Tls12"
2025-11-14 14:36:06 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:36:06 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:36:06 [DBG] The request path  does not match the path filter
2025-11-14 14:36:07 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:36:07 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:36:07 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:36:07 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:36:07 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 250.2844ms
2025-11-14 14:36:07 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:36:07 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:36:07 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:36:07 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 31.8023ms
2025-11-14 14:36:07 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.7373ms
2025-11-14 14:36:07 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:36:07 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.1198ms
2025-11-14 14:36:29 [DBG] Connection id "0HNH3BK5MOBH8" accepted.
2025-11-14 14:36:29 [DBG] Connection id "0HNH3BK5MOBH8" started.
2025-11-14 14:36:29 [DBG] Connection 0HNH3BK5MOBH8 established using the following protocol: "Tls12"
2025-11-14 14:36:29 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:36:29 [DBG] OPTIONS requests are not supported
2025-11-14 14:36:29 [DBG] OPTIONS requests are not supported
2025-11-14 14:36:29 [DBG] OPTIONS requests are not supported
2025-11-14 14:36:29 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:36:29 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:36:29 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:36:29 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:36:29 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:36:29 [INF] CORS policy execution successful.
2025-11-14 14:36:29 [DBG] The request is a preflight request.
2025-11-14 14:36:29 [INF] Response 204 Body: 
2025-11-14 14:36:29 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 103.6615ms
2025-11-14 14:36:29 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:36:29 [DBG] POST requests are not supported
2025-11-14 14:36:29 [DBG] POST requests are not supported
2025-11-14 14:36:29 [DBG] POST requests are not supported
2025-11-14 14:36:29 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:36:29 [DBG] Connection id "0HNH3BK5MOBH8", Request id "0HNH3BK5MOBH8:00000003": started reading request body.
2025-11-14 14:36:29 [DBG] Connection id "0HNH3BK5MOBH8", Request id "0HNH3BK5MOBH8:00000003": done reading request body.
2025-11-14 14:36:29 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:36:29 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:36:29 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:36:29 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:36:29 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:36:29 [INF] CORS policy execution successful.
2025-11-14 14:36:29 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:36:29 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:36:29 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:36:29 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:36:29 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:36:29 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:36:29 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:36:29 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:36:29 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:36:29 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:36:29 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:36:29 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:36:29 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:36:29 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:36:29 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:36:29 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:36:29 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:36:29 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:36:29 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:36:29 [INF] Saving reservation for customer: G000004
2025-11-14 14:36:30 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:36:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:36:30 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:36:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:36:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:36:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:36:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:36:30 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 1008.0464ms
2025-11-14 14:36:30 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:36:30 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:36:30 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 1334.4573ms
2025-11-14 14:40:05 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:40:05 [DBG] Hosting starting
2025-11-14 14:40:05 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:40:05 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:40:05 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:40:05 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:40:05 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:40:05 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:40:05 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:40:05 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:40:05 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:40:05 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:40:05 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:40:05 [DBG] Middleware loaded
2025-11-14 14:40:05 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:40:05 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:40:05 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:40:05 [INF] Now listening on: https://localhost:9307
2025-11-14 14:40:05 [INF] Now listening on: http://localhost:9308
2025-11-14 14:40:05 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:40:05 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:40:05 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:40:05 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:40:05 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:40:05 [INF] Hosting environment: Development
2025-11-14 14:40:05 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:40:05 [DBG] Hosting started
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQE" accepted.
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQE" started.
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQF" accepted.
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQF" started.
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQE" received FIN.
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQF" received FIN.
2025-11-14 14:40:06 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:40:06 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQE" stopped.
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQF" stopped.
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQG" accepted.
2025-11-14 14:40:06 [DBG] Connection id "0HNH3BMD4BNQG" started.
2025-11-14 14:40:06 [DBG] Connection 0HNH3BMD4BNQG established using the following protocol: "Tls12"
2025-11-14 14:40:06 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:40:06 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:40:06 [DBG] The request path  does not match the path filter
2025-11-14 14:40:06 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:40:06 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:40:06 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:40:06 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:40:06 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 268.0583ms
2025-11-14 14:40:06 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:40:06 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:40:06 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:40:06 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 32.0721ms
2025-11-14 14:40:06 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.0477ms
2025-11-14 14:40:06 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:40:06 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.0175ms
2025-11-14 14:40:40 [DBG] Connection id "0HNH3BMD4BNQH" accepted.
2025-11-14 14:40:40 [DBG] Connection id "0HNH3BMD4BNQH" started.
2025-11-14 14:40:40 [DBG] Connection 0HNH3BMD4BNQH established using the following protocol: "Tls12"
2025-11-14 14:40:40 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:40:40 [DBG] OPTIONS requests are not supported
2025-11-14 14:40:40 [DBG] OPTIONS requests are not supported
2025-11-14 14:40:40 [DBG] OPTIONS requests are not supported
2025-11-14 14:40:40 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:40:40 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:40:40 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:40:40 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:40:40 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:40:40 [INF] CORS policy execution successful.
2025-11-14 14:40:40 [DBG] The request is a preflight request.
2025-11-14 14:40:40 [INF] Response 204 Body: 
2025-11-14 14:40:40 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 91.8739ms
2025-11-14 14:40:40 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:40:40 [DBG] POST requests are not supported
2025-11-14 14:40:40 [DBG] POST requests are not supported
2025-11-14 14:40:40 [DBG] POST requests are not supported
2025-11-14 14:40:40 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:40:40 [DBG] Connection id "0HNH3BMD4BNQH", Request id "0HNH3BMD4BNQH:00000003": started reading request body.
2025-11-14 14:40:40 [DBG] Connection id "0HNH3BMD4BNQH", Request id "0HNH3BMD4BNQH:00000003": done reading request body.
2025-11-14 14:40:40 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:40:40 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:40:40 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:40:40 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:40:40 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:40:40 [INF] CORS policy execution successful.
2025-11-14 14:40:40 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:40:40 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:40:40 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:40:40 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:40:40 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:40:40 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:40:40 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:40:40 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:40:40 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:40:40 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:40:40 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:40:40 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:40:40 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:40:40 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:40:40 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:40:40 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:40:40 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:40:40 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:40:40 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:40:40 [INF] Saving reservation for customer: G000004
2025-11-14 14:40:41 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:40:41 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:40:41 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:40:41 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:40:41 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:40:41 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:40:41 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:40:41 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 544.7744ms
2025-11-14 14:40:41 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:40:41 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:40:41 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 763.1072ms
2025-11-14 14:42:01 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:42:01 [DBG] OPTIONS requests are not supported
2025-11-14 14:42:01 [DBG] OPTIONS requests are not supported
2025-11-14 14:42:01 [DBG] OPTIONS requests are not supported
2025-11-14 14:42:01 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:42:01 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:42:01 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:42:01 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:42:01 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:42:01 [INF] CORS policy execution successful.
2025-11-14 14:42:01 [DBG] The request is a preflight request.
2025-11-14 14:42:01 [INF] Response 204 Body: 
2025-11-14 14:42:01 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 30.0262ms
2025-11-14 14:42:01 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:42:01 [DBG] POST requests are not supported
2025-11-14 14:42:01 [DBG] POST requests are not supported
2025-11-14 14:42:01 [DBG] POST requests are not supported
2025-11-14 14:42:01 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:42:01 [DBG] Connection id "0HNH3BMD4BNQH", Request id "0HNH3BMD4BNQH:00000007": started reading request body.
2025-11-14 14:42:01 [DBG] Connection id "0HNH3BMD4BNQH", Request id "0HNH3BMD4BNQH:00000007": done reading request body.
2025-11-14 14:42:01 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:42:01 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:42:01 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:42:01 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:42:01 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:42:01 [INF] CORS policy execution successful.
2025-11-14 14:42:01 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:42:01 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:42:01 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:42:01 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:42:01 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:42:01 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:42:01 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:42:01 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:42:01 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:42:01 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:42:01 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:42:01 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:42:01 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:42:01 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:42:01 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:42:01 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:42:01 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:42:01 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:42:01 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:42:01 [INF] Saving reservation for customer: G000004
2025-11-14 14:42:01 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:42:01 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:42:01 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:42:01 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:42:01 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:42:01 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:42:01 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:42:01 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 124.2562ms
2025-11-14 14:42:01 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:42:01 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:42:01 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 186.666ms
2025-11-14 14:46:58 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:46:59 [DBG] Hosting starting
2025-11-14 14:46:59 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:46:59 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:46:59 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:46:59 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:46:59 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:46:59 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:46:59 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:46:59 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:46:59 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:46:59 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:46:59 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:46:59 [DBG] Middleware loaded
2025-11-14 14:46:59 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:46:59 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:46:59 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:46:59 [INF] Now listening on: https://localhost:9307
2025-11-14 14:46:59 [INF] Now listening on: http://localhost:9308
2025-11-14 14:46:59 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:46:59 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:46:59 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:46:59 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:46:59 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:46:59 [INF] Hosting environment: Development
2025-11-14 14:46:59 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:46:59 [DBG] Hosting started
2025-11-14 14:46:59 [DBG] Connection id "0HNH3BQ8G4KMR" accepted.
2025-11-14 14:46:59 [DBG] Connection id "0HNH3BQ8G4KMR" started.
2025-11-14 14:47:00 [DBG] Connection id "0HNH3BQ8G4KMR" received FIN.
2025-11-14 14:47:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:47:00 [DBG] Connection id "0HNH3BQ8G4KMS" accepted.
2025-11-14 14:47:00 [DBG] Connection id "0HNH3BQ8G4KMS" started.
2025-11-14 14:47:00 [DBG] Connection id "0HNH3BQ8G4KMR" stopped.
2025-11-14 14:47:00 [DBG] Connection id "0HNH3BQ8G4KMR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:47:00 [DBG] Connection 0HNH3BQ8G4KMS established using the following protocol: "Tls12"
2025-11-14 14:47:00 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:47:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:47:00 [DBG] The request path  does not match the path filter
2025-11-14 14:47:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:47:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:47:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:47:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:47:00 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 256.9413ms
2025-11-14 14:47:00 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:47:00 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:47:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:47:00 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 35.6448ms
2025-11-14 14:47:00 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.1105ms
2025-11-14 14:47:00 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:47:00 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.5151ms
2025-11-14 14:47:06 [DBG] Connection id "0HNH3BQ8G4KMT" accepted.
2025-11-14 14:47:06 [DBG] Connection id "0HNH3BQ8G4KMT" started.
2025-11-14 14:47:06 [DBG] Connection 0HNH3BQ8G4KMT established using the following protocol: "Tls12"
2025-11-14 14:47:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:47:06 [DBG] OPTIONS requests are not supported
2025-11-14 14:47:06 [DBG] OPTIONS requests are not supported
2025-11-14 14:47:06 [DBG] OPTIONS requests are not supported
2025-11-14 14:47:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:47:06 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:47:06 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:47:06 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:47:06 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:47:06 [INF] CORS policy execution successful.
2025-11-14 14:47:06 [DBG] The request is a preflight request.
2025-11-14 14:47:06 [INF] Response 204 Body: 
2025-11-14 14:47:06 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 81.3161ms
2025-11-14 14:47:06 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:47:06 [DBG] POST requests are not supported
2025-11-14 14:47:06 [DBG] POST requests are not supported
2025-11-14 14:47:06 [DBG] POST requests are not supported
2025-11-14 14:47:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:47:06 [DBG] Connection id "0HNH3BQ8G4KMT", Request id "0HNH3BQ8G4KMT:00000003": started reading request body.
2025-11-14 14:47:06 [DBG] Connection id "0HNH3BQ8G4KMT", Request id "0HNH3BQ8G4KMT:00000003": done reading request body.
2025-11-14 14:47:06 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:47:06 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:47:06 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:47:06 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:47:06 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:47:06 [INF] CORS policy execution successful.
2025-11-14 14:47:06 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:47:06 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:47:06 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:47:06 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:47:06 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:47:06 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:47:06 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:47:06 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:47:06 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:47:06 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:47:06 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:47:06 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:47:06 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:47:06 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:47:06 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:47:06 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:47:06 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:47:06 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:47:06 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:47:06 [INF] Saving reservation for customer: G000004
2025-11-14 14:47:06 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:47:06 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:47:06 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:47:06 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:47:06 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:47:06 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:47:06 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:47:06 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 530.515ms
2025-11-14 14:47:06 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:47:06 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:47:06 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 749.7249ms
2025-11-14 14:47:50 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:47:50 [DBG] OPTIONS requests are not supported
2025-11-14 14:47:50 [DBG] OPTIONS requests are not supported
2025-11-14 14:47:50 [DBG] OPTIONS requests are not supported
2025-11-14 14:47:50 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:47:50 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:47:51 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:47:51 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:47:51 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:47:51 [INF] CORS policy execution successful.
2025-11-14 14:47:51 [DBG] The request is a preflight request.
2025-11-14 14:47:51 [INF] Response 204 Body: 
2025-11-14 14:47:51 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 35.8259ms
2025-11-14 14:47:51 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:47:51 [DBG] POST requests are not supported
2025-11-14 14:47:51 [DBG] POST requests are not supported
2025-11-14 14:47:51 [DBG] POST requests are not supported
2025-11-14 14:47:51 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:47:51 [DBG] Connection id "0HNH3BQ8G4KMT", Request id "0HNH3BQ8G4KMT:00000007": started reading request body.
2025-11-14 14:47:51 [DBG] Connection id "0HNH3BQ8G4KMT", Request id "0HNH3BQ8G4KMT:00000007": done reading request body.
2025-11-14 14:47:51 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:47:51 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:47:51 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:47:51 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:47:51 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:47:51 [INF] CORS policy execution successful.
2025-11-14 14:47:51 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:47:51 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:47:51 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:47:51 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:47:51 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:47:51 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:47:51 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:47:51 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:47:51 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:47:51 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:47:51 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:47:51 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:47:51 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:47:51 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:47:51 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:47:51 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:47:51 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:47:51 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:47:51 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:47:51 [INF] Saving reservation for customer: G000004
2025-11-14 14:47:51 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:47:51 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:47:51 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:47:51 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:47:51 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:47:51 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:47:51 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:47:51 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 105.6335ms
2025-11-14 14:47:51 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:47:51 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:47:51 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 174.5419ms
2025-11-14 14:49:15 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:49:15 [DBG] OPTIONS requests are not supported
2025-11-14 14:49:15 [DBG] OPTIONS requests are not supported
2025-11-14 14:49:15 [DBG] OPTIONS requests are not supported
2025-11-14 14:49:15 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:49:15 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:49:15 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:49:15 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:49:15 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:49:15 [INF] CORS policy execution successful.
2025-11-14 14:49:15 [DBG] The request is a preflight request.
2025-11-14 14:49:15 [INF] Response 204 Body: 
2025-11-14 14:49:15 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 23.0288ms
2025-11-14 14:49:15 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:49:15 [DBG] POST requests are not supported
2025-11-14 14:49:15 [DBG] POST requests are not supported
2025-11-14 14:49:15 [DBG] POST requests are not supported
2025-11-14 14:49:15 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:49:15 [DBG] Connection id "0HNH3BQ8G4KMT", Request id "0HNH3BQ8G4KMT:0000000B": started reading request body.
2025-11-14 14:49:15 [DBG] Connection id "0HNH3BQ8G4KMT", Request id "0HNH3BQ8G4KMT:0000000B": done reading request body.
2025-11-14 14:49:15 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:49:15 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:49:15 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:49:15 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:49:15 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:49:15 [INF] CORS policy execution successful.
2025-11-14 14:49:15 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:49:15 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:49:15 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:49:15 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:49:15 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:49:15 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:49:15 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:49:15 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:49:15 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:49:15 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:49:15 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:49:15 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:49:15 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:49:15 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:49:15 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:49:15 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:49:15 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:49:15 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:49:15 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:49:15 [INF] Saving reservation for customer: G000004
2025-11-14 14:49:15 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:49:15 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:49:15 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:49:15 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:49:15 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:49:15 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:49:15 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:49:15 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 87.0608ms
2025-11-14 14:49:15 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:49:15 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:49:15 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 162.0302ms
2025-11-14 14:50:10 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:50:10 [DBG] OPTIONS requests are not supported
2025-11-14 14:50:10 [DBG] OPTIONS requests are not supported
2025-11-14 14:50:10 [DBG] OPTIONS requests are not supported
2025-11-14 14:50:10 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:50:10 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:50:10 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:50:10 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:50:10 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:50:10 [INF] CORS policy execution successful.
2025-11-14 14:50:10 [DBG] The request is a preflight request.
2025-11-14 14:50:10 [INF] Response 204 Body: 
2025-11-14 14:50:10 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 29.3106ms
2025-11-14 14:50:10 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:50:10 [DBG] POST requests are not supported
2025-11-14 14:50:10 [DBG] POST requests are not supported
2025-11-14 14:50:10 [DBG] POST requests are not supported
2025-11-14 14:50:10 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:50:10 [DBG] Connection id "0HNH3BQ8G4KMT", Request id "0HNH3BQ8G4KMT:0000000F": started reading request body.
2025-11-14 14:50:10 [DBG] Connection id "0HNH3BQ8G4KMT", Request id "0HNH3BQ8G4KMT:0000000F": done reading request body.
2025-11-14 14:50:11 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:50:11 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:50:11 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:50:11 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:50:11 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:50:11 [INF] CORS policy execution successful.
2025-11-14 14:50:11 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:50:11 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:50:11 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:50:11 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:50:11 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:50:11 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:50:11 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:50:11 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:50:11 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:50:11 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:50:11 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:50:11 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:50:11 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:50:11 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:50:11 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:50:11 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:50:11 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:50:11 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:50:11 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:50:11 [INF] Saving reservation for customer: G000004
2025-11-14 14:50:11 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:50:11 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:50:11 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:50:11 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:50:11 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:50:11 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:50:11 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:50:11 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 126.4762ms
2025-11-14 14:50:11 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:50:11 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:50:11 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 195.6897ms
2025-11-14 14:51:13 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:51:13 [DBG] Hosting starting
2025-11-14 14:51:13 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:51:13 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:51:13 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:51:13 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:51:13 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:51:13 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:51:13 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:51:13 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:51:13 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:51:13 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:51:13 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:51:13 [DBG] Middleware loaded
2025-11-14 14:51:13 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:51:13 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:51:13 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:51:14 [INF] Now listening on: https://localhost:9307
2025-11-14 14:51:14 [INF] Now listening on: http://localhost:9308
2025-11-14 14:51:14 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:51:14 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:51:14 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:51:14 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:51:14 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:51:14 [INF] Hosting environment: Development
2025-11-14 14:51:14 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:51:14 [DBG] Hosting started
2025-11-14 14:51:14 [DBG] Connection id "0HNH3BSK9UP5M" received FIN.
2025-11-14 14:51:14 [DBG] Connection id "0HNH3BSK9UP5M" accepted.
2025-11-14 14:51:14 [DBG] Connection id "0HNH3BSK9UP5M" started.
2025-11-14 14:51:14 [DBG] Connection id "0HNH3BSK9UP5N" accepted.
2025-11-14 14:51:14 [DBG] Connection id "0HNH3BSK9UP5N" started.
2025-11-14 14:51:14 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:51:14 [DBG] Connection id "0HNH3BSK9UP5M" stopped.
2025-11-14 14:51:14 [DBG] Connection id "0HNH3BSK9UP5M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:51:14 [DBG] Connection 0HNH3BSK9UP5N established using the following protocol: "Tls12"
2025-11-14 14:51:14 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:51:14 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:51:14 [DBG] The request path  does not match the path filter
2025-11-14 14:51:15 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:51:15 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:51:15 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:51:15 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:51:15 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 316.6737ms
2025-11-14 14:51:15 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:51:15 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:51:15 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:51:15 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 17.1435ms
2025-11-14 14:51:15 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.2076ms
2025-11-14 14:51:15 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:51:15 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.7979ms
2025-11-14 14:51:28 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:51:28 [DBG] The request path  does not match the path filter
2025-11-14 14:51:28 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:51:28 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:51:28 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:51:28 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:51:28 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:51:28 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:51:28 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:51:28 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 203.2869ms
2025-11-14 14:51:28 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 48.9599ms
2025-11-14 14:51:28 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 136.3614ms
2025-11-14 14:51:29 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:51:29 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.748ms
2025-11-14 14:51:36 [DBG] Connection id "0HNH3BSK9UP5O" accepted.
2025-11-14 14:51:36 [DBG] Connection id "0HNH3BSK9UP5O" started.
2025-11-14 14:51:36 [DBG] Connection 0HNH3BSK9UP5O established using the following protocol: "Tls12"
2025-11-14 14:51:36 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:51:36 [DBG] OPTIONS requests are not supported
2025-11-14 14:51:36 [DBG] OPTIONS requests are not supported
2025-11-14 14:51:36 [DBG] OPTIONS requests are not supported
2025-11-14 14:51:36 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:51:36 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:51:36 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:51:36 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:51:36 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:51:36 [INF] CORS policy execution successful.
2025-11-14 14:51:36 [DBG] The request is a preflight request.
2025-11-14 14:51:36 [INF] Response 204 Body: 
2025-11-14 14:51:36 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 90.9732ms
2025-11-14 14:51:36 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:51:36 [DBG] POST requests are not supported
2025-11-14 14:51:36 [DBG] POST requests are not supported
2025-11-14 14:51:36 [DBG] POST requests are not supported
2025-11-14 14:51:36 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:51:36 [DBG] Connection id "0HNH3BSK9UP5O", Request id "0HNH3BSK9UP5O:00000003": started reading request body.
2025-11-14 14:51:36 [DBG] Connection id "0HNH3BSK9UP5O", Request id "0HNH3BSK9UP5O:00000003": done reading request body.
2025-11-14 14:51:36 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:51:36 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:51:36 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:51:36 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:51:36 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:51:36 [INF] CORS policy execution successful.
2025-11-14 14:51:36 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:51:36 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:51:36 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:51:36 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:51:36 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:51:36 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:51:36 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:51:36 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:51:36 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:51:36 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:51:36 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:51:36 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:51:36 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:51:36 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:51:36 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:51:36 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:51:36 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:51:36 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:51:36 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:51:36 [INF] Saving reservation for customer: G000004
2025-11-14 14:51:36 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:51:36 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:51:36 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:51:36 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:51:36 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:51:36 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:51:36 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:51:36 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 539.8097ms
2025-11-14 14:51:36 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:51:37 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:51:37 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 754.3624ms
2025-11-14 14:52:15 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 14:52:15 [DBG] Hosting starting
2025-11-14 14:52:15 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 14:52:15 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 14:52:15 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 14:52:15 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 14:52:15 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:52:15 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 14:52:15 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 14:52:15 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 14:52:15 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 14:52:15 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 14:52:15 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 14:52:15 [DBG] Middleware loaded
2025-11-14 14:52:15 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 14:52:15 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 14:52:15 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 14:52:16 [INF] Now listening on: https://localhost:9307
2025-11-14 14:52:16 [INF] Now listening on: http://localhost:9308
2025-11-14 14:52:16 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 14:52:16 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 14:52:16 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 14:52:16 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 14:52:16 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 14:52:16 [INF] Hosting environment: Development
2025-11-14 14:52:16 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 14:52:16 [DBG] Hosting started
2025-11-14 14:52:16 [DBG] Connection id "0HNH3BT6PH70F" received FIN.
2025-11-14 14:52:16 [DBG] Connection id "0HNH3BT6PH70F" accepted.
2025-11-14 14:52:16 [DBG] Connection id "0HNH3BT6PH70F" started.
2025-11-14 14:52:16 [DBG] Connection id "0HNH3BT6PH70G" accepted.
2025-11-14 14:52:16 [DBG] Connection id "0HNH3BT6PH70G" started.
2025-11-14 14:52:16 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 14:52:16 [DBG] Connection 0HNH3BT6PH70G established using the following protocol: "Tls12"
2025-11-14 14:52:16 [DBG] Connection id "0HNH3BT6PH70F" stopped.
2025-11-14 14:52:16 [DBG] Connection id "0HNH3BT6PH70F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 14:52:17 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 14:52:17 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 14:52:17 [DBG] The request path  does not match the path filter
2025-11-14 14:52:17 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 14:52:17 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 14:52:17 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 14:52:17 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 14:52:17 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 529.987ms
2025-11-14 14:52:17 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 14:52:17 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 14:52:17 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 14:52:17 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 23.4074ms
2025-11-14 14:52:17 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.0131ms
2025-11-14 14:52:17 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 14:52:17 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.9503ms
2025-11-14 14:53:07 [DBG] Connection id "0HNH3BT6PH70H" accepted.
2025-11-14 14:53:07 [DBG] Connection id "0HNH3BT6PH70H" started.
2025-11-14 14:53:07 [DBG] Connection 0HNH3BT6PH70H established using the following protocol: "Tls12"
2025-11-14 14:53:07 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 14:53:07 [DBG] OPTIONS requests are not supported
2025-11-14 14:53:07 [DBG] OPTIONS requests are not supported
2025-11-14 14:53:07 [DBG] OPTIONS requests are not supported
2025-11-14 14:53:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:53:07 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 14:53:07 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:53:07 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 14:53:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:53:07 [INF] CORS policy execution successful.
2025-11-14 14:53:07 [DBG] The request is a preflight request.
2025-11-14 14:53:07 [INF] Response 204 Body: 
2025-11-14 14:53:07 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 102.8338ms
2025-11-14 14:53:07 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 14:53:07 [DBG] POST requests are not supported
2025-11-14 14:53:07 [DBG] POST requests are not supported
2025-11-14 14:53:07 [DBG] POST requests are not supported
2025-11-14 14:53:07 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 14:53:07 [DBG] Connection id "0HNH3BT6PH70H", Request id "0HNH3BT6PH70H:00000003": started reading request body.
2025-11-14 14:53:07 [DBG] Connection id "0HNH3BT6PH70H", Request id "0HNH3BT6PH70H:00000003": done reading request body.
2025-11-14 14:53:07 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 14:53:07 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 14:53:07 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 14:53:07 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:53:07 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 14:53:07 [INF] CORS policy execution successful.
2025-11-14 14:53:07 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 14:53:07 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 14:53:07 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:53:07 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 14:53:07 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 14:53:07 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 14:53:07 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 14:53:07 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 14:53:07 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 14:53:07 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:53:07 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 14:53:07 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:53:07 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 14:53:07 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 14:53:07 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 14:53:07 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:53:07 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:53:07 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 14:53:07 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 14:53:07 [INF] Saving reservation for customer: G000004
2025-11-14 14:53:08 [INF] Reservation saved successfully: R00000000018
2025-11-14 14:53:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 14:53:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 14:53:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 14:53:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 14:53:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 14:53:08 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:53:08 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 616.1883ms
2025-11-14 14:53:08 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 14:53:08 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 14:53:08 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 867.2463ms
2025-11-14 15:01:19 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 15:01:20 [DBG] Hosting starting
2025-11-14 15:01:20 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 15:01:20 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 15:01:20 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 15:01:20 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 15:01:20 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 15:01:21 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 15:01:21 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 15:01:21 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 15:01:21 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 15:01:21 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 15:01:21 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 15:01:21 [DBG] Middleware loaded
2025-11-14 15:01:21 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 15:01:21 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 15:01:21 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 15:01:21 [DBG] Connection id "0HNH3C299AR2U" accepted.
2025-11-14 15:01:21 [INF] Now listening on: https://localhost:9307
2025-11-14 15:01:21 [INF] Now listening on: http://localhost:9308
2025-11-14 15:01:21 [DBG] Connection id "0HNH3C299AR2V" accepted.
2025-11-14 15:01:21 [DBG] Connection id "0HNH3C299AR2U" started.
2025-11-14 15:01:21 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 15:01:21 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 15:01:21 [DBG] Connection id "0HNH3C299AR2V" started.
2025-11-14 15:01:21 [DBG] Connection id "0HNH3C299AR2U" received FIN.
2025-11-14 15:01:21 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 15:01:21 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 15:01:22 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 15:01:22 [DBG] Connection 0HNH3C299AR2V established using the following protocol: "Tls12"
2025-11-14 15:01:22 [DBG] Connection id "0HNH3C299AR2U" stopped.
2025-11-14 15:01:22 [DBG] Connection id "0HNH3C299AR2U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 15:01:22 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 15:01:22 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 15:01:22 [INF] Hosting environment: Development
2025-11-14 15:01:22 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 15:01:22 [DBG] Hosting started
2025-11-14 15:01:22 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 15:01:22 [DBG] The request path  does not match the path filter
2025-11-14 15:01:22 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 15:01:22 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 15:01:22 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 15:01:22 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 15:01:22 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 401.2757ms
2025-11-14 15:01:22 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 15:01:22 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 15:01:22 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 15:01:22 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 126.4599ms
2025-11-14 15:01:22 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 193.7625ms
2025-11-14 15:01:23 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 15:01:23 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.5703ms
2025-11-14 15:01:43 [DBG] Connection id "0HNH3C299AR30" accepted.
2025-11-14 15:01:43 [DBG] Connection id "0HNH3C299AR30" started.
2025-11-14 15:01:43 [DBG] Connection 0HNH3C299AR30 established using the following protocol: "Tls12"
2025-11-14 15:01:43 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:01:43 [DBG] OPTIONS requests are not supported
2025-11-14 15:01:43 [DBG] OPTIONS requests are not supported
2025-11-14 15:01:43 [DBG] OPTIONS requests are not supported
2025-11-14 15:01:43 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:01:43 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:01:43 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:01:43 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:01:43 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:01:43 [INF] CORS policy execution successful.
2025-11-14 15:01:43 [DBG] The request is a preflight request.
2025-11-14 15:01:43 [INF] Response 204 Body: 
2025-11-14 15:01:43 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 88.6255ms
2025-11-14 15:01:43 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:01:43 [DBG] POST requests are not supported
2025-11-14 15:01:43 [DBG] POST requests are not supported
2025-11-14 15:01:43 [DBG] POST requests are not supported
2025-11-14 15:01:43 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:01:43 [DBG] Connection id "0HNH3C299AR30", Request id "0HNH3C299AR30:00000003": started reading request body.
2025-11-14 15:01:43 [DBG] Connection id "0HNH3C299AR30", Request id "0HNH3C299AR30:00000003": done reading request body.
2025-11-14 15:01:43 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:01:43 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:01:43 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:01:43 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:01:43 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:01:43 [INF] CORS policy execution successful.
2025-11-14 15:01:43 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:01:43 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:01:43 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:01:43 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:01:43 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:01:43 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:01:43 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:01:43 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:01:43 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:01:43 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:01:43 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:01:43 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:01:43 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:01:43 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:01:43 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:01:43 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:01:43 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:01:43 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:01:43 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:01:43 [INF] Saving reservation for customer: G000004
2025-11-14 15:01:44 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:01:44 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:01:44 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:01:44 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:01:44 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:01:44 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:01:44 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:01:44 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 684.4228ms
2025-11-14 15:01:44 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:01:44 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:01:44 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 933.8102ms
2025-11-14 15:01:46 [DBG] Connection id "0HNH3C299AR2V" received FIN.
2025-11-14 15:01:46 [DBG] Connection id "0HNH3C299AR30" received FIN.
2025-11-14 15:01:46 [DBG] Connection id "0HNH3C299AR2V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 15:01:46 [DBG] The connection queue processing loop for 0HNH3C299AR30 completed.
2025-11-14 15:01:46 [DBG] Connection id "0HNH3C299AR2V" is closed. The last processed stream ID was 7.
2025-11-14 15:01:46 [DBG] Connection id "0HNH3C299AR30" is closed. The last processed stream ID was 3.
2025-11-14 15:01:46 [DBG] The connection queue processing loop for 0HNH3C299AR2V completed.
2025-11-14 15:01:46 [DBG] Connection id "0HNH3C299AR30" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 15:01:46 [DBG] Connection id "0HNH3C299AR2V" stopped.
2025-11-14 15:01:46 [DBG] Connection id "0HNH3C299AR30" stopped.
2025-11-14 15:04:32 [DBG] Connection id "0HNH3C299AR31" accepted.
2025-11-14 15:04:32 [DBG] Connection id "0HNH3C299AR31" started.
2025-11-14 15:04:33 [DBG] Connection 0HNH3C299AR31 established using the following protocol: "Tls12"
2025-11-14 15:04:33 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:04:33 [DBG] OPTIONS requests are not supported
2025-11-14 15:04:33 [DBG] OPTIONS requests are not supported
2025-11-14 15:04:33 [DBG] OPTIONS requests are not supported
2025-11-14 15:04:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:04:33 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:04:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:04:33 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:04:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:04:33 [INF] CORS policy execution successful.
2025-11-14 15:04:33 [DBG] The request is a preflight request.
2025-11-14 15:04:33 [INF] Response 204 Body: 
2025-11-14 15:04:33 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 29.1162ms
2025-11-14 15:04:33 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:04:33 [DBG] POST requests are not supported
2025-11-14 15:04:33 [DBG] POST requests are not supported
2025-11-14 15:04:33 [DBG] POST requests are not supported
2025-11-14 15:04:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:04:33 [DBG] Connection id "0HNH3C299AR31", Request id "0HNH3C299AR31:00000003": started reading request body.
2025-11-14 15:04:33 [DBG] Connection id "0HNH3C299AR31", Request id "0HNH3C299AR31:00000003": done reading request body.
2025-11-14 15:04:33 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:04:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:04:33 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:04:33 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:04:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:04:33 [INF] CORS policy execution successful.
2025-11-14 15:04:33 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:04:33 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:04:33 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:04:33 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:04:33 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:04:33 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:04:33 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:04:33 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:04:33 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:04:33 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:04:33 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:04:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:04:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:04:33 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:04:33 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:04:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:04:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:04:33 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:04:33 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:04:33 [INF] Saving reservation for customer: G000004
2025-11-14 15:04:33 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:04:33 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:04:33 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:04:33 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:04:33 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:04:33 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:04:33 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:04:33 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 107.036ms
2025-11-14 15:04:33 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:04:33 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:04:33 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 160.4567ms
2025-11-14 15:08:28 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 15:08:29 [DBG] Hosting starting
2025-11-14 15:08:29 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 15:08:29 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 15:08:29 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 15:08:29 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 15:08:29 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 15:08:29 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 15:08:29 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 15:08:29 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 15:08:29 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 15:08:29 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 15:08:29 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 15:08:29 [DBG] Middleware loaded
2025-11-14 15:08:29 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 15:08:29 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 15:08:30 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 15:08:30 [INF] Now listening on: https://localhost:9307
2025-11-14 15:08:30 [INF] Now listening on: http://localhost:9308
2025-11-14 15:08:30 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 15:08:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 15:08:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 15:08:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 15:08:30 [DBG] Connection id "0HNH3C692I6NR" accepted.
2025-11-14 15:08:30 [DBG] Connection id "0HNH3C692I6NR" received FIN.
2025-11-14 15:08:30 [DBG] Connection id "0HNH3C692I6NR" started.
2025-11-14 15:08:30 [DBG] Connection id "0HNH3C692I6NS" accepted.
2025-11-14 15:08:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 15:08:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 15:08:30 [DBG] Connection id "0HNH3C692I6NS" started.
2025-11-14 15:08:30 [INF] Hosting environment: Development
2025-11-14 15:08:30 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 15:08:30 [DBG] Hosting started
2025-11-14 15:08:30 [DBG] Connection id "0HNH3C692I6NR" stopped.
2025-11-14 15:08:30 [DBG] Connection id "0HNH3C692I6NR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 15:08:30 [DBG] Connection 0HNH3C692I6NS established using the following protocol: "Tls12"
2025-11-14 15:08:30 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 15:08:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 15:08:31 [DBG] The request path  does not match the path filter
2025-11-14 15:08:31 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 15:08:31 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 15:08:31 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 15:08:31 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 15:08:31 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 541.6682ms
2025-11-14 15:08:31 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 15:08:31 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 15:08:31 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 15:08:31 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 146.7203ms
2025-11-14 15:08:31 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 410.6625ms
2025-11-14 15:08:32 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 15:08:32 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 151.0542ms
2025-11-14 15:08:44 [DBG] Connection id "0HNH3C692I6NT" accepted.
2025-11-14 15:08:44 [DBG] Connection id "0HNH3C692I6NT" started.
2025-11-14 15:08:44 [DBG] Connection 0HNH3C692I6NT established using the following protocol: "Tls12"
2025-11-14 15:08:44 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:08:44 [DBG] OPTIONS requests are not supported
2025-11-14 15:08:44 [DBG] OPTIONS requests are not supported
2025-11-14 15:08:44 [DBG] OPTIONS requests are not supported
2025-11-14 15:08:44 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:08:44 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:08:44 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:08:44 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:08:44 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:08:44 [INF] CORS policy execution successful.
2025-11-14 15:08:44 [DBG] The request is a preflight request.
2025-11-14 15:08:44 [INF] Response 204 Body: 
2025-11-14 15:08:44 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 89.564ms
2025-11-14 15:08:44 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:08:44 [DBG] POST requests are not supported
2025-11-14 15:08:44 [DBG] POST requests are not supported
2025-11-14 15:08:44 [DBG] POST requests are not supported
2025-11-14 15:08:44 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:08:44 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000003": started reading request body.
2025-11-14 15:08:44 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000003": done reading request body.
2025-11-14 15:08:44 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:08:44 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:08:45 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:08:45 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:08:45 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:08:45 [INF] CORS policy execution successful.
2025-11-14 15:08:45 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:08:45 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:08:45 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:08:45 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:08:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:08:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:08:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:08:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:08:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:08:45 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:08:45 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:08:45 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:08:45 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:08:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:08:45 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:08:45 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:08:45 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:08:45 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:08:45 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:08:45 [INF] Saving reservation for customer: G000004
2025-11-14 15:08:45 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:08:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:08:45 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:08:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:08:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:08:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:08:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:08:45 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 547.415ms
2025-11-14 15:08:45 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:08:45 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:08:45 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 772.2284ms
2025-11-14 15:11:04 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:11:04 [DBG] OPTIONS requests are not supported
2025-11-14 15:11:04 [DBG] OPTIONS requests are not supported
2025-11-14 15:11:04 [DBG] OPTIONS requests are not supported
2025-11-14 15:11:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:11:04 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:11:04 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:11:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:11:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:11:04 [INF] CORS policy execution successful.
2025-11-14 15:11:04 [DBG] The request is a preflight request.
2025-11-14 15:11:04 [INF] Response 204 Body: 
2025-11-14 15:11:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 29.8609ms
2025-11-14 15:11:04 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:11:04 [DBG] POST requests are not supported
2025-11-14 15:11:04 [DBG] POST requests are not supported
2025-11-14 15:11:04 [DBG] POST requests are not supported
2025-11-14 15:11:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:11:04 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000007": started reading request body.
2025-11-14 15:11:04 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000007": done reading request body.
2025-11-14 15:11:04 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:11:04 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:11:04 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:11:04 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:11:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:11:04 [INF] CORS policy execution successful.
2025-11-14 15:11:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:11:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:11:04 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:11:04 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:11:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:11:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:11:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:11:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:11:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:11:04 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:11:04 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:11:05 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:11:05 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:11:05 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:11:05 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:11:05 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:11:05 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:11:05 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:11:05 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:11:05 [INF] Saving reservation for customer: G000004
2025-11-14 15:11:05 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:11:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:11:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:11:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:11:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:11:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:11:05 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:11:05 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 108.4751ms
2025-11-14 15:11:05 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:11:05 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:11:05 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 170.9484ms
2025-11-14 15:14:36 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:14:36 [DBG] OPTIONS requests are not supported
2025-11-14 15:14:36 [DBG] OPTIONS requests are not supported
2025-11-14 15:14:36 [DBG] OPTIONS requests are not supported
2025-11-14 15:14:36 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:14:36 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:14:36 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:14:36 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:14:36 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:14:36 [INF] CORS policy execution successful.
2025-11-14 15:14:36 [DBG] The request is a preflight request.
2025-11-14 15:14:36 [INF] Response 204 Body: 
2025-11-14 15:14:36 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 46.6706ms
2025-11-14 15:14:36 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:14:36 [DBG] POST requests are not supported
2025-11-14 15:14:36 [DBG] POST requests are not supported
2025-11-14 15:14:36 [DBG] POST requests are not supported
2025-11-14 15:14:36 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:14:36 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:0000000B": started reading request body.
2025-11-14 15:14:36 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:0000000B": done reading request body.
2025-11-14 15:14:36 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:14:36 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:14:36 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:14:36 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:14:36 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:14:36 [INF] CORS policy execution successful.
2025-11-14 15:14:36 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:14:36 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:14:36 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:14:36 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:14:36 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:14:36 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:14:36 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:14:36 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:14:36 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:14:36 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:14:36 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:14:36 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:14:36 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:14:36 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:14:36 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:14:36 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:14:36 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:14:36 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:14:36 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:14:36 [INF] Saving reservation for customer: G000004
2025-11-14 15:14:36 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:14:36 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:14:36 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:14:36 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:14:36 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:14:36 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:14:36 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:14:36 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 93.1118ms
2025-11-14 15:14:36 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:14:36 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:14:36 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 150.3369ms
2025-11-14 15:18:09 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 15:18:09 [DBG] The request path  does not match the path filter
2025-11-14 15:18:09 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 15:18:09 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 15:18:09 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 15:18:09 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 15:18:09 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 43.2664ms
2025-11-14 15:18:09 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 15:18:09 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 15:18:09 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 15:18:09 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 9.9283ms
2025-11-14 15:18:09 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.8579ms
2025-11-14 15:18:09 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 15:18:09 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.6499ms
2025-11-14 15:18:17 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:18:17 [DBG] OPTIONS requests are not supported
2025-11-14 15:18:17 [DBG] OPTIONS requests are not supported
2025-11-14 15:18:17 [DBG] OPTIONS requests are not supported
2025-11-14 15:18:17 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:18:17 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:18:17 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:18:17 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:18:17 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:18:17 [INF] CORS policy execution successful.
2025-11-14 15:18:17 [DBG] The request is a preflight request.
2025-11-14 15:18:17 [INF] Response 204 Body: 
2025-11-14 15:18:17 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 41.391ms
2025-11-14 15:18:17 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:18:17 [DBG] POST requests are not supported
2025-11-14 15:18:17 [DBG] POST requests are not supported
2025-11-14 15:18:17 [DBG] POST requests are not supported
2025-11-14 15:18:17 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:18:17 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:0000000F": started reading request body.
2025-11-14 15:18:17 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:0000000F": done reading request body.
2025-11-14 15:18:17 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:18:17 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:18:17 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:18:17 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:18:17 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:18:17 [INF] CORS policy execution successful.
2025-11-14 15:18:17 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:18:17 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:18:17 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:18:17 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:18:17 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:18:17 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:18:17 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:18:17 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:18:17 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:18:17 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:18:17 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:18:17 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:18:17 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:18:17 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:18:17 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:18:17 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:18:17 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:18:17 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:18:17 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:18:17 [INF] Saving reservation for customer: G000004
2025-11-14 15:18:18 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:18:18 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:18:18 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:18:18 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:18:18 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:18:18 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:18:18 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:18:18 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 172.4434ms
2025-11-14 15:18:18 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:18:18 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:18:18 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 237.1267ms
2025-11-14 15:19:29 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:19:29 [DBG] OPTIONS requests are not supported
2025-11-14 15:19:29 [DBG] OPTIONS requests are not supported
2025-11-14 15:19:29 [DBG] OPTIONS requests are not supported
2025-11-14 15:19:29 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:19:29 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:19:29 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:19:29 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:19:29 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:19:29 [INF] CORS policy execution successful.
2025-11-14 15:19:29 [DBG] The request is a preflight request.
2025-11-14 15:19:29 [INF] Response 204 Body: 
2025-11-14 15:19:29 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 27.1133ms
2025-11-14 15:19:29 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:19:29 [DBG] POST requests are not supported
2025-11-14 15:19:29 [DBG] POST requests are not supported
2025-11-14 15:19:29 [DBG] POST requests are not supported
2025-11-14 15:19:29 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:19:29 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000013": started reading request body.
2025-11-14 15:19:29 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000013": done reading request body.
2025-11-14 15:19:29 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:19:29 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:19:29 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:19:29 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:19:29 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:19:29 [INF] CORS policy execution successful.
2025-11-14 15:19:29 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:19:29 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:19:29 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:19:29 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:19:29 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:19:29 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:19:29 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:19:29 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:19:29 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:19:29 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:19:29 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:19:29 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:19:29 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:19:29 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:19:29 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:19:29 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:19:29 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:19:29 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:19:29 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:19:29 [INF] Saving reservation for customer: G000004
2025-11-14 15:19:29 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:19:29 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:19:29 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:19:29 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:19:29 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:19:29 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:19:29 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:19:29 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 98.1737ms
2025-11-14 15:19:29 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:19:29 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:19:29 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 170.6296ms
2025-11-14 15:25:18 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 15:25:18 [DBG] The request path  does not match the path filter
2025-11-14 15:25:18 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 15:25:18 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 15:25:18 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 15:25:18 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 15:25:18 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 63.2799ms
2025-11-14 15:25:18 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 15:25:18 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 15:25:18 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 15:25:18 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 8.8544ms
2025-11-14 15:25:18 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.5029ms
2025-11-14 15:25:18 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 15:25:18 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.5397ms
2025-11-14 15:25:26 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:25:26 [DBG] OPTIONS requests are not supported
2025-11-14 15:25:26 [DBG] OPTIONS requests are not supported
2025-11-14 15:25:26 [DBG] OPTIONS requests are not supported
2025-11-14 15:25:26 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:25:26 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:25:26 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:25:26 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:25:26 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:25:26 [INF] CORS policy execution successful.
2025-11-14 15:25:26 [DBG] The request is a preflight request.
2025-11-14 15:25:26 [INF] Response 204 Body: 
2025-11-14 15:25:26 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 26.6595ms
2025-11-14 15:25:26 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:25:26 [DBG] POST requests are not supported
2025-11-14 15:25:26 [DBG] POST requests are not supported
2025-11-14 15:25:26 [DBG] POST requests are not supported
2025-11-14 15:25:26 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:25:26 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000017": started reading request body.
2025-11-14 15:25:26 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000017": done reading request body.
2025-11-14 15:25:26 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:25:26 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:25:26 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:25:26 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:25:26 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:25:26 [INF] CORS policy execution successful.
2025-11-14 15:25:26 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:25:26 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:25:26 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:25:26 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:25:26 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:25:26 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:25:26 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:25:26 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:25:26 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:25:26 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:25:26 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:25:26 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:25:26 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:25:26 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:25:26 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:25:26 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:25:26 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:25:26 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:25:26 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:25:26 [INF] Saving reservation for customer: G000004
2025-11-14 15:25:26 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:25:26 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:25:26 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:25:26 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:25:26 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:25:26 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:25:26 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:25:26 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 121.977ms
2025-11-14 15:25:26 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:25:26 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:25:26 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 184.9354ms
2025-11-14 15:27:58 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:27:58 [DBG] OPTIONS requests are not supported
2025-11-14 15:27:58 [DBG] OPTIONS requests are not supported
2025-11-14 15:27:58 [DBG] OPTIONS requests are not supported
2025-11-14 15:27:58 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:27:58 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:27:58 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:27:58 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:27:58 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:27:58 [INF] CORS policy execution successful.
2025-11-14 15:27:58 [DBG] The request is a preflight request.
2025-11-14 15:27:58 [INF] Response 204 Body: 
2025-11-14 15:27:58 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 30.9865ms
2025-11-14 15:27:58 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:27:58 [DBG] POST requests are not supported
2025-11-14 15:27:58 [DBG] POST requests are not supported
2025-11-14 15:27:58 [DBG] POST requests are not supported
2025-11-14 15:27:58 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:27:58 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:0000001B": started reading request body.
2025-11-14 15:27:58 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:0000001B": done reading request body.
2025-11-14 15:27:58 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:27:58 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:27:58 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:27:58 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:27:58 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:27:58 [INF] CORS policy execution successful.
2025-11-14 15:27:58 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:27:58 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:27:58 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:27:58 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:27:58 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:27:58 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:27:58 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:27:58 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:27:58 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:27:58 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:27:58 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:27:58 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:27:58 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:27:58 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:27:58 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:27:58 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:27:58 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:27:58 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:27:58 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:27:58 [INF] Saving reservation for customer: G000004
2025-11-14 15:27:58 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:27:58 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:27:58 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:27:58 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:27:58 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:27:58 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:27:58 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:27:58 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 118.4159ms
2025-11-14 15:27:58 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:27:58 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:27:58 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 177.9963ms
2025-11-14 15:29:28 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:29:28 [DBG] OPTIONS requests are not supported
2025-11-14 15:29:28 [DBG] OPTIONS requests are not supported
2025-11-14 15:29:28 [DBG] OPTIONS requests are not supported
2025-11-14 15:29:28 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:29:28 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:29:28 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:29:28 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:29:28 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:29:28 [INF] CORS policy execution successful.
2025-11-14 15:29:28 [DBG] The request is a preflight request.
2025-11-14 15:29:28 [INF] Response 204 Body: 
2025-11-14 15:29:28 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 21.8452ms
2025-11-14 15:29:28 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:29:28 [DBG] POST requests are not supported
2025-11-14 15:29:28 [DBG] POST requests are not supported
2025-11-14 15:29:28 [DBG] POST requests are not supported
2025-11-14 15:29:28 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:29:28 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:0000001F": started reading request body.
2025-11-14 15:29:28 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:0000001F": done reading request body.
2025-11-14 15:29:28 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:29:28 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:29:28 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:29:28 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:29:28 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:29:28 [INF] CORS policy execution successful.
2025-11-14 15:29:28 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:29:28 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:29:28 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:29:28 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:29:28 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:29:28 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:29:28 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:29:28 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:29:28 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:29:28 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:29:28 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:29:28 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:29:28 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:29:28 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:29:28 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:29:28 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:29:28 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:29:28 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:29:28 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:29:28 [INF] Saving reservation for customer: G000004
2025-11-14 15:29:28 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:29:28 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:29:28 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:29:28 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:29:28 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:29:28 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:29:28 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:29:28 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 86.4456ms
2025-11-14 15:29:28 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:29:28 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:29:28 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 153.627ms
2025-11-14 15:29:43 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:29:43 [DBG] OPTIONS requests are not supported
2025-11-14 15:29:43 [DBG] OPTIONS requests are not supported
2025-11-14 15:29:43 [DBG] OPTIONS requests are not supported
2025-11-14 15:29:43 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:29:43 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:29:43 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:29:43 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:29:43 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:29:43 [INF] CORS policy execution successful.
2025-11-14 15:29:43 [DBG] The request is a preflight request.
2025-11-14 15:29:43 [INF] Response 204 Body: 
2025-11-14 15:29:43 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 28.1738ms
2025-11-14 15:29:43 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:29:43 [DBG] POST requests are not supported
2025-11-14 15:29:43 [DBG] POST requests are not supported
2025-11-14 15:29:43 [DBG] POST requests are not supported
2025-11-14 15:29:43 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:29:43 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000023": started reading request body.
2025-11-14 15:29:43 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000023": done reading request body.
2025-11-14 15:29:43 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:29:43 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:29:43 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:29:43 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:29:43 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:29:43 [INF] CORS policy execution successful.
2025-11-14 15:29:43 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:29:43 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:29:43 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:29:43 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:29:43 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:29:43 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:29:43 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:29:43 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:29:43 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:29:43 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:29:43 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:29:43 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:29:43 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:29:43 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:29:43 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:29:43 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:29:43 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:29:43 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:29:43 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:29:43 [INF] Saving reservation for customer: G000004
2025-11-14 15:29:43 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:29:43 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:29:43 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:29:43 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:29:43 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:29:43 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:29:43 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:29:43 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 41.6802ms
2025-11-14 15:29:43 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:29:43 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:29:43 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 103.7705ms
2025-11-14 15:31:29 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:31:29 [DBG] OPTIONS requests are not supported
2025-11-14 15:31:29 [DBG] OPTIONS requests are not supported
2025-11-14 15:31:29 [DBG] OPTIONS requests are not supported
2025-11-14 15:31:29 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:31:29 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:31:29 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:31:29 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:31:29 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:31:29 [INF] CORS policy execution successful.
2025-11-14 15:31:29 [DBG] The request is a preflight request.
2025-11-14 15:31:29 [INF] Response 204 Body: 
2025-11-14 15:31:29 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 50.6764ms
2025-11-14 15:31:29 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:31:29 [DBG] POST requests are not supported
2025-11-14 15:31:29 [DBG] POST requests are not supported
2025-11-14 15:31:29 [DBG] POST requests are not supported
2025-11-14 15:31:29 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:31:29 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000027": started reading request body.
2025-11-14 15:31:29 [DBG] Connection id "0HNH3C692I6NT", Request id "0HNH3C692I6NT:00000027": done reading request body.
2025-11-14 15:31:29 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:31:29 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:31:29 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:31:29 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:31:29 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:31:29 [INF] CORS policy execution successful.
2025-11-14 15:31:29 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:31:29 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:31:29 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:31:29 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:31:29 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:31:29 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:31:29 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:31:29 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:31:29 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:31:29 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:31:29 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:31:29 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:31:29 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:31:29 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:31:29 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:31:29 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:31:29 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:31:29 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:31:29 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:31:29 [INF] Saving reservation for customer: G000004
2025-11-14 15:31:29 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:31:29 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:31:29 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:31:29 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:31:29 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:31:29 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:31:29 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:31:29 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 98.7831ms
2025-11-14 15:31:29 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:31:29 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:31:29 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 163.3026ms
2025-11-14 15:31:46 [DBG] Connection id "0HNH3C692I6NT" received FIN.
2025-11-14 15:31:46 [DBG] Connection id "0HNH3C692I6NS" received FIN.
2025-11-14 15:31:46 [DBG] The connection queue processing loop for 0HNH3C692I6NT completed.
2025-11-14 15:31:46 [DBG] The connection queue processing loop for 0HNH3C692I6NS completed.
2025-11-14 15:31:46 [DBG] Connection id "0HNH3C692I6NS" is closed. The last processed stream ID was 23.
2025-11-14 15:31:46 [DBG] Connection id "0HNH3C692I6NT" is closed. The last processed stream ID was 39.
2025-11-14 15:31:46 [DBG] Connection id "0HNH3C692I6NS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 15:31:46 [DBG] Connection id "0HNH3C692I6NT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 15:31:46 [DBG] Connection id "0HNH3C692I6NT" stopped.
2025-11-14 15:31:46 [DBG] Connection id "0HNH3C692I6NS" stopped.
2025-11-14 15:32:33 [DBG] Connection id "0HNH3C692I6NU" accepted.
2025-11-14 15:32:33 [DBG] Connection id "0HNH3C692I6NU" started.
2025-11-14 15:32:33 [DBG] Connection 0HNH3C692I6NU established using the following protocol: "Tls12"
2025-11-14 15:32:33 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:32:33 [DBG] OPTIONS requests are not supported
2025-11-14 15:32:33 [DBG] OPTIONS requests are not supported
2025-11-14 15:32:33 [DBG] OPTIONS requests are not supported
2025-11-14 15:32:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:32:33 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:32:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:32:33 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:32:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:32:33 [INF] CORS policy execution successful.
2025-11-14 15:32:33 [DBG] The request is a preflight request.
2025-11-14 15:32:33 [INF] Response 204 Body: 
2025-11-14 15:32:33 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 20.4375ms
2025-11-14 15:32:33 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:32:33 [DBG] POST requests are not supported
2025-11-14 15:32:33 [DBG] POST requests are not supported
2025-11-14 15:32:33 [DBG] POST requests are not supported
2025-11-14 15:32:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:32:33 [DBG] Connection id "0HNH3C692I6NU", Request id "0HNH3C692I6NU:00000003": started reading request body.
2025-11-14 15:32:33 [DBG] Connection id "0HNH3C692I6NU", Request id "0HNH3C692I6NU:00000003": done reading request body.
2025-11-14 15:32:33 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:32:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:32:33 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:32:33 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:32:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:32:33 [INF] CORS policy execution successful.
2025-11-14 15:32:33 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:32:33 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:32:33 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:32:33 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:32:33 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:32:33 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:32:33 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:32:33 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:32:33 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:32:33 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:32:33 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:32:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:32:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:32:33 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:32:33 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:32:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:32:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:32:33 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:32:33 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:32:33 [INF] Saving reservation for customer: G000004
2025-11-14 15:32:33 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:32:33 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:32:33 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:32:33 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:32:33 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:32:33 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:32:33 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:32:33 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 96.6029ms
2025-11-14 15:32:33 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:32:33 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:32:33 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 162.2785ms
2025-11-14 15:33:39 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:33:39 [DBG] OPTIONS requests are not supported
2025-11-14 15:33:39 [DBG] OPTIONS requests are not supported
2025-11-14 15:33:39 [DBG] OPTIONS requests are not supported
2025-11-14 15:33:39 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:33:39 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:33:39 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:33:39 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:33:39 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:33:39 [INF] CORS policy execution successful.
2025-11-14 15:33:39 [DBG] The request is a preflight request.
2025-11-14 15:33:39 [INF] Response 204 Body: 
2025-11-14 15:33:39 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 34.8076ms
2025-11-14 15:33:39 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:33:39 [DBG] POST requests are not supported
2025-11-14 15:33:39 [DBG] POST requests are not supported
2025-11-14 15:33:39 [DBG] POST requests are not supported
2025-11-14 15:33:39 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:33:39 [DBG] Connection id "0HNH3C692I6NU", Request id "0HNH3C692I6NU:00000007": started reading request body.
2025-11-14 15:33:39 [DBG] Connection id "0HNH3C692I6NU", Request id "0HNH3C692I6NU:00000007": done reading request body.
2025-11-14 15:33:39 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:33:39 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:33:39 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:33:39 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:33:39 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:33:39 [INF] CORS policy execution successful.
2025-11-14 15:33:39 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:33:39 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:33:39 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:33:39 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:33:39 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:33:39 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:33:39 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:33:39 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:33:39 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:33:39 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:33:39 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:33:39 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:33:39 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:33:39 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:33:39 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:33:39 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:33:39 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:33:39 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:33:39 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:33:39 [INF] Saving reservation for customer: G000004
2025-11-14 15:33:39 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:33:39 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:33:39 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:33:39 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:33:39 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:33:39 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:33:39 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:33:39 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 87.3781ms
2025-11-14 15:33:39 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:33:39 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:33:39 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 144.1512ms
2025-11-14 15:34:24 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 15:34:24 [DBG] OPTIONS requests are not supported
2025-11-14 15:34:24 [DBG] OPTIONS requests are not supported
2025-11-14 15:34:24 [DBG] OPTIONS requests are not supported
2025-11-14 15:34:24 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:34:24 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 15:34:24 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:34:24 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 15:34:24 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:34:24 [INF] CORS policy execution successful.
2025-11-14 15:34:24 [DBG] The request is a preflight request.
2025-11-14 15:34:24 [INF] Response 204 Body: 
2025-11-14 15:34:24 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 29.5817ms
2025-11-14 15:34:24 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 15:34:24 [DBG] POST requests are not supported
2025-11-14 15:34:24 [DBG] POST requests are not supported
2025-11-14 15:34:24 [DBG] POST requests are not supported
2025-11-14 15:34:24 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 15:34:24 [DBG] Connection id "0HNH3C692I6NU", Request id "0HNH3C692I6NU:0000000B": started reading request body.
2025-11-14 15:34:24 [DBG] Connection id "0HNH3C692I6NU", Request id "0HNH3C692I6NU:0000000B": done reading request body.
2025-11-14 15:34:24 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 15:34:24 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 15:34:24 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 15:34:24 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:34:24 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 15:34:24 [INF] CORS policy execution successful.
2025-11-14 15:34:24 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 15:34:24 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 15:34:24 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:34:24 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 15:34:24 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 15:34:24 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 15:34:24 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 15:34:24 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 15:34:24 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 15:34:24 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:34:24 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 15:34:24 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:34:24 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 15:34:24 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 15:34:24 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 15:34:24 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:34:24 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:34:24 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 15:34:24 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 15:34:24 [INF] Saving reservation for customer: G000004
2025-11-14 15:34:24 [INF] Reservation saved successfully: R00000000018
2025-11-14 15:34:24 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 15:34:24 [DBG] No information found on request to perform content negotiation.
2025-11-14 15:34:24 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 15:34:24 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 15:34:24 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 15:34:24 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 15:34:24 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 39.5308ms
2025-11-14 15:34:24 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 15:34:24 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 15:34:24 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 102.6276ms
2025-11-14 16:01:46 [DBG] Connection id "0HNH3C692I6NU" received FIN.
2025-11-14 16:01:46 [DBG] Connection id "0HNH3C692I6NU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 16:01:46 [DBG] Connection id "0HNH3C692I6NU" is closed. The last processed stream ID was 11.
2025-11-14 16:01:46 [DBG] The connection queue processing loop for 0HNH3C692I6NU completed.
2025-11-14 16:01:46 [DBG] Connection id "0HNH3C692I6NU" stopped.
2025-11-14 16:17:48 [DBG] Connection id "0HNH3C692I6NV" accepted.
2025-11-14 16:17:48 [DBG] Connection id "0HNH3C692I6NV" started.
2025-11-14 16:17:48 [DBG] Connection 0HNH3C692I6NV established using the following protocol: "Tls12"
2025-11-14 16:17:48 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:17:48 [DBG] OPTIONS requests are not supported
2025-11-14 16:17:48 [DBG] OPTIONS requests are not supported
2025-11-14 16:17:48 [DBG] OPTIONS requests are not supported
2025-11-14 16:17:48 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:17:48 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:17:48 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:17:48 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:17:48 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:17:48 [INF] CORS policy execution successful.
2025-11-14 16:17:48 [DBG] The request is a preflight request.
2025-11-14 16:17:48 [INF] Response 204 Body: 
2025-11-14 16:17:48 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 25.4055ms
2025-11-14 16:17:48 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:17:48 [DBG] POST requests are not supported
2025-11-14 16:17:48 [DBG] POST requests are not supported
2025-11-14 16:17:48 [DBG] POST requests are not supported
2025-11-14 16:17:48 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:17:48 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:00000003": started reading request body.
2025-11-14 16:17:48 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:00000003": done reading request body.
2025-11-14 16:17:48 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:17:48 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:17:48 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:17:48 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:17:48 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:17:48 [INF] CORS policy execution successful.
2025-11-14 16:17:48 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:17:48 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:17:48 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:17:48 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:17:49 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:17:49 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:17:49 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:17:49 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:17:49 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:17:49 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:17:49 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:17:49 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:17:49 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:17:49 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:17:49 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:17:49 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:17:49 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:17:49 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:17:49 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:17:49 [INF] Saving reservation for customer: G000004
2025-11-14 16:17:49 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:17:49 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:17:49 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:17:49 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:17:49 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:17:49 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:17:49 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:17:49 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 141.5765ms
2025-11-14 16:17:49 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:17:49 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:17:49 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 222.3263ms
2025-11-14 16:20:20 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:20:20 [DBG] OPTIONS requests are not supported
2025-11-14 16:20:20 [DBG] OPTIONS requests are not supported
2025-11-14 16:20:20 [DBG] OPTIONS requests are not supported
2025-11-14 16:20:20 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:20:20 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:20:20 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:20:20 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:20:20 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:20:20 [INF] CORS policy execution successful.
2025-11-14 16:20:20 [DBG] The request is a preflight request.
2025-11-14 16:20:20 [INF] Response 204 Body: 
2025-11-14 16:20:20 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 34.1697ms
2025-11-14 16:20:20 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:20:20 [DBG] POST requests are not supported
2025-11-14 16:20:20 [DBG] POST requests are not supported
2025-11-14 16:20:20 [DBG] POST requests are not supported
2025-11-14 16:20:20 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:20:20 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:00000007": started reading request body.
2025-11-14 16:20:20 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:00000007": done reading request body.
2025-11-14 16:20:20 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:20:20 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:20:20 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:20:20 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:20:20 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:20:20 [INF] CORS policy execution successful.
2025-11-14 16:20:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:20:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:20:20 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:20:20 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:20:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:20:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:20:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:20:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:20:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:20:20 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:20:20 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:20:20 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:20:20 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:20:20 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:20:20 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:20:20 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:20:20 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:20:20 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:20:20 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:20:20 [INF] Saving reservation for customer: G000004
2025-11-14 16:20:20 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:20:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:20:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:20:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:20:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:20:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:20:20 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:20:20 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 91.9397ms
2025-11-14 16:20:20 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:20:20 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:20:20 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 159.2256ms
2025-11-14 16:27:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:27:00 [DBG] OPTIONS requests are not supported
2025-11-14 16:27:00 [DBG] OPTIONS requests are not supported
2025-11-14 16:27:00 [DBG] OPTIONS requests are not supported
2025-11-14 16:27:00 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:27:00 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:27:00 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:27:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:27:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:27:00 [INF] CORS policy execution successful.
2025-11-14 16:27:00 [DBG] The request is a preflight request.
2025-11-14 16:27:00 [INF] Response 204 Body: 
2025-11-14 16:27:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 27.3934ms
2025-11-14 16:27:00 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:27:01 [DBG] POST requests are not supported
2025-11-14 16:27:01 [DBG] POST requests are not supported
2025-11-14 16:27:01 [DBG] POST requests are not supported
2025-11-14 16:27:01 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:27:01 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:0000000B": started reading request body.
2025-11-14 16:27:01 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:0000000B": done reading request body.
2025-11-14 16:27:01 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:27:01 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:27:01 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:27:01 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:27:01 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:27:01 [INF] CORS policy execution successful.
2025-11-14 16:27:01 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:27:01 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:27:01 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:27:01 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:27:01 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:27:01 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:27:01 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:27:01 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:27:01 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:27:01 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:27:01 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:27:01 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:27:01 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:27:01 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:27:01 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:27:01 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:27:01 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:27:01 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:27:01 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:27:01 [INF] Saving reservation for customer: G000004
2025-11-14 16:27:01 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:27:01 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:27:01 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:27:01 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:27:01 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:27:01 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:27:01 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:27:01 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 113.4498ms
2025-11-14 16:27:01 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:27:01 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:27:01 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 175.8695ms
2025-11-14 16:28:22 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:28:22 [DBG] OPTIONS requests are not supported
2025-11-14 16:28:22 [DBG] OPTIONS requests are not supported
2025-11-14 16:28:22 [DBG] OPTIONS requests are not supported
2025-11-14 16:28:22 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:28:22 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:28:22 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:28:22 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:28:22 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:28:22 [INF] CORS policy execution successful.
2025-11-14 16:28:22 [DBG] The request is a preflight request.
2025-11-14 16:28:22 [INF] Response 204 Body: 
2025-11-14 16:28:22 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 27.263ms
2025-11-14 16:28:22 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:28:22 [DBG] POST requests are not supported
2025-11-14 16:28:22 [DBG] POST requests are not supported
2025-11-14 16:28:22 [DBG] POST requests are not supported
2025-11-14 16:28:22 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:28:22 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:0000000F": started reading request body.
2025-11-14 16:28:22 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:0000000F": done reading request body.
2025-11-14 16:28:22 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:28:22 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:28:22 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:28:22 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:28:22 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:28:22 [INF] CORS policy execution successful.
2025-11-14 16:28:22 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:28:22 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:28:22 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:28:22 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:28:22 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:28:22 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:28:22 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:28:22 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:28:22 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:28:22 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:28:22 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:28:22 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:28:22 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:28:22 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:28:22 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:28:22 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:28:22 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:28:22 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:28:22 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:28:22 [INF] Saving reservation for customer: G000004
2025-11-14 16:28:22 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:28:22 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:28:22 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:28:22 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:28:22 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:28:22 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:28:22 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:28:22 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 80.671ms
2025-11-14 16:28:22 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:28:22 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:28:22 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 133.3788ms
2025-11-14 16:29:33 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:29:33 [DBG] OPTIONS requests are not supported
2025-11-14 16:29:33 [DBG] OPTIONS requests are not supported
2025-11-14 16:29:33 [DBG] OPTIONS requests are not supported
2025-11-14 16:29:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:29:33 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:29:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:29:33 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:29:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:29:33 [INF] CORS policy execution successful.
2025-11-14 16:29:33 [DBG] The request is a preflight request.
2025-11-14 16:29:33 [INF] Response 204 Body: 
2025-11-14 16:29:33 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 31.2106ms
2025-11-14 16:29:33 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:29:33 [DBG] POST requests are not supported
2025-11-14 16:29:33 [DBG] POST requests are not supported
2025-11-14 16:29:33 [DBG] POST requests are not supported
2025-11-14 16:29:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:29:33 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:00000013": started reading request body.
2025-11-14 16:29:33 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:00000013": done reading request body.
2025-11-14 16:29:33 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:29:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:29:33 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:29:33 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:29:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:29:33 [INF] CORS policy execution successful.
2025-11-14 16:29:33 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:29:33 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:29:33 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:29:33 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:29:33 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:29:33 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:29:33 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:29:33 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:29:33 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:29:33 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:29:33 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:29:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:29:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:29:33 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:29:33 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:29:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:29:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:29:33 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:29:33 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:29:33 [INF] Saving reservation for customer: G000004
2025-11-14 16:29:33 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:29:33 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:29:33 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:29:33 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:29:33 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:29:33 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:29:33 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:29:33 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 86.6108ms
2025-11-14 16:29:33 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:29:33 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:29:33 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 145.9337ms
2025-11-14 16:30:04 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:30:04 [DBG] OPTIONS requests are not supported
2025-11-14 16:30:04 [DBG] OPTIONS requests are not supported
2025-11-14 16:30:04 [DBG] OPTIONS requests are not supported
2025-11-14 16:30:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:30:04 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:30:04 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:30:04 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:30:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:30:04 [INF] CORS policy execution successful.
2025-11-14 16:30:04 [DBG] The request is a preflight request.
2025-11-14 16:30:04 [INF] Response 204 Body: 
2025-11-14 16:30:04 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 24.6514ms
2025-11-14 16:30:04 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:30:04 [DBG] POST requests are not supported
2025-11-14 16:30:04 [DBG] POST requests are not supported
2025-11-14 16:30:04 [DBG] POST requests are not supported
2025-11-14 16:30:04 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:30:04 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:00000017": started reading request body.
2025-11-14 16:30:04 [DBG] Connection id "0HNH3C692I6NV", Request id "0HNH3C692I6NV:00000017": done reading request body.
2025-11-14 16:30:04 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:30:04 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:30:04 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:30:04 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:30:04 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:30:04 [INF] CORS policy execution successful.
2025-11-14 16:30:04 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:30:04 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:30:04 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:30:04 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:30:04 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:30:04 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:30:04 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:30:04 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:30:04 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:30:04 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:30:04 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:30:04 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:30:05 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:30:05 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:30:05 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:30:05 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:30:05 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:30:05 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:30:05 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:30:05 [INF] Saving reservation for customer: G000004
2025-11-14 16:30:05 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:30:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:30:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:30:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:30:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:30:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:30:05 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:30:05 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 50.327ms
2025-11-14 16:30:05 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:30:05 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:30:05 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 128.0988ms
2025-11-14 16:31:46 [DBG] Connection id "0HNH3C692I6NV" received FIN.
2025-11-14 16:31:46 [DBG] Connection id "0HNH3C692I6NV" is closed. The last processed stream ID was 23.
2025-11-14 16:31:46 [DBG] The connection queue processing loop for 0HNH3C692I6NV completed.
2025-11-14 16:31:46 [DBG] Connection id "0HNH3C692I6NV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 16:31:46 [DBG] Connection id "0HNH3C692I6NV" stopped.
2025-11-14 16:32:08 [DBG] Connection id "0HNH3C692I6O0" accepted.
2025-11-14 16:32:08 [DBG] Connection id "0HNH3C692I6O0" started.
2025-11-14 16:32:08 [DBG] Connection 0HNH3C692I6O0 established using the following protocol: "Tls12"
2025-11-14 16:32:08 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:32:08 [DBG] OPTIONS requests are not supported
2025-11-14 16:32:08 [DBG] OPTIONS requests are not supported
2025-11-14 16:32:08 [DBG] OPTIONS requests are not supported
2025-11-14 16:32:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:32:08 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:32:08 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:32:08 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:32:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:32:08 [INF] CORS policy execution successful.
2025-11-14 16:32:08 [DBG] The request is a preflight request.
2025-11-14 16:32:08 [INF] Response 204 Body: 
2025-11-14 16:32:08 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 20.1169ms
2025-11-14 16:32:08 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:32:08 [DBG] POST requests are not supported
2025-11-14 16:32:08 [DBG] POST requests are not supported
2025-11-14 16:32:08 [DBG] POST requests are not supported
2025-11-14 16:32:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:32:08 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:00000003": started reading request body.
2025-11-14 16:32:08 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:00000003": done reading request body.
2025-11-14 16:32:08 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:32:08 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:32:08 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:32:08 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:32:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:32:08 [INF] CORS policy execution successful.
2025-11-14 16:32:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:32:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:32:08 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:32:08 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:32:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:32:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:32:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:32:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:32:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:32:08 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:32:08 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:32:08 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:32:08 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:32:08 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:32:08 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:32:08 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:32:08 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:32:08 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:32:08 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:32:08 [INF] Saving reservation for customer: G000004
2025-11-14 16:32:08 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:32:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:32:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:32:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:32:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:32:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:32:08 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:32:08 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 95.7869ms
2025-11-14 16:32:08 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:32:08 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:32:08 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 160.9069ms
2025-11-14 16:33:27 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:33:27 [DBG] OPTIONS requests are not supported
2025-11-14 16:33:27 [DBG] OPTIONS requests are not supported
2025-11-14 16:33:27 [DBG] OPTIONS requests are not supported
2025-11-14 16:33:27 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:33:27 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:33:27 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:33:27 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:33:27 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:33:27 [INF] CORS policy execution successful.
2025-11-14 16:33:27 [DBG] The request is a preflight request.
2025-11-14 16:33:27 [INF] Response 204 Body: 
2025-11-14 16:33:27 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 34.4694ms
2025-11-14 16:33:27 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:33:27 [DBG] POST requests are not supported
2025-11-14 16:33:27 [DBG] POST requests are not supported
2025-11-14 16:33:27 [DBG] POST requests are not supported
2025-11-14 16:33:27 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:33:27 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:00000007": started reading request body.
2025-11-14 16:33:27 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:00000007": done reading request body.
2025-11-14 16:33:27 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:33:27 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:33:27 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:33:27 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:33:27 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:33:27 [INF] CORS policy execution successful.
2025-11-14 16:33:27 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:33:27 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:33:28 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:33:28 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:33:28 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:33:28 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:33:28 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:33:28 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:33:28 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:33:28 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:33:28 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:33:28 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:33:28 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:33:28 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:33:28 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:33:28 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:33:28 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:33:28 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:33:28 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:33:28 [INF] Saving reservation for customer: G000004
2025-11-14 16:33:28 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:33:28 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:33:28 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:33:28 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:33:28 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:33:28 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:33:28 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:33:28 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 101.3299ms
2025-11-14 16:33:28 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:33:28 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:33:28 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 169.8656ms
2025-11-14 16:34:11 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:34:11 [DBG] OPTIONS requests are not supported
2025-11-14 16:34:11 [DBG] OPTIONS requests are not supported
2025-11-14 16:34:11 [DBG] OPTIONS requests are not supported
2025-11-14 16:34:11 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:34:11 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:34:11 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:34:11 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:34:11 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:34:11 [INF] CORS policy execution successful.
2025-11-14 16:34:11 [DBG] The request is a preflight request.
2025-11-14 16:34:11 [INF] Response 204 Body: 
2025-11-14 16:34:11 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 33.0115ms
2025-11-14 16:34:11 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:34:11 [DBG] POST requests are not supported
2025-11-14 16:34:11 [DBG] POST requests are not supported
2025-11-14 16:34:11 [DBG] POST requests are not supported
2025-11-14 16:34:11 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:34:11 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:0000000B": started reading request body.
2025-11-14 16:34:11 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:0000000B": done reading request body.
2025-11-14 16:34:11 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:34:11 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:34:11 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:34:11 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:34:11 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:34:11 [INF] CORS policy execution successful.
2025-11-14 16:34:11 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:34:11 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:34:11 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:34:11 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:34:11 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:34:11 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:34:11 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:34:11 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:34:11 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:34:11 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:34:11 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:34:11 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:34:11 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:34:11 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:34:11 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:34:11 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:34:11 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:34:11 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:34:11 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:34:11 [INF] Saving reservation for customer: G000004
2025-11-14 16:34:11 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:34:11 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:34:11 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:34:11 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:34:11 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:34:11 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:34:11 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:34:11 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 81.7497ms
2025-11-14 16:34:11 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:34:11 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:34:11 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 150.9177ms
2025-11-14 16:34:47 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:34:47 [DBG] OPTIONS requests are not supported
2025-11-14 16:34:47 [DBG] OPTIONS requests are not supported
2025-11-14 16:34:47 [DBG] OPTIONS requests are not supported
2025-11-14 16:34:47 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:34:47 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:34:47 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:34:47 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:34:47 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:34:47 [INF] CORS policy execution successful.
2025-11-14 16:34:47 [DBG] The request is a preflight request.
2025-11-14 16:34:47 [INF] Response 204 Body: 
2025-11-14 16:34:47 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 30.0534ms
2025-11-14 16:34:47 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:34:47 [DBG] POST requests are not supported
2025-11-14 16:34:47 [DBG] POST requests are not supported
2025-11-14 16:34:47 [DBG] POST requests are not supported
2025-11-14 16:34:47 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:34:47 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:0000000F": started reading request body.
2025-11-14 16:34:47 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:0000000F": done reading request body.
2025-11-14 16:34:47 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:34:47 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:34:47 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:34:47 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:34:47 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:34:47 [INF] CORS policy execution successful.
2025-11-14 16:34:47 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:34:47 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:34:47 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:34:47 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:34:47 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:34:47 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:34:47 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:34:47 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:34:47 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:34:47 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:34:47 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:34:47 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:34:47 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:34:47 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:34:47 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:34:47 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:34:47 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:34:47 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:34:47 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:34:47 [INF] Saving reservation for customer: G000004
2025-11-14 16:34:47 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:34:47 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:34:47 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:34:47 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:34:47 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:34:47 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:34:47 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:34:47 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 109.1221ms
2025-11-14 16:34:47 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:34:47 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:34:47 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 186.5343ms
2025-11-14 16:35:23 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:35:23 [DBG] OPTIONS requests are not supported
2025-11-14 16:35:23 [DBG] OPTIONS requests are not supported
2025-11-14 16:35:23 [DBG] OPTIONS requests are not supported
2025-11-14 16:35:23 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:35:23 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:35:23 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:35:23 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:35:23 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:35:23 [INF] CORS policy execution successful.
2025-11-14 16:35:23 [DBG] The request is a preflight request.
2025-11-14 16:35:23 [INF] Response 204 Body: 
2025-11-14 16:35:23 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 31.3632ms
2025-11-14 16:35:23 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:35:23 [DBG] POST requests are not supported
2025-11-14 16:35:23 [DBG] POST requests are not supported
2025-11-14 16:35:23 [DBG] POST requests are not supported
2025-11-14 16:35:23 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:35:23 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:00000013": started reading request body.
2025-11-14 16:35:23 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:00000013": done reading request body.
2025-11-14 16:35:23 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:35:23 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:35:23 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:35:23 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:35:23 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:35:24 [INF] CORS policy execution successful.
2025-11-14 16:35:24 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:35:24 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:35:24 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:35:24 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:35:24 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:35:24 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:35:24 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:35:24 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:35:24 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:35:24 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:35:24 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:35:24 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:35:24 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:35:24 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:35:24 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:35:24 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:35:24 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:35:24 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:35:24 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:35:24 [INF] Saving reservation for customer: G000004
2025-11-14 16:35:24 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:35:24 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:35:24 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:35:24 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:35:24 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:35:24 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:35:24 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:35:24 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 95.1455ms
2025-11-14 16:35:24 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:35:24 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:35:24 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 162.8238ms
2025-11-14 16:36:10 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:36:10 [DBG] OPTIONS requests are not supported
2025-11-14 16:36:10 [DBG] OPTIONS requests are not supported
2025-11-14 16:36:10 [DBG] OPTIONS requests are not supported
2025-11-14 16:36:10 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:36:10 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:36:10 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:36:10 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:36:10 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:36:10 [INF] CORS policy execution successful.
2025-11-14 16:36:10 [DBG] The request is a preflight request.
2025-11-14 16:36:10 [INF] Response 204 Body: 
2025-11-14 16:36:10 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 41.3698ms
2025-11-14 16:36:10 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:36:10 [DBG] POST requests are not supported
2025-11-14 16:36:10 [DBG] POST requests are not supported
2025-11-14 16:36:10 [DBG] POST requests are not supported
2025-11-14 16:36:10 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:36:10 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:00000017": started reading request body.
2025-11-14 16:36:10 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:00000017": done reading request body.
2025-11-14 16:36:10 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:36:10 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:36:10 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:36:10 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:36:10 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:36:10 [INF] CORS policy execution successful.
2025-11-14 16:36:10 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:36:10 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:36:10 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:36:10 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:36:10 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:36:10 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:36:10 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:36:10 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:36:10 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:36:10 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:36:10 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:36:10 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:36:10 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:36:10 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:36:10 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:36:10 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:36:10 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:36:10 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:36:10 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:36:10 [INF] Saving reservation for customer: G000004
2025-11-14 16:36:10 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:36:10 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:36:10 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:36:10 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:36:10 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:36:10 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:36:10 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:36:10 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 83.0548ms
2025-11-14 16:36:10 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:36:10 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:36:10 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 143.9791ms
2025-11-14 16:37:46 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:37:46 [DBG] OPTIONS requests are not supported
2025-11-14 16:37:46 [DBG] OPTIONS requests are not supported
2025-11-14 16:37:46 [DBG] OPTIONS requests are not supported
2025-11-14 16:37:46 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:37:46 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:37:46 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:37:46 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:37:46 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:37:46 [INF] CORS policy execution successful.
2025-11-14 16:37:46 [DBG] The request is a preflight request.
2025-11-14 16:37:46 [INF] Response 204 Body: 
2025-11-14 16:37:46 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 32.6358ms
2025-11-14 16:37:46 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:37:46 [DBG] POST requests are not supported
2025-11-14 16:37:46 [DBG] POST requests are not supported
2025-11-14 16:37:46 [DBG] POST requests are not supported
2025-11-14 16:37:46 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:37:46 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:0000001B": started reading request body.
2025-11-14 16:37:46 [DBG] Connection id "0HNH3C692I6O0", Request id "0HNH3C692I6O0:0000001B": done reading request body.
2025-11-14 16:37:46 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:37:46 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:37:46 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:37:46 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:37:46 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:37:46 [INF] CORS policy execution successful.
2025-11-14 16:37:46 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:37:46 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:37:46 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:37:46 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:37:46 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:37:46 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:37:46 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:37:46 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:37:46 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:37:46 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:37:46 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:37:46 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:37:46 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:37:46 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:37:46 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:37:46 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:37:46 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:37:46 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:37:46 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:37:46 [INF] Saving reservation for customer: G000004
2025-11-14 16:37:46 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:37:46 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:37:46 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:37:46 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:37:46 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:37:46 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:37:46 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:37:46 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 87.436ms
2025-11-14 16:37:46 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:37:46 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:37:46 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 149.5673ms
2025-11-14 16:38:32 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 16:38:32 [DBG] Hosting starting
2025-11-14 16:38:32 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 16:38:32 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 16:38:32 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 16:38:32 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 16:38:32 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 16:38:32 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 16:38:32 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 16:38:32 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 16:38:32 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 16:38:32 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 16:38:32 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 16:38:32 [DBG] Middleware loaded
2025-11-14 16:38:32 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 16:38:32 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 16:38:32 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 16:38:32 [INF] Now listening on: https://localhost:9307
2025-11-14 16:38:32 [INF] Now listening on: http://localhost:9308
2025-11-14 16:38:32 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 16:38:32 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 16:38:32 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 16:38:32 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 16:38:32 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 16:38:32 [INF] Hosting environment: Development
2025-11-14 16:38:32 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 16:38:32 [DBG] Hosting started
2025-11-14 16:38:32 [DBG] Connection id "0HNH3DOJ4J68L" accepted.
2025-11-14 16:38:32 [DBG] Connection id "0HNH3DOJ4J68L" started.
2025-11-14 16:38:32 [DBG] Connection id "0HNH3DOJ4J68M" accepted.
2025-11-14 16:38:32 [DBG] Connection id "0HNH3DOJ4J68M" started.
2025-11-14 16:38:32 [DBG] Connection id "0HNH3DOJ4J68M" received FIN.
2025-11-14 16:38:32 [DBG] Connection id "0HNH3DOJ4J68L" received FIN.
2025-11-14 16:38:32 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 16:38:32 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 16:38:33 [DBG] Connection id "0HNH3DOJ4J68N" accepted.
2025-11-14 16:38:33 [DBG] Connection id "0HNH3DOJ4J68N" started.
2025-11-14 16:38:33 [DBG] Connection id "0HNH3DOJ4J68M" stopped.
2025-11-14 16:38:33 [DBG] Connection id "0HNH3DOJ4J68L" stopped.
2025-11-14 16:38:33 [DBG] Connection id "0HNH3DOJ4J68L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 16:38:33 [DBG] Connection id "0HNH3DOJ4J68M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 16:38:33 [DBG] Connection 0HNH3DOJ4J68N established using the following protocol: "Tls12"
2025-11-14 16:38:33 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 16:38:33 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 16:38:33 [DBG] The request path  does not match the path filter
2025-11-14 16:38:33 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 16:38:33 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 16:38:33 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 16:38:33 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 16:38:33 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 283.0314ms
2025-11-14 16:38:33 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 16:38:33 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 16:38:33 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 16:38:33 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 21.5164ms
2025-11-14 16:38:33 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.8499ms
2025-11-14 16:38:33 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 16:38:33 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.3637ms
2025-11-14 16:48:59 [DBG] Connection id "0HNH3DOJ4J68O" accepted.
2025-11-14 16:48:59 [DBG] Connection id "0HNH3DOJ4J68O" started.
2025-11-14 16:48:59 [DBG] Connection 0HNH3DOJ4J68O established using the following protocol: "Tls12"
2025-11-14 16:48:59 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:48:59 [DBG] OPTIONS requests are not supported
2025-11-14 16:48:59 [DBG] OPTIONS requests are not supported
2025-11-14 16:48:59 [DBG] OPTIONS requests are not supported
2025-11-14 16:48:59 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:48:59 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:48:59 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:48:59 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:48:59 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:48:59 [INF] CORS policy execution successful.
2025-11-14 16:48:59 [DBG] The request is a preflight request.
2025-11-14 16:48:59 [INF] Response 204 Body: 
2025-11-14 16:48:59 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 117.0067ms
2025-11-14 16:48:59 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:48:59 [DBG] POST requests are not supported
2025-11-14 16:49:00 [DBG] POST requests are not supported
2025-11-14 16:49:00 [DBG] POST requests are not supported
2025-11-14 16:49:00 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:49:00 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:00000003": started reading request body.
2025-11-14 16:49:00 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:00000003": done reading request body.
2025-11-14 16:49:00 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:49:00 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:49:00 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:49:00 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:49:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:49:00 [INF] CORS policy execution successful.
2025-11-14 16:49:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:49:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:49:00 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:49:00 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:49:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:49:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:49:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:49:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:49:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:49:00 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:49:00 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:49:00 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:49:00 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:49:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:49:00 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:49:00 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:49:00 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:49:00 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:49:00 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:49:00 [INF] Saving reservation for customer: G000004
2025-11-14 16:49:00 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:49:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:49:00 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:49:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:49:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:49:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:49:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:49:00 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 663.8876ms
2025-11-14 16:49:00 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:49:00 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:49:00 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 934.2486ms
2025-11-14 16:49:47 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:49:47 [DBG] OPTIONS requests are not supported
2025-11-14 16:49:47 [DBG] OPTIONS requests are not supported
2025-11-14 16:49:47 [DBG] OPTIONS requests are not supported
2025-11-14 16:49:47 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:49:47 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:49:47 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:49:47 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:49:47 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:49:47 [INF] CORS policy execution successful.
2025-11-14 16:49:47 [DBG] The request is a preflight request.
2025-11-14 16:49:47 [INF] Response 204 Body: 
2025-11-14 16:49:47 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 22.4378ms
2025-11-14 16:49:47 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:49:47 [DBG] POST requests are not supported
2025-11-14 16:49:47 [DBG] POST requests are not supported
2025-11-14 16:49:47 [DBG] POST requests are not supported
2025-11-14 16:49:47 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:49:47 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:00000007": started reading request body.
2025-11-14 16:49:47 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:00000007": done reading request body.
2025-11-14 16:49:47 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:49:47 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:49:47 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:49:47 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:49:47 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:49:47 [INF] CORS policy execution successful.
2025-11-14 16:49:47 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:49:47 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:49:47 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:49:47 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:49:47 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:49:47 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:49:47 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:49:47 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:49:47 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:49:47 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:49:47 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:49:47 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:49:47 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:49:47 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:49:47 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:49:47 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:49:47 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:49:47 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:49:47 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:49:47 [INF] Saving reservation for customer: G000004
2025-11-14 16:49:47 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:49:47 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:49:47 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:49:47 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:49:47 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:49:47 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:49:47 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:49:47 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 99.4855ms
2025-11-14 16:49:47 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:49:47 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:49:47 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 161.9747ms
2025-11-14 16:54:52 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:54:52 [DBG] OPTIONS requests are not supported
2025-11-14 16:54:52 [DBG] OPTIONS requests are not supported
2025-11-14 16:54:52 [DBG] OPTIONS requests are not supported
2025-11-14 16:54:52 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:54:52 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:54:52 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:54:52 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:54:52 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:54:52 [INF] CORS policy execution successful.
2025-11-14 16:54:52 [DBG] The request is a preflight request.
2025-11-14 16:54:52 [INF] Response 204 Body: 
2025-11-14 16:54:52 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 35.0036ms
2025-11-14 16:54:52 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:54:52 [DBG] POST requests are not supported
2025-11-14 16:54:52 [DBG] POST requests are not supported
2025-11-14 16:54:52 [DBG] POST requests are not supported
2025-11-14 16:54:52 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:54:52 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:0000000B": started reading request body.
2025-11-14 16:54:52 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:0000000B": done reading request body.
2025-11-14 16:54:52 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:54:52 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:54:52 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:54:52 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:54:52 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:54:52 [INF] CORS policy execution successful.
2025-11-14 16:54:52 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:54:52 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:54:52 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:54:52 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:54:52 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:54:52 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:54:52 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:54:52 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:54:52 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:54:52 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:54:52 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:54:52 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:54:52 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:54:52 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:54:52 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:54:52 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:54:52 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:54:52 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:54:52 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:54:52 [INF] Saving reservation for customer: G000004
2025-11-14 16:54:52 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:54:52 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:54:52 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:54:52 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:54:52 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:54:52 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:54:52 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:54:52 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 89.6378ms
2025-11-14 16:54:52 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:54:52 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:54:52 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 154.0701ms
2025-11-14 16:56:45 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:56:45 [DBG] OPTIONS requests are not supported
2025-11-14 16:56:45 [DBG] OPTIONS requests are not supported
2025-11-14 16:56:45 [DBG] OPTIONS requests are not supported
2025-11-14 16:56:45 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:56:45 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:56:45 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:56:45 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:56:45 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:56:45 [INF] CORS policy execution successful.
2025-11-14 16:56:45 [DBG] The request is a preflight request.
2025-11-14 16:56:45 [INF] Response 204 Body: 
2025-11-14 16:56:45 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 26.5591ms
2025-11-14 16:56:45 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:56:45 [DBG] POST requests are not supported
2025-11-14 16:56:45 [DBG] POST requests are not supported
2025-11-14 16:56:45 [DBG] POST requests are not supported
2025-11-14 16:56:45 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:56:45 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:0000000F": started reading request body.
2025-11-14 16:56:45 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:0000000F": done reading request body.
2025-11-14 16:56:45 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:56:45 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:56:45 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:56:45 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:56:45 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:56:45 [INF] CORS policy execution successful.
2025-11-14 16:56:45 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:56:45 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:56:45 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:56:45 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:56:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:56:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:56:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:56:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:56:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:56:45 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:56:45 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:56:45 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:56:45 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:56:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:56:45 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:56:45 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:56:45 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:56:45 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:56:45 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:56:45 [INF] Saving reservation for customer: G000004
2025-11-14 16:56:45 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:56:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:56:45 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:56:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:56:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:56:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:56:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:56:45 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 93.3508ms
2025-11-14 16:56:45 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:56:45 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:56:45 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 158.6172ms
2025-11-14 16:58:06 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:58:06 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:06 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:06 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:06 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:58:06 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:58:06 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:06 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:06 [INF] CORS policy execution successful.
2025-11-14 16:58:06 [DBG] The request is a preflight request.
2025-11-14 16:58:06 [INF] Response 204 Body: 
2025-11-14 16:58:06 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 29.8067ms
2025-11-14 16:58:06 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1122
2025-11-14 16:58:06 [DBG] POST requests are not supported
2025-11-14 16:58:06 [DBG] POST requests are not supported
2025-11-14 16:58:06 [DBG] POST requests are not supported
2025-11-14 16:58:06 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:06 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:00000013": started reading request body.
2025-11-14 16:58:06 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:00000013": done reading request body.
2025-11-14 16:58:06 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000018","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":5,"noOfKids":1,"eventType":"","setupStyle":"","subTotal":70000,"discountPer":0,"discount":0,"grossAmount":70000,"paidAmount":50000,"dueAmount":20000,"reservationNote":"test","refundAmount":0,"refundNote":"jhv","referenceNo":"78984","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"456","reservationStatus":"Confirmed","user":"Admin","roomDetails":[{"roomCode":"R0011","packageCode":"PKG0012","noOfDays":1,"price":68000,"amount":68000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":50000,"refNo":"13145","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:58:06 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:58:06 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:58:06 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:58:06 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:06 [INF] CORS policy execution successful.
2025-11-14 16:58:06 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:06 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:06 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:58:06 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:58:06 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:06 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:06 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:06 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:06 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:06 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:58:06 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:58:06 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:58:06 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:58:06 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:58:06 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:58:06 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:58:06 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:58:06 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:58:06 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:58:06 [INF] Saving reservation for customer: G000004
2025-11-14 16:58:06 [INF] Reservation saved successfully: R00000000018
2025-11-14 16:58:06 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:06 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:06 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:06 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:06 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:06 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:58:06 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 100.2155ms
2025-11-14 16:58:06 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:58:06 [INF] Response 200 Body: {"reservationNo":"R00000000018","message":"Reservation saved successfully"}
2025-11-14 16:58:06 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 166.9456ms
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - null null
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] Request OPTIONS /api/ReservationStatus/getall Body: 
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [INF] Request OPTIONS /api/RoomType/getall Body: 
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] Request OPTIONS /api/Customer/getall Body: 
2025-11-14 16:58:19 [INF] Request OPTIONS /api/PayType/getall Body: 
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 16:58:19 [INF] Request OPTIONS /api/BookingResource/getall Body: 
2025-11-14 16:58:19 [INF] Request OPTIONS /api/ServiceType/getall Body: 
2025-11-14 16:58:19 [INF] Request OPTIONS /api/PackageInfo/getall Body: 
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] Request OPTIONS /api/CustomerType/getall Body: 
2025-11-14 16:58:19 [INF] Request OPTIONS /api/Nationality/getall Body: 
2025-11-14 16:58:19 [DBG] OPTIONS requests are not supported
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [INF] Request OPTIONS /api/Country/getall Body: 
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] Request OPTIONS /api/Room/getall Body: 
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [INF] Request OPTIONS /api/TravelAgent/getall Body: 
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ReservationStatus/getall - 204 null null 364.5045ms
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PayType/getall - 204 null null 373.0319ms
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PayType/getall - null null
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ServiceType/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/BookingResource/getall - null null
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/BookingResource/getall - 204 null null 416.8599ms
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/ServiceType/getall - 204 null null 402.8124ms
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Customer/getall - 204 null null 368.6619ms
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/PackageInfo/getall - 204 null null 416.9714ms
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomType/getall - 204 null null 371.5546ms
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/RoomType/getall - null null
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Customer/getall - null null
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - null null
2025-11-14 16:58:19 [DBG] The request path /api/ServiceType/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] The request path /api/BookingResource/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/CustomerType/getall - null null
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/CustomerType/getall - 204 null null 416.9347ms
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The request path /api/PackageInfo/getall does not match a supported file type
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Nationality/getall - null null
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Country/getall - 204 null null 445.3455ms
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Nationality/getall - 204 null null 408.1123ms
2025-11-14 16:58:19 [DBG] The request is a preflight request.
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path /api/PayType/getall does not match a supported file type
2025-11-14 16:58:19 [INF] Request GET /api/ServiceType/getall Body: 
2025-11-14 16:58:19 [INF] Request GET /api/BookingResource/getall Body: 
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Country/getall - null null
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path /api/CustomerType/getall does not match a supported file type
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/Room/getall - null null
2025-11-14 16:58:19 [INF] Response 204 Body: 
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/Room/getall - 204 null null 410.0674ms
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/ServiceType/getall'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/BookingResource/getall'
2025-11-14 16:58:19 [INF] Request starting HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - null null
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path /api/Nationality/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/TravelAgent/getall - 204 null null 443.8124ms
2025-11-14 16:58:19 [DBG] The request path /api/ReservationStatus/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] The request path /api/RoomType/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] Endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)' with route pattern 'api/ServiceType/getall' is valid for the request path '/api/ServiceType/getall'
2025-11-14 16:58:19 [DBG] Endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)' with route pattern 'api/BookingResource/getall' is valid for the request path '/api/BookingResource/getall'
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [INF] Request GET /api/PackageInfo/getall Body: 
2025-11-14 16:58:19 [DBG] The request path /api/Country/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The request path /api/Room/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The request path /api/Customer/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] Request matched endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] The request path /api/TravelAgent/getall does not match a supported file type
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/PackageInfo/getall'
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] Request GET /api/CustomerType/getall Body: 
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] Request GET /api/PayType/getall Body: 
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request path  does not match the path filter
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [DBG] Endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)' with route pattern 'api/PackageInfo/getall' is valid for the request path '/api/PackageInfo/getall'
2025-11-14 16:58:19 [INF] Request GET /api/Nationality/getall Body: 
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/CustomerType/getall'
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] Request GET /api/ReservationStatus/getall Body: 
2025-11-14 16:58:19 [INF] Request GET /api/RoomType/getall Body: 
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/PayType/getall'
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:58:19 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:19 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [INF] Request GET /api/Country/getall Body: 
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/Nationality/getall'
2025-11-14 16:58:19 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)' with route pattern 'api/CustomerType/getall' is valid for the request path '/api/CustomerType/getall'
2025-11-14 16:58:19 [INF] Request GET /api/Room/getall Body: 
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/ReservationStatus/getall'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/RoomType/getall'
2025-11-14 16:58:19 [DBG] Endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)' with route pattern 'api/PayType/getall' is valid for the request path '/api/PayType/getall'
2025-11-14 16:58:19 [INF] Request GET /api/Customer/getall Body: 
2025-11-14 16:58:19 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:19 [INF] Request GET /api/TravelAgent/getall Body: 
2025-11-14 16:58:19 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/Country/getall'
2025-11-14 16:58:19 [DBG] Endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)' with route pattern 'api/Nationality/getall' is valid for the request path '/api/Nationality/getall'
2025-11-14 16:58:19 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/Room/getall'
2025-11-14 16:58:19 [DBG] Endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)' with route pattern 'api/ReservationStatus/getall' is valid for the request path '/api/ReservationStatus/getall'
2025-11-14 16:58:19 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)' with route pattern 'api/RoomType/getall' is valid for the request path '/api/RoomType/getall'
2025-11-14 16:58:19 [DBG] Request matched endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/Customer/getall'
2025-11-14 16:58:19 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:19 [DBG] 1 candidate(s) found for the request path '/api/TravelAgent/getall'
2025-11-14 16:58:19 [INF] Executing endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] Endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)' with route pattern 'api/Country/getall' is valid for the request path '/api/Country/getall'
2025-11-14 16:58:19 [INF] Executing endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] Endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)' with route pattern 'api/TravelAgent/getall' is valid for the request path '/api/TravelAgent/getall'
2025-11-14 16:58:19 [DBG] Request matched endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] Endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)' with route pattern 'api/Room/getall' is valid for the request path '/api/Room/getall'
2025-11-14 16:58:19 [DBG] Request matched endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] Endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)' with route pattern 'api/Customer/getall' is valid for the request path '/api/Customer/getall'
2025-11-14 16:58:19 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:19 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [INF] Route matched with {action = "GetAll", controller = "ServiceType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation).
2025-11-14 16:58:19 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [INF] Route matched with {action = "GetAll", controller = "BookingResource"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation).
2025-11-14 16:58:19 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:19 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [INF] Executing endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:19 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:19 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:19 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:19 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:19 [INF] Route matched with {action = "GetAll", controller = "PackageInfo"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation).
2025-11-14 16:58:19 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:19 [INF] CORS policy execution successful.
2025-11-14 16:58:19 [DBG] Request matched endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 16:58:19 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:19 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:19 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:19 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:19 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:19 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:20 [INF] CORS policy execution successful.
2025-11-14 16:58:20 [INF] CORS policy execution successful.
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Executing controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 16:58:20 [INF] Executing endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:20 [INF] Executing endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:20 [INF] CORS policy execution successful.
2025-11-14 16:58:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:20 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Executed controller factory for controller YourNamespace.Controllers.BookingResourceController (OIT_Reservation)
2025-11-14 16:58:20 [INF] Route matched with {action = "GetAll", controller = "TravelAgent"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation).
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [INF] Executing endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Route matched with {action = "GetAllNationalities", controller = "Nationality"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllNationalities() on controller NationalityController (OIT_Reservation).
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Route matched with {action = "GetAll", controller = "Country"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CountryController (OIT_Reservation).
2025-11-14 16:58:20 [INF] Route matched with {action = "CustomerTypes", controller = "CustomerType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CustomerType]] CustomerTypes() on controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation).
2025-11-14 16:58:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:20 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:58:20 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.ServiceTypeController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:20 [INF] Executing endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 16:58:20 [INF] CORS policy execution successful.
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Route matched with {action = "GetAll", controller = "Room"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomController (OIT_Reservation).
2025-11-14 16:58:20 [INF] Executing endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Executing endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:58:20 [INF] Route matched with {action = "GetActivePayTypes", controller = "PayType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PayType]] GetActivePayTypes() on controller PayTypeController (OIT_Reservation).
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.PackageInfoController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Route matched with {action = "GetVisibleStatuses", controller = "ReservationStatus"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ReservationStatus]] GetVisibleStatuses() on controller ReservationStatusController (OIT_Reservation).
2025-11-14 16:58:20 [INF] Route matched with {action = "GetAll", controller = "RoomType"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation).
2025-11-14 16:58:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Executing endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Executing controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation).
2025-11-14 16:58:20 [DBG] Executed controller factory for controller NationalityController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingResource, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.TravelAgentController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerTypeController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Executed action YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation) in 244.31ms
2025-11-14 16:58:20 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CountryController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [INF] Executed action OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation) in 260.0475ms
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PackageInfo, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Executing controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:58:20 [INF] Executed endpoint 'YourNamespace.Controllers.BookingResourceController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 16:58:20 [INF] Executed endpoint 'OIT_Reservation.Controllers.ServiceTypeController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [INF] Executed action OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation) in 196.6418ms
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [DBG] Executed controller factory for controller PayTypeController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:58:20 [INF] Response 200 Body: [{"reservationBookingResourceId":1,"bookingResourceName":"On Arrival"},{"reservationBookingResourceId":2,"bookingResourceName":"On Call"},{"reservationBookingResourceId":3,"bookingResourceName":"Booking .com"},{"reservationBookingResourceId":4,"bookingResourceName":"Travel Agent"}]
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Nationality, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomController (OIT_Reservation)
2025-11-14 16:58:20 [INF] Response 200 Body: [{"serviceTypeID":1,"serviceCode":"SRV0001","serviceName":"00123","quantity":2,"serviceAmount":2000,"remarks":"Testing","isRoom":true,"isBanquet":false,"type":"Room"}]
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/BookingResource/getall - 200 null application/json; charset=utf-8 721.5478ms
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelAgent, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [INF] Executed endpoint 'OIT_Reservation.Controllers.PackageInfoController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Response 200 Body: [{"packageID":1,"packageCode":"PKG0001","packageName":"SINGLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":2,"packageCode":"PKG0002","packageName":"DOUBLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":37000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":3,"packageCode":"PKG0003","packageName":"TRIPPLE ROOM (B/B)","packageDuration":24,"remarks":"","roomPrice":10.00,"roomCost":10.00,"roomAmount":42000.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":4,"packageCode":"PKG0004","packageName":"FAMILY ROOM (B/B)","packageDuration":0,"remarks":"","roomPrice":50000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":5,"packageCode":"PKG0005","packageName":"SINGLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":6,"packageCode":"PKG0006","packageName":"DOUBLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":40000.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":7,"packageCode":"PKG0007","packageName":"TRIPPLE ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":48000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":8,"packageCode":"PKG0008","packageName":"FAMILY ROOM (H/B)","packageDuration":24,"remarks":"","roomPrice":58000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":9,"packageCode":"PKG0009","packageName":"SINGLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":42500.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":10,"packageCode":"PKG0010","packageName":"DOUBLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":45000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":11,"packageCode":"PKG0011","packageName":"TRIPPLE ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":55500.00,"roomCost":0.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"},{"packageID":12,"packageCode":"PKG0012","packageName":"FAMILY ROOM (F/B)","packageDuration":24,"remarks":"","roomPrice":68000.00,"roomCost":10.00,"roomAmount":10.00,"foodAmount":10.00,"beverageAmount":10.00,"isRoom":false,"isBanquet":false,"isVilla":true,"type":"Villa"}]
2025-11-14 16:58:20 [INF] Executed action NationalityController.GetAllNationalities (OIT_Reservation) in 154.2236ms
2025-11-14 16:58:20 [INF] Executed endpoint 'NationalityController.GetAllNationalities (OIT_Reservation)'
2025-11-14 16:58:20 [DBG] Executing controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ServiceType/getall - 200 null application/json; charset=utf-8 728.2555ms
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PackageInfo/getall - 200 null application/json; charset=utf-8 704.4457ms
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [INF] Response 200 Body: [{"nationalityID":1,"nationalityCode":"LKA","description":"Sri Lankan"},{"nationalityID":2,"nationalityCode":"IND","description":"Indian"},{"nationalityID":3,"nationalityCode":"PAK","description":"Pakistani"},{"nationalityID":4,"nationalityCode":"BGD","description":"Bangladeshi"},{"nationalityID":5,"nationalityCode":"NPL","description":"Nepali"},{"nationalityID":6,"nationalityCode":"CHN","description":"Chinese"},{"nationalityID":7,"nationalityCode":"JPN","description":"Japanese"},{"nationalityID":8,"nationalityCode":"USA","description":"American"},{"nationalityID":9,"nationalityCode":"GBR","description":"British"},{"nationalityID":10,"nationalityCode":"CAN","description":"Canadian"},{"nationalityID":11,"nationalityCode":"AUS","description":"Australian"},{"nationalityID":12,"nationalityCode":"DEU","description":"German"},{"nationalityID":13,"nationalityCode":"FRA","description":"French"},{"nationalityID":14,"nationalityCode":"ITA","description":"Italian"},{"nationalityID":15,"nationalityCode":"RUS","description":"Russian"},{"nationalityID":16,"nationalityCode":"SAU","description":"Saudi"},{"nationalityID":17,"nationalityCode":"ARE","description":"Emirati"},{"nationalityID":18,"nationalityCode":"SGP","description":"Singaporean"},{"nationalityID":19,"nationalityCode":"THA","description":"Thai"},{"nationalityID":20,"nationalityCode":"MYS","description":"Malaysian"}]
2025-11-14 16:58:20 [DBG] Executed controller factory for controller ReservationStatusController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.RoomTypeController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [INF] Executed action OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation) in 159.8105ms
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [DBG] Executing controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [INF] Executed endpoint 'OIT_Reservation.Controllers.TravelAgentController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Response 200 Body: [{"travelAgentID":1,"travelAgentCode":"TA001","description":"AITKEN SPENSE"},{"travelAgentID":2,"travelAgentCode":"TA002","description":"JETWIN TRAVELS"}]
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Nationality/getall - 200 null application/json; charset=utf-8 704.7043ms
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] Executed controller factory for controller OIT_Reservation.Controllers.CustomerController (OIT_Reservation)
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/TravelAgent/getall - 200 null application/json; charset=utf-8 682.9622ms
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Room, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:58:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:58:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [INF] Executed action OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation) in 227.5615ms
2025-11-14 16:58:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:58:20 [INF] Executed action OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation) in 181.6562ms
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PayType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomType, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerTypeController.CustomerTypes (OIT_Reservation)'
2025-11-14 16:58:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:58:20 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Response 200 Body: [{"roomID":1,"roomTypeCode":"RT001","roomCode":"R0001","description":"VILLA-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":2,"roomTypeCode":"RT001","roomCode":"R0002","description":"VILLA-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":3,"roomTypeCode":"RT001","roomCode":"R0003","description":"VILLA-03","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":4,"roomTypeCode":"RT001","roomCode":"R0004","description":"VILLA-04","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":5,"roomTypeCode":"RT001","roomCode":"R0005","description":"VILLA-05","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":6,"roomTypeCode":"RT001","roomCode":"R0006","description":"VILLA-06","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":7,"roomTypeCode":"RT001","roomCode":"R0007","description":"VILLA-07","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":8,"roomTypeCode":"RT001","roomCode":"R0008","description":"VILLA-08","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":9,"roomTypeCode":"RT001","roomCode":"R0009","description":"VILLA-09","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false},{"roomID":10,"roomTypeCode":"","roomCode":"R0010","description":"ROOM-01","roomSize":4,"roomStatus":"","remarks":"","isRoom":true,"isBanquet":false},{"roomID":11,"roomTypeCode":"RT001","roomCode":"R0011","description":"ROOM-02","roomSize":4,"roomStatus":"VACANT","remarks":"","isRoom":true,"isBanquet":false}]
2025-11-14 16:58:20 [INF] Executed action OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation) in 121.6519ms
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationStatus, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Country, OIT_Reservation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 16:58:20 [INF] Executed action OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation) in 173.1924ms
2025-11-14 16:58:20 [INF] Executed endpoint 'OIT_Reservation.Controllers.RoomTypeController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Room/getall - 200 null application/json; charset=utf-8 771.764ms
2025-11-14 16:58:20 [INF] Executed action PayTypeController.GetActivePayTypes (OIT_Reservation) in 219.4094ms
2025-11-14 16:58:20 [INF] Executed endpoint 'OIT_Reservation.Controllers.CustomerController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Response 200 Body: [{"customerTypeCode":"001","customerCode":"G000001","title":"Mr.","name":"SAMPATH","niC_PassportNo":"907656767","nationalityCode":"LKA","countryCode":"CC001","mobile":"0759888811","telephone":"0554567898","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"MAHARAGAMA","whatsapp":"0759888811","remark":""},{"customerTypeCode":"001","customerCode":"G000002","title":"Mr.","name":"Thamalpath","niC_PassportNo":"53269493","nationalityCode":"LKA","countryCode":"CC001","mobile":"071155864","telephone":"","email":"thamal@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"07526648","remark":""},{"customerTypeCode":"001","customerCode":"G000003","title":"Mr.","name":"Sarindu","niC_PassportNo":"5461511988v","nationalityCode":"LKA","countryCode":"CC001","mobile":"071565658","telephone":"","email":"","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"Nawinna","whatsapp":"0715561185","remark":""},{"customerTypeCode":"001","customerCode":"G000004","title":"Mr.","name":"Navoda","niC_PassportNo":"200130500240","nationalityCode":"LKA","countryCode":"CC001","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","creditLimit":50000.00,"isActive":true,"isNew":false,"address":"bandarawela","whatsapp":"0123456789","remark":"Testing"}]
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Customer/getall - 200 null application/json; charset=utf-8 912.1839ms
2025-11-14 16:58:20 [INF] Executed action OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation) in 299.2293ms
2025-11-14 16:58:20 [INF] Response 200 Body: [{"roomTypeID":1,"roomTypeCode":"RT001","description":"DELUX ","remarks":""},{"roomTypeID":2,"roomTypeCode":"RT002","description":"STANDARD ","remarks":""},{"roomTypeID":3,"roomTypeCode":"RT003","description":"IN-DOOR","remarks":""},{"roomTypeID":4,"roomTypeCode":"RT004","description":"OUT-DOOR","remarks":""},{"roomTypeID":5,"roomTypeCode":"RT005","description":"string","remarks":"string"}]
2025-11-14 16:58:20 [INF] Executed endpoint 'PayTypeController.GetActivePayTypes (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Executed action ReservationStatusController.GetVisibleStatuses (OIT_Reservation) in 190.0677ms
2025-11-14 16:58:20 [INF] Response 200 Body: [{"customerTypeID":1,"customerTypeCode":"001","description":"Local"},{"customerTypeID":2,"customerTypeCode":"002","description":"Foregien"}]
2025-11-14 16:58:20 [INF] Executed endpoint 'OIT_Reservation.Controllers.CountryController.GetAll (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/RoomType/getall - 200 null application/json; charset=utf-8 909.9208ms
2025-11-14 16:58:20 [INF] Response 200 Body: [{"paymentID":1,"descrip":"CASH","isSwipe":false,"type":"0","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":false,"printDescrip":"CASH","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":2,"descrip":"MASTER CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"MASTER CAR","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false},{"paymentID":3,"descrip":"VISA CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"VISA CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":true},{"paymentID":4,"descrip":"AMEX CARD","isSwipe":false,"type":"1","rate":0,"isRefundable":false,"isActive":true,"isBillCopy":true,"printDescrip":"AMEX CARD","preFix":"","maxLength":0,"orderNo":0,"signatureOnPrint":false}]
2025-11-14 16:58:20 [INF] Executed endpoint 'ReservationStatusController.GetVisibleStatuses (OIT_Reservation)'
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/CustomerType/getall - 200 null application/json; charset=utf-8 846.0962ms
2025-11-14 16:58:20 [INF] Response 200 Body: [{"countryID":1,"countryCode":"CC001","description":"SRI LANKA"},{"countryID":2,"countryCode":"CC002","description":"INDIA"},{"countryID":3,"countryCode":"CC003","description":"RUSSIAN FEDERATION"},{"countryID":4,"countryCode":"CC004","description":"UNITED KINGDOM"},{"countryID":5,"countryCode":"CC005","description":"GERMANY"},{"countryID":6,"countryCode":"CC006","description":"CHINA"},{"countryID":7,"countryCode":"CC007","description":"FRANCE"},{"countryID":8,"countryCode":"CC008","description":"AUSTRALIA"},{"countryID":9,"countryCode":"CC009","description":"UNITED STATES"},{"countryID":10,"countryCode":"CC010","description":"NETHERLANDS"},{"countryID":11,"countryCode":"CC011","description":"MALDIVES"},{"countryID":12,"countryCode":"CC012","description":"BANGLADESH"},{"countryID":13,"countryCode":"CC013","description":"CANADA"},{"countryID":14,"countryCode":"CC014","description":"POLAND"},{"countryID":15,"countryCode":"CC015","description":"SWITZERLAND"},{"countryID":16,"countryCode":"CC016","description":"JAPAN"},{"countryID":17,"countryCode":"CC017","description":"AUSTRIA"},{"countryID":18,"countryCode":"CC018","description":"CZECH REPUBLIC"},{"countryID":19,"countryCode":"CC019","description":"ISRAEL"},{"countryID":20,"countryCode":"CC020","description":"SPAIN"},{"countryID":21,"countryCode":"CC021","description":"KAZAKHSTAN"},{"countryID":22,"countryCode":"CC022","description":"SINGAPORE"},{"countryID":23,"countryCode":"CC023","description":"MALAYSIA"},{"countryID":24,"countryCode":"CC024","description":"NORWAY"},{"countryID":25,"countryCode":"CC025","description":"NEW ZEALAND"},{"countryID":26,"countryCode":"CC026","description":"THAILAND"},{"countryID":27,"countryCode":"CC027","description":"ITALY"},{"countryID":28,"countryCode":"CC028","description":"SOUTH KOREA"},{"countryID":29,"countryCode":"CC029","description":"SWEDEN"},{"countryID":30,"countryCode":"CC030","description":"BELGIUM"},{"countryID":31,"countryCode":"CC031","description":"DENMARK"},{"countryID":32,"countryCode":"CC032","description":"UNITED ARAB EMIRATES"},{"countryID":33,"countryCode":"CC033","description":"SAUDI ARABIA"},{"countryID":34,"countryCode":"CC034","description":"IRAN"},{"countryID":35,"countryCode":"CC035","description":"TURKEY"},{"countryID":36,"countryCode":"CC036","description":"KUWAIT"},{"countryID":37,"countryCode":"CC037","description":"OMAN"},{"countryID":38,"countryCode":"CC038","description":"BAHRAIN"},{"countryID":39,"countryCode":"CC039","description":"FINLAND"},{"countryID":40,"countryCode":"CC040","description":"IRELAND"},{"countryID":41,"countryCode":"CC041","description":"PORTUGAL"},{"countryID":42,"countryCode":"CC042","description":"VIETNAM"},{"countryID":43,"countryCode":"CC043","description":"BELARUS"},{"countryID":44,"countryCode":"CC044","description":"UKRAINE"},{"countryID":45,"countryCode":"CC045","description":"SOUTH AFRICA"},{"countryID":46,"countryCode":"CC046","description":"MEXICO"},{"countryID":47,"countryCode":"CC047","description":"SLOVENIA"},{"countryID":48,"countryCode":"CC048","description":"HUNGARY"},{"countryID":49,"countryCode":"CC049","description":"PHILIPPINES"},{"countryID":50,"countryCode":"CC050","description":"INDONESIA"}]
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/PayType/getall - 200 null application/json; charset=utf-8 975.33ms
2025-11-14 16:58:20 [INF] Response 200 Body: [{"statusId":1,"statusName":"Booked","rowNo":1,"statusType":"1","colorCode":"#FFA500","isShow":true},{"statusId":2,"statusName":"Confirmed","rowNo":2,"statusType":"2","colorCode":"#5EFB6E","isShow":true},{"statusId":3,"statusName":"Checked In","rowNo":3,"statusType":"3","colorCode":"#6495ED","isShow":true},{"statusId":4,"statusName":"Checked Out","rowNo":4,"statusType":"4","colorCode":"#FFF8DC","isShow":true},{"statusId":6,"statusName":"Finalized","rowNo":6,"statusType":"6","colorCode":"#3de3cc","isShow":true}]
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/Country/getall - 200 null application/json; charset=utf-8 859.2876ms
2025-11-14 16:58:20 [INF] Request finished HTTP/2 GET https://localhost:9307/api/ReservationStatus/getall - 200 null application/json; charset=utf-8 1008.1039ms
2025-11-14 16:59:12 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 16:59:12 [DBG] OPTIONS requests are not supported
2025-11-14 16:59:12 [DBG] OPTIONS requests are not supported
2025-11-14 16:59:12 [DBG] OPTIONS requests are not supported
2025-11-14 16:59:12 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:59:12 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 16:59:12 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:59:12 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 16:59:12 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:59:12 [INF] CORS policy execution successful.
2025-11-14 16:59:12 [DBG] The request is a preflight request.
2025-11-14 16:59:12 [INF] Response 204 Body: 
2025-11-14 16:59:12 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 35.5716ms
2025-11-14 16:59:12 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1119
2025-11-14 16:59:12 [DBG] POST requests are not supported
2025-11-14 16:59:12 [DBG] POST requests are not supported
2025-11-14 16:59:12 [DBG] POST requests are not supported
2025-11-14 16:59:12 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 16:59:12 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:00000047": started reading request body.
2025-11-14 16:59:12 [DBG] Connection id "0HNH3DOJ4J68O", Request id "0HNH3DOJ4J68O:00000047": done reading request body.
2025-11-14 16:59:12 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 16:59:12 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 16:59:12 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 16:59:12 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:59:12 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 16:59:12 [INF] CORS policy execution successful.
2025-11-14 16:59:12 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 16:59:12 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 16:59:12 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:59:12 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 16:59:12 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 16:59:12 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 16:59:12 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 16:59:12 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 16:59:12 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 16:59:12 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:59:12 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 16:59:12 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:59:12 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 16:59:12 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 16:59:12 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 16:59:12 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:59:12 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:59:12 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 16:59:12 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 16:59:12 [INF] Saving reservation for customer: G000004
2025-11-14 16:59:12 [INF] Reservation saved successfully: R00000000019
2025-11-14 16:59:12 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 16:59:12 [DBG] No information found on request to perform content negotiation.
2025-11-14 16:59:12 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 16:59:12 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 16:59:12 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 16:59:12 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 16:59:12 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 96.179ms
2025-11-14 16:59:12 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 16:59:12 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 16:59:12 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 150.1935ms
2025-11-14 17:01:04 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 17:01:04 [DBG] Hosting starting
2025-11-14 17:01:04 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 17:01:04 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 17:01:04 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 17:01:04 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 17:01:04 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 17:01:04 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 17:01:04 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 17:01:04 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 17:01:04 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 17:01:04 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 17:01:04 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 17:01:04 [DBG] Middleware loaded
2025-11-14 17:01:04 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 17:01:04 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 17:01:04 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 17:01:04 [DBG] Connection id "0HNH3E5636348" accepted.
2025-11-14 17:01:04 [DBG] Connection id "0HNH3E5636349" received FIN.
2025-11-14 17:01:04 [DBG] Connection id "0HNH3E5636348" received FIN.
2025-11-14 17:01:04 [DBG] Connection id "0HNH3E5636348" started.
2025-11-14 17:01:04 [INF] Now listening on: https://localhost:9307
2025-11-14 17:01:05 [DBG] Connection id "0HNH3E5636349" accepted.
2025-11-14 17:01:05 [INF] Now listening on: http://localhost:9308
2025-11-14 17:01:05 [DBG] Connection id "0HNH3E5636349" started.
2025-11-14 17:01:05 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 17:01:05 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 17:01:05 [DBG] Connection id "0HNH3E563634A" accepted.
2025-11-14 17:01:05 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 17:01:05 [DBG] Connection id "0HNH3E563634A" started.
2025-11-14 17:01:05 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 17:01:05 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 17:01:05 [DBG] Connection id "0HNH3E5636349" stopped.
2025-11-14 17:01:05 [DBG] Connection id "0HNH3E5636349" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:01:05 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 17:01:05 [DBG] Connection 0HNH3E563634A established using the following protocol: "Tls12"
2025-11-14 17:01:05 [DBG] Connection id "0HNH3E5636348" stopped.
2025-11-14 17:01:05 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 17:01:05 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 17:01:05 [DBG] Connection id "0HNH3E5636348" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:01:05 [INF] Hosting environment: Development
2025-11-14 17:01:05 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 17:01:05 [DBG] Hosting started
2025-11-14 17:01:06 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 17:01:06 [DBG] The request path  does not match the path filter
2025-11-14 17:01:06 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 17:01:06 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 17:01:06 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 17:01:06 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 17:01:06 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 827.4631ms
2025-11-14 17:01:06 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 17:01:06 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 17:01:06 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 17:01:06 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 28.2262ms
2025-11-14 17:01:06 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 167.6635ms
2025-11-14 17:01:06 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 17:01:07 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 227.0234ms
2025-11-14 17:01:46 [DBG] Connection id "0HNH3E563634A" received FIN.
2025-11-14 17:01:46 [DBG] The connection queue processing loop for 0HNH3E563634A completed.
2025-11-14 17:01:46 [DBG] Connection id "0HNH3E563634A" is closed. The last processed stream ID was 7.
2025-11-14 17:01:46 [DBG] Connection id "0HNH3E563634A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:01:46 [DBG] Connection id "0HNH3E563634A" stopped.
2025-11-14 17:01:51 [DBG] Connection id "0HNH3E563634B" accepted.
2025-11-14 17:01:51 [DBG] Connection id "0HNH3E563634B" started.
2025-11-14 17:01:51 [DBG] Connection 0HNH3E563634B established using the following protocol: "Tls12"
2025-11-14 17:01:51 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:01:51 [DBG] OPTIONS requests are not supported
2025-11-14 17:01:51 [DBG] OPTIONS requests are not supported
2025-11-14 17:01:51 [DBG] OPTIONS requests are not supported
2025-11-14 17:01:51 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:01:51 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:01:51 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:01:51 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:01:51 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:01:51 [INF] CORS policy execution successful.
2025-11-14 17:01:51 [DBG] The request is a preflight request.
2025-11-14 17:01:51 [INF] Response 204 Body: 
2025-11-14 17:01:51 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 81.9152ms
2025-11-14 17:01:51 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:01:51 [DBG] POST requests are not supported
2025-11-14 17:01:51 [DBG] POST requests are not supported
2025-11-14 17:01:51 [DBG] POST requests are not supported
2025-11-14 17:01:51 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:01:51 [DBG] Connection id "0HNH3E563634B", Request id "0HNH3E563634B:00000003": started reading request body.
2025-11-14 17:01:51 [DBG] Connection id "0HNH3E563634B", Request id "0HNH3E563634B:00000003": done reading request body.
2025-11-14 17:01:51 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:01:51 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:01:51 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:01:51 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:01:51 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:01:51 [INF] CORS policy execution successful.
2025-11-14 17:01:51 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:01:51 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:01:51 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:01:51 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:01:51 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:01:51 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:01:51 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:01:51 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:01:51 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:01:51 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:01:51 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:01:51 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:01:51 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:01:51 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:01:52 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:01:52 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:01:52 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:01:52 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:01:52 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:01:52 [INF] Saving reservation for customer: G000004
2025-11-14 17:01:52 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:01:52 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:01:52 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:01:52 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:01:52 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:01:52 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:01:52 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:01:52 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 630.9827ms
2025-11-14 17:01:52 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:01:52 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:01:52 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 841.784ms
2025-11-14 17:03:20 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 17:03:20 [DBG] Hosting starting
2025-11-14 17:03:21 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 17:03:21 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 17:03:21 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 17:03:21 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 17:03:21 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 17:03:21 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 17:03:21 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 17:03:21 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 17:03:21 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 17:03:21 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 17:03:21 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 17:03:21 [DBG] Middleware loaded
2025-11-14 17:03:21 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 17:03:21 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 17:03:21 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 17:03:21 [INF] Now listening on: https://localhost:9307
2025-11-14 17:03:21 [INF] Now listening on: http://localhost:9308
2025-11-14 17:03:21 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 17:03:21 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 17:03:21 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 17:03:21 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 17:03:21 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 17:03:21 [INF] Hosting environment: Development
2025-11-14 17:03:21 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 17:03:21 [DBG] Hosting started
2025-11-14 17:03:21 [DBG] Connection id "0HNH3E6ERBGMN" accepted.
2025-11-14 17:03:21 [DBG] Connection id "0HNH3E6ERBGMN" started.
2025-11-14 17:03:21 [DBG] Connection id "0HNH3E6ERBGMN" received FIN.
2025-11-14 17:03:21 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 17:03:21 [DBG] Connection id "0HNH3E6ERBGMO" accepted.
2025-11-14 17:03:22 [DBG] Connection id "0HNH3E6ERBGMN" stopped.
2025-11-14 17:03:22 [DBG] Connection id "0HNH3E6ERBGMO" started.
2025-11-14 17:03:22 [DBG] Connection id "0HNH3E6ERBGMN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:03:22 [DBG] Connection 0HNH3E6ERBGMO established using the following protocol: "Tls12"
2025-11-14 17:03:22 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 17:03:22 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 17:03:22 [DBG] The request path  does not match the path filter
2025-11-14 17:03:22 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 17:03:22 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 17:03:22 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 17:03:22 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 17:03:22 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 270.7248ms
2025-11-14 17:03:22 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 17:03:22 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 17:03:22 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 17:03:22 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 34.1668ms
2025-11-14 17:03:22 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 142.6453ms
2025-11-14 17:03:22 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 17:03:22 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.0988ms
2025-11-14 17:04:03 [DBG] Connection id "0HNH3E6ERBGMP" accepted.
2025-11-14 17:04:03 [DBG] Connection id "0HNH3E6ERBGMP" started.
2025-11-14 17:04:03 [DBG] Connection 0HNH3E6ERBGMP established using the following protocol: "Tls12"
2025-11-14 17:04:03 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:04:03 [DBG] OPTIONS requests are not supported
2025-11-14 17:04:03 [DBG] OPTIONS requests are not supported
2025-11-14 17:04:03 [DBG] OPTIONS requests are not supported
2025-11-14 17:04:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:04:03 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:04:03 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:04:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:04:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:04:03 [INF] CORS policy execution successful.
2025-11-14 17:04:03 [DBG] The request is a preflight request.
2025-11-14 17:04:03 [INF] Response 204 Body: 
2025-11-14 17:04:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 82.7123ms
2025-11-14 17:04:03 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:04:03 [DBG] POST requests are not supported
2025-11-14 17:04:03 [DBG] POST requests are not supported
2025-11-14 17:04:03 [DBG] POST requests are not supported
2025-11-14 17:04:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:04:03 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000003": started reading request body.
2025-11-14 17:04:03 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000003": done reading request body.
2025-11-14 17:04:03 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:04:03 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:04:03 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:04:03 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:04:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:04:03 [INF] CORS policy execution successful.
2025-11-14 17:04:03 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:04:03 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:04:03 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:04:03 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:04:03 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:04:03 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:04:03 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:04:03 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:04:03 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:04:03 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:04:03 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:04:03 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:04:03 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:04:03 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:04:03 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:04:03 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:04:03 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:04:03 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:04:03 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:04:03 [INF] Saving reservation for customer: G000004
2025-11-14 17:04:04 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:04:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:04:04 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:04:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:04:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:04:04 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:04:04 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:04:04 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 546.7021ms
2025-11-14 17:04:04 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:04:04 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:04:04 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 816.9591ms
2025-11-14 17:05:02 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:05:02 [DBG] OPTIONS requests are not supported
2025-11-14 17:05:02 [DBG] OPTIONS requests are not supported
2025-11-14 17:05:02 [DBG] OPTIONS requests are not supported
2025-11-14 17:05:02 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:05:02 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:05:02 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:05:02 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:05:02 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:05:02 [INF] CORS policy execution successful.
2025-11-14 17:05:02 [DBG] The request is a preflight request.
2025-11-14 17:05:02 [INF] Response 204 Body: 
2025-11-14 17:05:02 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 35.6863ms
2025-11-14 17:05:02 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:05:02 [DBG] POST requests are not supported
2025-11-14 17:05:02 [DBG] POST requests are not supported
2025-11-14 17:05:02 [DBG] POST requests are not supported
2025-11-14 17:05:02 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:05:02 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000007": started reading request body.
2025-11-14 17:05:02 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000007": done reading request body.
2025-11-14 17:05:02 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:05:02 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:05:02 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:05:02 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:05:02 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:05:02 [INF] CORS policy execution successful.
2025-11-14 17:05:02 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:05:02 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:05:02 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:05:02 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:05:02 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:05:02 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:05:02 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:05:02 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:05:02 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:05:02 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:05:02 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:05:02 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:05:02 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:05:02 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:05:03 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:05:03 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:05:03 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:05:03 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:05:03 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:05:03 [INF] Saving reservation for customer: G000004
2025-11-14 17:05:03 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:05:03 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:05:03 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:05:03 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:05:03 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:05:03 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:05:03 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:05:03 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 110.0949ms
2025-11-14 17:05:03 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:05:03 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:05:03 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 180.6854ms
2025-11-14 17:07:25 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:07:25 [DBG] OPTIONS requests are not supported
2025-11-14 17:07:25 [DBG] OPTIONS requests are not supported
2025-11-14 17:07:25 [DBG] OPTIONS requests are not supported
2025-11-14 17:07:25 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:07:25 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:07:25 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:07:25 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:07:25 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:07:25 [INF] CORS policy execution successful.
2025-11-14 17:07:25 [DBG] The request is a preflight request.
2025-11-14 17:07:25 [INF] Response 204 Body: 
2025-11-14 17:07:25 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 22.5636ms
2025-11-14 17:07:25 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:07:25 [DBG] POST requests are not supported
2025-11-14 17:07:25 [DBG] POST requests are not supported
2025-11-14 17:07:25 [DBG] POST requests are not supported
2025-11-14 17:07:25 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:07:25 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000000B": started reading request body.
2025-11-14 17:07:25 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000000B": done reading request body.
2025-11-14 17:07:25 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:07:25 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:07:25 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:07:25 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:07:25 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:07:25 [INF] CORS policy execution successful.
2025-11-14 17:07:25 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:07:25 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:07:25 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:07:25 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:07:25 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:07:25 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:07:25 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:07:25 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:07:25 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:07:25 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:07:25 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:07:25 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:07:25 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:07:25 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:07:25 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:07:25 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:07:25 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:07:25 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:07:25 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:07:25 [INF] Saving reservation for customer: G000004
2025-11-14 17:07:25 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:07:25 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:07:25 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:07:25 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:07:25 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:07:25 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:07:25 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:07:25 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 83.8902ms
2025-11-14 17:07:25 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:07:25 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:07:25 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 153.3561ms
2025-11-14 17:09:02 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:09:02 [DBG] OPTIONS requests are not supported
2025-11-14 17:09:02 [DBG] OPTIONS requests are not supported
2025-11-14 17:09:03 [DBG] OPTIONS requests are not supported
2025-11-14 17:09:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:09:03 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:09:03 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:09:03 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:09:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:09:03 [INF] CORS policy execution successful.
2025-11-14 17:09:03 [DBG] The request is a preflight request.
2025-11-14 17:09:03 [INF] Response 204 Body: 
2025-11-14 17:09:03 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 30.5982ms
2025-11-14 17:09:03 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:09:03 [DBG] POST requests are not supported
2025-11-14 17:09:03 [DBG] POST requests are not supported
2025-11-14 17:09:03 [DBG] POST requests are not supported
2025-11-14 17:09:03 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:09:03 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000000F": started reading request body.
2025-11-14 17:09:03 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000000F": done reading request body.
2025-11-14 17:09:03 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:09:03 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:09:03 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:09:03 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:09:03 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:09:03 [INF] CORS policy execution successful.
2025-11-14 17:09:03 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:09:03 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:09:03 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:09:03 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:09:03 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:09:03 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:09:03 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:09:03 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:09:03 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:09:03 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:09:03 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:09:03 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:09:03 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:09:03 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:09:03 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:09:03 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:09:03 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:09:03 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:09:03 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:09:03 [INF] Saving reservation for customer: G000004
2025-11-14 17:09:03 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:09:03 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:09:03 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:09:03 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:09:03 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:09:03 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:09:03 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:09:03 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 104.3432ms
2025-11-14 17:09:03 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:09:03 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:09:03 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 176.4214ms
2025-11-14 17:09:43 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:09:43 [DBG] OPTIONS requests are not supported
2025-11-14 17:09:43 [DBG] OPTIONS requests are not supported
2025-11-14 17:09:43 [DBG] OPTIONS requests are not supported
2025-11-14 17:09:43 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:09:43 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:09:43 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:09:43 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:09:43 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:09:43 [INF] CORS policy execution successful.
2025-11-14 17:09:43 [DBG] The request is a preflight request.
2025-11-14 17:09:43 [INF] Response 204 Body: 
2025-11-14 17:09:43 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 24.6315ms
2025-11-14 17:09:43 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:09:43 [DBG] POST requests are not supported
2025-11-14 17:09:43 [DBG] POST requests are not supported
2025-11-14 17:09:43 [DBG] POST requests are not supported
2025-11-14 17:09:43 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:09:43 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000013": started reading request body.
2025-11-14 17:09:43 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000013": done reading request body.
2025-11-14 17:09:43 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:09:43 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:09:43 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:09:43 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:09:43 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:09:43 [INF] CORS policy execution successful.
2025-11-14 17:09:43 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:09:43 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:09:43 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:09:43 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:09:43 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:09:43 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:09:43 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:09:43 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:09:43 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:09:43 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:09:43 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:09:43 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:09:43 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:09:43 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:09:43 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:09:43 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:09:43 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:09:43 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:09:43 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:09:43 [INF] Saving reservation for customer: G000004
2025-11-14 17:09:43 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:09:43 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:09:43 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:09:43 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:09:43 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:09:43 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:09:43 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:09:43 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 46.8061ms
2025-11-14 17:09:43 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:09:43 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:09:43 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 107.9365ms
2025-11-14 17:10:42 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:10:42 [DBG] OPTIONS requests are not supported
2025-11-14 17:10:42 [DBG] OPTIONS requests are not supported
2025-11-14 17:10:42 [DBG] OPTIONS requests are not supported
2025-11-14 17:10:42 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:10:42 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:10:42 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:10:42 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:10:42 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:10:42 [INF] CORS policy execution successful.
2025-11-14 17:10:42 [DBG] The request is a preflight request.
2025-11-14 17:10:42 [INF] Response 204 Body: 
2025-11-14 17:10:42 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 22.246ms
2025-11-14 17:10:42 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:10:42 [DBG] POST requests are not supported
2025-11-14 17:10:42 [DBG] POST requests are not supported
2025-11-14 17:10:42 [DBG] POST requests are not supported
2025-11-14 17:10:42 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:10:42 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000017": started reading request body.
2025-11-14 17:10:42 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000017": done reading request body.
2025-11-14 17:10:42 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:10:42 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:10:42 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:10:42 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:10:42 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:10:42 [INF] CORS policy execution successful.
2025-11-14 17:10:42 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:10:42 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:10:42 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:10:42 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:10:42 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:10:42 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:10:42 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:10:42 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:10:42 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:10:42 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:10:42 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:10:42 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:10:42 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:10:42 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:10:42 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:10:42 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:10:42 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:10:42 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:10:42 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:10:42 [INF] Saving reservation for customer: G000004
2025-11-14 17:10:42 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:10:42 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:10:42 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:10:42 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:10:42 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:10:42 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:10:42 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:10:42 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 85.6887ms
2025-11-14 17:10:42 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:10:42 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:10:42 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 146.8662ms
2025-11-14 17:11:27 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:11:27 [DBG] OPTIONS requests are not supported
2025-11-14 17:11:27 [DBG] OPTIONS requests are not supported
2025-11-14 17:11:27 [DBG] OPTIONS requests are not supported
2025-11-14 17:11:27 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:11:27 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:11:27 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:11:27 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:11:27 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:11:27 [INF] CORS policy execution successful.
2025-11-14 17:11:27 [DBG] The request is a preflight request.
2025-11-14 17:11:27 [INF] Response 204 Body: 
2025-11-14 17:11:27 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 27.6953ms
2025-11-14 17:11:27 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:11:27 [DBG] POST requests are not supported
2025-11-14 17:11:27 [DBG] POST requests are not supported
2025-11-14 17:11:27 [DBG] POST requests are not supported
2025-11-14 17:11:27 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:11:27 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000001B": started reading request body.
2025-11-14 17:11:27 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000001B": done reading request body.
2025-11-14 17:11:27 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:11:27 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:11:27 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:11:27 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:11:27 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:11:27 [INF] CORS policy execution successful.
2025-11-14 17:11:27 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:11:28 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:11:28 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:11:28 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:11:28 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:11:28 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:11:28 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:11:28 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:11:28 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:11:28 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:11:28 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:11:28 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:11:28 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:11:28 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:11:28 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:11:28 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:11:28 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:11:28 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:11:28 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:11:28 [INF] Saving reservation for customer: G000004
2025-11-14 17:11:28 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:11:28 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:11:28 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:11:28 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:11:28 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:11:28 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:11:28 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:11:28 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 98.6314ms
2025-11-14 17:11:28 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:11:28 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:11:28 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 168.5147ms
2025-11-14 17:22:12 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:22:12 [DBG] OPTIONS requests are not supported
2025-11-14 17:22:12 [DBG] OPTIONS requests are not supported
2025-11-14 17:22:12 [DBG] OPTIONS requests are not supported
2025-11-14 17:22:12 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:22:12 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:22:12 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:22:12 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:22:12 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:22:12 [INF] CORS policy execution successful.
2025-11-14 17:22:12 [DBG] The request is a preflight request.
2025-11-14 17:22:12 [INF] Response 204 Body: 
2025-11-14 17:22:12 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 36.9482ms
2025-11-14 17:22:12 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:22:12 [DBG] POST requests are not supported
2025-11-14 17:22:12 [DBG] POST requests are not supported
2025-11-14 17:22:12 [DBG] POST requests are not supported
2025-11-14 17:22:12 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:22:12 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000001F": started reading request body.
2025-11-14 17:22:12 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000001F": done reading request body.
2025-11-14 17:22:12 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:22:12 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:22:12 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:22:12 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:22:12 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:22:12 [INF] CORS policy execution successful.
2025-11-14 17:22:12 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:22:12 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:22:12 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:22:12 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:22:12 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:22:12 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:22:12 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:22:12 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:22:12 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:22:12 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:22:12 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:22:12 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:22:12 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:22:12 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:22:12 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:22:12 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:22:12 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:22:12 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:22:12 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:22:12 [INF] Saving reservation for customer: G000004
2025-11-14 17:22:12 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:22:12 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:22:12 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:22:12 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:22:12 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:22:12 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:22:12 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:22:12 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 104.5264ms
2025-11-14 17:22:12 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:22:12 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:22:12 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 164.2481ms
2025-11-14 17:22:48 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:22:48 [DBG] OPTIONS requests are not supported
2025-11-14 17:22:48 [DBG] OPTIONS requests are not supported
2025-11-14 17:22:48 [DBG] OPTIONS requests are not supported
2025-11-14 17:22:48 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:22:48 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:22:48 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:22:48 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:22:48 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:22:48 [INF] CORS policy execution successful.
2025-11-14 17:22:48 [DBG] The request is a preflight request.
2025-11-14 17:22:48 [INF] Response 204 Body: 
2025-11-14 17:22:48 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 36.267ms
2025-11-14 17:22:48 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:22:48 [DBG] POST requests are not supported
2025-11-14 17:22:48 [DBG] POST requests are not supported
2025-11-14 17:22:48 [DBG] POST requests are not supported
2025-11-14 17:22:48 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:22:48 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000023": started reading request body.
2025-11-14 17:22:48 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000023": done reading request body.
2025-11-14 17:22:48 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:22:48 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:22:48 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:22:48 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:22:48 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:22:48 [INF] CORS policy execution successful.
2025-11-14 17:22:48 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:22:48 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:22:48 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:22:48 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:22:48 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:22:48 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:22:48 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:22:48 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:22:48 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:22:48 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:22:48 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:22:48 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:22:48 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:22:48 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:22:48 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:22:48 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:22:48 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:22:48 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:22:48 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:22:48 [INF] Saving reservation for customer: G000004
2025-11-14 17:22:48 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:22:48 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:22:48 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:22:48 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:22:48 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:22:48 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:22:48 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:22:48 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 45.3337ms
2025-11-14 17:22:48 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:22:48 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:22:48 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 104.1742ms
2025-11-14 17:23:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:23:19 [DBG] OPTIONS requests are not supported
2025-11-14 17:23:19 [DBG] OPTIONS requests are not supported
2025-11-14 17:23:19 [DBG] OPTIONS requests are not supported
2025-11-14 17:23:19 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:23:19 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:23:19 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:23:19 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:23:19 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:23:19 [INF] CORS policy execution successful.
2025-11-14 17:23:19 [DBG] The request is a preflight request.
2025-11-14 17:23:19 [INF] Response 204 Body: 
2025-11-14 17:23:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 26.3659ms
2025-11-14 17:23:20 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:23:20 [DBG] POST requests are not supported
2025-11-14 17:23:20 [DBG] POST requests are not supported
2025-11-14 17:23:20 [DBG] POST requests are not supported
2025-11-14 17:23:20 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:23:20 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000027": started reading request body.
2025-11-14 17:23:20 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:00000027": done reading request body.
2025-11-14 17:23:20 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:23:20 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:23:20 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:23:20 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:23:20 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:23:20 [INF] CORS policy execution successful.
2025-11-14 17:23:20 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:23:20 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:23:20 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:23:20 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:23:20 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:23:20 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:23:20 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:23:20 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:23:20 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:23:20 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:23:20 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:23:20 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:23:20 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:23:20 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:23:20 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:23:20 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:23:20 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:23:20 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:23:20 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:23:20 [INF] Saving reservation for customer: G000004
2025-11-14 17:23:20 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:23:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:23:20 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:23:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:23:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:23:20 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:23:20 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:23:20 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 126.5647ms
2025-11-14 17:23:20 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:23:20 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:23:20 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 200.3853ms
2025-11-14 17:24:08 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:24:08 [DBG] OPTIONS requests are not supported
2025-11-14 17:24:08 [DBG] OPTIONS requests are not supported
2025-11-14 17:24:08 [DBG] OPTIONS requests are not supported
2025-11-14 17:24:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:24:08 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:24:08 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:24:08 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:24:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:24:08 [INF] CORS policy execution successful.
2025-11-14 17:24:08 [DBG] The request is a preflight request.
2025-11-14 17:24:08 [INF] Response 204 Body: 
2025-11-14 17:24:08 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 32.3297ms
2025-11-14 17:24:08 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:24:08 [DBG] POST requests are not supported
2025-11-14 17:24:08 [DBG] POST requests are not supported
2025-11-14 17:24:08 [DBG] POST requests are not supported
2025-11-14 17:24:08 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:24:08 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000002B": started reading request body.
2025-11-14 17:24:08 [DBG] Connection id "0HNH3E6ERBGMP", Request id "0HNH3E6ERBGMP:0000002B": done reading request body.
2025-11-14 17:24:08 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:24:08 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:24:08 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:24:08 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:24:08 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:24:08 [INF] CORS policy execution successful.
2025-11-14 17:24:08 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:24:08 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:24:08 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:24:08 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:24:08 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:24:08 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:24:08 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:24:08 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:24:08 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:24:08 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:24:08 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:24:08 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:24:08 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:24:08 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:24:08 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:24:08 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:24:08 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:24:08 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:24:08 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:24:08 [INF] Saving reservation for customer: G000004
2025-11-14 17:24:08 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:24:08 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:24:08 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:24:08 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:24:08 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:24:08 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:24:08 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:24:08 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 112.5359ms
2025-11-14 17:24:08 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:24:08 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:24:08 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 182.0949ms
2025-11-14 17:27:18 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-14 17:27:18 [DBG] Hosting starting
2025-11-14 17:27:18 [INF] User profile is available. Using 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 17:27:18 [DBG] Reading data from file 'C:\Users\Onimta\AppData\Local\ASP.NET\DataProtection-Keys\key-5b5b8e65-5f3e-4c1a-a6e0-5288f749d340.xml'.
2025-11-14 17:27:18 [DBG] Found key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340}.
2025-11-14 17:27:18 [DBG] Considering key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} with expiration date 2026-01-21 06:33:18Z as default key.
2025-11-14 17:27:18 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 17:27:18 [DBG] Decrypting secret element using Windows DPAPI.
2025-11-14 17:27:18 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-11-14 17:27:18 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-11-14 17:27:18 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-11-14 17:27:18 [DBG] Using key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} as the default key.
2025-11-14 17:27:18 [DBG] Key ring with default key {5b5b8e65-5f3e-4c1a-a6e0-5288f749d340} was loaded during application startup.
2025-11-14 17:27:18 [DBG] Middleware loaded
2025-11-14 17:27:18 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16515 B).
2025-11-14 17:27:18 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-11-14 17:27:18 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-11-14 17:27:18 [INF] Now listening on: https://localhost:9307
2025-11-14 17:27:18 [INF] Now listening on: http://localhost:9308
2025-11-14 17:27:18 [DBG] Loaded hosting startup assembly OIT_Reservation
2025-11-14 17:27:18 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-14 17:27:18 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-11-14 17:27:18 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-14 17:27:18 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 17:27:18 [INF] Hosting environment: Development
2025-11-14 17:27:18 [INF] Content root path: D:\Navoda\Projects\backend
2025-11-14 17:27:18 [DBG] Hosting started
2025-11-14 17:27:18 [DBG] Connection id "0HNH3EJR4OBDR" received FIN.
2025-11-14 17:27:18 [DBG] Connection id "0HNH3EJR4OBDS" received FIN.
2025-11-14 17:27:18 [DBG] Connection id "0HNH3EJR4OBDR" accepted.
2025-11-14 17:27:18 [DBG] Connection id "0HNH3EJR4OBDS" accepted.
2025-11-14 17:27:18 [DBG] Connection id "0HNH3EJR4OBDR" started.
2025-11-14 17:27:18 [DBG] Connection id "0HNH3EJR4OBDS" started.
2025-11-14 17:27:18 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 17:27:18 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-14 17:27:19 [DBG] Connection id "0HNH3EJR4OBDT" accepted.
2025-11-14 17:27:19 [DBG] Connection id "0HNH3EJR4OBDS" stopped.
2025-11-14 17:27:19 [DBG] Connection id "0HNH3EJR4OBDR" stopped.
2025-11-14 17:27:19 [DBG] Connection id "0HNH3EJR4OBDT" started.
2025-11-14 17:27:19 [DBG] Connection id "0HNH3EJR4OBDS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:27:19 [DBG] Connection id "0HNH3EJR4OBDR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:27:19 [DBG] Connection 0HNH3EJR4OBDT established using the following protocol: "Tls12"
2025-11-14 17:27:19 [INF] Request starting HTTP/2 GET https://localhost:9307/index.html - null null
2025-11-14 17:27:19 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-14 17:27:19 [DBG] The request path  does not match the path filter
2025-11-14 17:27:19 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-14 17:27:19 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-11-14 17:27:19 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-14 17:27:19 [DBG] Response markup was updated to include browser refresh script injection.
2025-11-14 17:27:19 [INF] Request finished HTTP/2 GET https://localhost:9307/index.html - 200 null text/html;charset=utf-8 275.0138ms
2025-11-14 17:27:19 [INF] Request starting HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - null null
2025-11-14 17:27:19 [INF] Request starting HTTP/2 GET https://localhost:9307/_vs/browserLink - null null
2025-11-14 17:27:19 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-11-14 17:27:19 [INF] Request finished HTTP/2 GET https://localhost:9307/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 66.2368ms
2025-11-14 17:27:19 [INF] Request finished HTTP/2 GET https://localhost:9307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 136.6347ms
2025-11-14 17:27:20 [INF] Request starting HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - null null
2025-11-14 17:27:20 [INF] Request finished HTTP/2 GET https://localhost:9307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.8326ms
2025-11-14 17:28:33 [DBG] Connection id "0HNH3EJR4OBDU" accepted.
2025-11-14 17:28:33 [DBG] Connection id "0HNH3EJR4OBDU" started.
2025-11-14 17:28:33 [DBG] Connection 0HNH3EJR4OBDU established using the following protocol: "Tls12"
2025-11-14 17:28:33 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:28:33 [DBG] OPTIONS requests are not supported
2025-11-14 17:28:33 [DBG] OPTIONS requests are not supported
2025-11-14 17:28:33 [DBG] OPTIONS requests are not supported
2025-11-14 17:28:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:28:33 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:28:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:28:33 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:28:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:28:33 [INF] CORS policy execution successful.
2025-11-14 17:28:33 [DBG] The request is a preflight request.
2025-11-14 17:28:33 [INF] Response 204 Body: 
2025-11-14 17:28:33 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 85.0362ms
2025-11-14 17:28:33 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:28:33 [DBG] POST requests are not supported
2025-11-14 17:28:33 [DBG] POST requests are not supported
2025-11-14 17:28:33 [DBG] POST requests are not supported
2025-11-14 17:28:33 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:28:33 [DBG] Connection id "0HNH3EJR4OBDU", Request id "0HNH3EJR4OBDU:00000003": started reading request body.
2025-11-14 17:28:33 [DBG] Connection id "0HNH3EJR4OBDU", Request id "0HNH3EJR4OBDU:00000003": done reading request body.
2025-11-14 17:28:33 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:28:33 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:28:33 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:28:33 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:28:33 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:28:33 [INF] CORS policy execution successful.
2025-11-14 17:28:33 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:28:33 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:28:33 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:28:33 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:28:33 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:28:33 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:28:33 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:28:33 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:28:33 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:28:33 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:28:33 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:28:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:28:33 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:28:33 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:28:33 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:28:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:28:33 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:28:33 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:28:33 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:28:33 [INF] Saving reservation for customer: G000004
2025-11-14 17:28:34 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:28:34 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:28:34 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:28:34 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:28:34 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:28:34 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:28:34 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:28:34 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 537.2504ms
2025-11-14 17:28:34 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:28:34 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:28:34 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 776.0656ms
2025-11-14 17:29:45 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:29:45 [DBG] OPTIONS requests are not supported
2025-11-14 17:29:45 [DBG] OPTIONS requests are not supported
2025-11-14 17:29:45 [DBG] OPTIONS requests are not supported
2025-11-14 17:29:45 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:29:45 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:29:45 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:29:45 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:29:45 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:29:45 [INF] CORS policy execution successful.
2025-11-14 17:29:45 [DBG] The request is a preflight request.
2025-11-14 17:29:45 [INF] Response 204 Body: 
2025-11-14 17:29:45 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 35.8298ms
2025-11-14 17:29:45 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:29:45 [DBG] POST requests are not supported
2025-11-14 17:29:45 [DBG] POST requests are not supported
2025-11-14 17:29:45 [DBG] POST requests are not supported
2025-11-14 17:29:45 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:29:45 [DBG] Connection id "0HNH3EJR4OBDU", Request id "0HNH3EJR4OBDU:00000007": started reading request body.
2025-11-14 17:29:45 [DBG] Connection id "0HNH3EJR4OBDU", Request id "0HNH3EJR4OBDU:00000007": done reading request body.
2025-11-14 17:29:45 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:29:45 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:29:45 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:29:45 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:29:45 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:29:45 [INF] CORS policy execution successful.
2025-11-14 17:29:45 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:29:45 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:29:45 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:29:45 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:29:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:29:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:29:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:29:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:29:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:29:45 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:29:45 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:29:45 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:29:45 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:29:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:29:45 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:29:45 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:29:45 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:29:45 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:29:45 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:29:45 [INF] Saving reservation for customer: G000004
2025-11-14 17:29:46 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:29:46 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:29:46 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:29:46 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:29:46 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:29:46 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:29:46 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:29:46 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 104.4347ms
2025-11-14 17:29:46 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:29:46 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:29:46 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 174.569ms
2025-11-14 17:30:17 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:30:17 [DBG] OPTIONS requests are not supported
2025-11-14 17:30:17 [DBG] OPTIONS requests are not supported
2025-11-14 17:30:17 [DBG] OPTIONS requests are not supported
2025-11-14 17:30:17 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:30:17 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:30:17 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:30:17 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:30:17 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:30:17 [INF] CORS policy execution successful.
2025-11-14 17:30:17 [DBG] The request is a preflight request.
2025-11-14 17:30:17 [INF] Response 204 Body: 
2025-11-14 17:30:17 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 36.5687ms
2025-11-14 17:30:17 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:30:17 [DBG] POST requests are not supported
2025-11-14 17:30:17 [DBG] POST requests are not supported
2025-11-14 17:30:17 [DBG] POST requests are not supported
2025-11-14 17:30:17 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:30:17 [DBG] Connection id "0HNH3EJR4OBDU", Request id "0HNH3EJR4OBDU:0000000B": started reading request body.
2025-11-14 17:30:17 [DBG] Connection id "0HNH3EJR4OBDU", Request id "0HNH3EJR4OBDU:0000000B": done reading request body.
2025-11-14 17:30:17 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:30:17 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:30:17 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:30:17 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:30:17 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:30:17 [INF] CORS policy execution successful.
2025-11-14 17:30:17 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:30:17 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:30:17 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:30:17 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:30:17 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:30:17 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:30:17 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:30:17 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:30:17 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:30:17 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:30:17 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:30:17 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:30:17 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:30:17 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:30:17 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:30:17 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:30:17 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:30:17 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:30:17 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:30:17 [INF] Saving reservation for customer: G000004
2025-11-14 17:30:17 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:30:17 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:30:17 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:30:17 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:30:17 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:30:17 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:30:17 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:30:17 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 53.8142ms
2025-11-14 17:30:17 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:30:17 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:30:17 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 120.6254ms
2025-11-14 17:31:05 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:31:05 [DBG] OPTIONS requests are not supported
2025-11-14 17:31:05 [DBG] OPTIONS requests are not supported
2025-11-14 17:31:05 [DBG] OPTIONS requests are not supported
2025-11-14 17:31:05 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:31:05 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:31:05 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:31:05 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:31:05 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:31:05 [INF] CORS policy execution successful.
2025-11-14 17:31:05 [DBG] The request is a preflight request.
2025-11-14 17:31:05 [INF] Response 204 Body: 
2025-11-14 17:31:05 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 34.3783ms
2025-11-14 17:31:05 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:31:05 [DBG] POST requests are not supported
2025-11-14 17:31:05 [DBG] POST requests are not supported
2025-11-14 17:31:05 [DBG] POST requests are not supported
2025-11-14 17:31:05 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:31:05 [DBG] Connection id "0HNH3EJR4OBDU", Request id "0HNH3EJR4OBDU:0000000F": started reading request body.
2025-11-14 17:31:05 [DBG] Connection id "0HNH3EJR4OBDU", Request id "0HNH3EJR4OBDU:0000000F": done reading request body.
2025-11-14 17:31:05 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:31:05 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:31:05 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:31:05 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:31:05 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:31:05 [INF] CORS policy execution successful.
2025-11-14 17:31:05 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:31:05 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:31:05 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:31:05 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:31:05 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:31:05 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:31:05 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:31:05 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:31:05 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:31:05 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:31:05 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:31:05 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:31:05 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:31:05 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:31:05 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:31:05 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:31:05 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:31:05 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:31:05 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:31:05 [INF] Saving reservation for customer: G000004
2025-11-14 17:31:05 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:31:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:31:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:31:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:31:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:31:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:31:05 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:31:05 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 96.3608ms
2025-11-14 17:31:05 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:31:05 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:31:05 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 161.4245ms
2025-11-14 17:31:46 [DBG] Connection id "0HNH3EJR4OBDT" received FIN.
2025-11-14 17:31:46 [DBG] Connection id "0HNH3EJR4OBDU" received FIN.
2025-11-14 17:31:46 [DBG] The connection queue processing loop for 0HNH3EJR4OBDU completed.
2025-11-14 17:31:46 [DBG] The connection queue processing loop for 0HNH3EJR4OBDT completed.
2025-11-14 17:31:46 [DBG] Connection id "0HNH3EJR4OBDU" is closed. The last processed stream ID was 15.
2025-11-14 17:31:46 [DBG] Connection id "0HNH3EJR4OBDT" is closed. The last processed stream ID was 7.
2025-11-14 17:31:46 [DBG] Connection id "0HNH3EJR4OBDU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:31:46 [DBG] Connection id "0HNH3EJR4OBDT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:31:46 [DBG] Connection id "0HNH3EJR4OBDU" stopped.
2025-11-14 17:31:46 [DBG] Connection id "0HNH3EJR4OBDT" stopped.
2025-11-14 17:33:37 [DBG] Connection id "0HNH3EJR4OBDV" accepted.
2025-11-14 17:33:37 [DBG] Connection id "0HNH3EJR4OBDV" started.
2025-11-14 17:33:37 [DBG] Connection 0HNH3EJR4OBDV established using the following protocol: "Tls12"
2025-11-14 17:33:37 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:33:37 [DBG] OPTIONS requests are not supported
2025-11-14 17:33:37 [DBG] OPTIONS requests are not supported
2025-11-14 17:33:37 [DBG] OPTIONS requests are not supported
2025-11-14 17:33:37 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:33:37 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:33:37 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:33:37 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:33:37 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:33:37 [INF] CORS policy execution successful.
2025-11-14 17:33:37 [DBG] The request is a preflight request.
2025-11-14 17:33:37 [INF] Response 204 Body: 
2025-11-14 17:33:37 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 19.3815ms
2025-11-14 17:33:37 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:33:37 [DBG] POST requests are not supported
2025-11-14 17:33:37 [DBG] POST requests are not supported
2025-11-14 17:33:37 [DBG] POST requests are not supported
2025-11-14 17:33:37 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:33:37 [DBG] Connection id "0HNH3EJR4OBDV", Request id "0HNH3EJR4OBDV:00000003": started reading request body.
2025-11-14 17:33:37 [DBG] Connection id "0HNH3EJR4OBDV", Request id "0HNH3EJR4OBDV:00000003": done reading request body.
2025-11-14 17:33:37 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:33:37 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:33:37 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:33:37 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:33:37 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:33:37 [INF] CORS policy execution successful.
2025-11-14 17:33:37 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:33:37 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:33:37 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:33:37 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:33:37 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:33:37 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:33:37 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:33:37 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:33:37 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:33:37 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:33:37 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:33:37 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:33:38 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:33:38 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:33:38 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:33:38 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:33:38 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:33:38 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:33:38 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:33:38 [INF] Saving reservation for customer: G000004
2025-11-14 17:33:38 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:33:38 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:33:38 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:33:38 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:33:38 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:33:38 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:33:38 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:33:38 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 86.3146ms
2025-11-14 17:33:38 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:33:38 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:33:38 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 149.5241ms
2025-11-14 17:34:05 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:34:05 [DBG] OPTIONS requests are not supported
2025-11-14 17:34:05 [DBG] OPTIONS requests are not supported
2025-11-14 17:34:05 [DBG] OPTIONS requests are not supported
2025-11-14 17:34:05 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:34:05 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:34:05 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:34:05 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:34:05 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:34:05 [INF] CORS policy execution successful.
2025-11-14 17:34:05 [DBG] The request is a preflight request.
2025-11-14 17:34:05 [INF] Response 204 Body: 
2025-11-14 17:34:05 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 27.3552ms
2025-11-14 17:34:05 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:34:05 [DBG] POST requests are not supported
2025-11-14 17:34:05 [DBG] POST requests are not supported
2025-11-14 17:34:05 [DBG] POST requests are not supported
2025-11-14 17:34:05 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:34:05 [DBG] Connection id "0HNH3EJR4OBDV", Request id "0HNH3EJR4OBDV:00000007": started reading request body.
2025-11-14 17:34:05 [DBG] Connection id "0HNH3EJR4OBDV", Request id "0HNH3EJR4OBDV:00000007": done reading request body.
2025-11-14 17:34:05 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:34:05 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:34:05 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:34:05 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:34:05 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:34:05 [INF] CORS policy execution successful.
2025-11-14 17:34:05 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:34:05 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:34:05 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:34:05 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:34:05 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:34:05 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:34:05 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:34:05 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:34:05 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:34:05 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:34:05 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:34:05 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:34:05 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:34:05 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:34:05 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:34:05 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:34:05 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:34:05 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:34:05 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:34:05 [INF] Saving reservation for customer: G000004
2025-11-14 17:34:05 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:34:05 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:34:05 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:34:05 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:34:05 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:34:05 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:34:05 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:34:05 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 111.9949ms
2025-11-14 17:34:05 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:34:05 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:34:05 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 182.2499ms
2025-11-14 17:35:26 [INF] Request starting HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - null null
2025-11-14 17:35:26 [DBG] OPTIONS requests are not supported
2025-11-14 17:35:26 [DBG] OPTIONS requests are not supported
2025-11-14 17:35:26 [DBG] OPTIONS requests are not supported
2025-11-14 17:35:26 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:35:26 [INF] Request OPTIONS /api/RoomReservation/save Body: 
2025-11-14 17:35:26 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:35:26 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-14 17:35:26 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:35:26 [INF] CORS policy execution successful.
2025-11-14 17:35:26 [DBG] The request is a preflight request.
2025-11-14 17:35:26 [INF] Response 204 Body: 
2025-11-14 17:35:26 [INF] Request finished HTTP/2 OPTIONS https://localhost:9307/api/RoomReservation/save - 204 null null 31.9532ms
2025-11-14 17:35:26 [INF] Request starting HTTP/2 POST https://localhost:9307/api/RoomReservation/save - application/json 1131
2025-11-14 17:35:26 [DBG] POST requests are not supported
2025-11-14 17:35:26 [DBG] POST requests are not supported
2025-11-14 17:35:26 [DBG] POST requests are not supported
2025-11-14 17:35:26 [DBG] The host 'localhost' is excluded. Skipping HSTS header.
2025-11-14 17:35:26 [DBG] Connection id "0HNH3EJR4OBDV", Request id "0HNH3EJR4OBDV:0000000B": started reading request body.
2025-11-14 17:35:26 [DBG] Connection id "0HNH3EJR4OBDV", Request id "0HNH3EJR4OBDV:0000000B": done reading request body.
2025-11-14 17:35:26 [INF] Request POST /api/RoomReservation/save Body: {"reservationNo":"R00000000019","reservationDate":"2025-11-14","reservationType":1,"customerCode":"G000004","mobile":"0123456789","telephone":"012345677","email":"navoda991@gmail.com","travelAgentCode":"TA001","checkinDateTime":"2025-11-14T08:00:00","checkoutDateTime":"2025-11-14T12:00:00","noOfVehicles":2,"noOfAdults":8,"noOfKids":0,"eventType":"","setupStyle":"","subTotal":39000,"discountPer":0,"discount":0,"grossAmount":39000,"paidAmount":25000,"dueAmount":14000,"reservationNote":"testing","refundAmount":0,"refundNote":"Testing","referenceNo":"131","packageCode":"","bookingResourceId":2,"bookingReferenceNo":"798456","reservationStatus":"Checked Out","user":"Admin","roomDetails":[{"roomCode":"R0001","packageCode":"PKG0001","noOfDays":1,"price":37000,"amount":37000,"checkinDate":"2025-11-14T08:00:00","checkoutDate":"2025-11-14T12:00:00"}],"serviceDetails":[{"serviceTypeCode":"SRV0001","serviceQuantity":2,"serviceAmount":2000,"serviceTotalAmount":2000,"serviceDate":"2025-11-14","serviceRemark":""}],"roomPayDetails":[{"paymentId":0,"amount":25000,"refNo":"7894","refDate":"2025-11-14T00:00:00.000Z","receiptNo":""}]}
2025-11-14 17:35:26 [DBG] 1 candidate(s) found for the request path '/api/RoomReservation/save'
2025-11-14 17:35:26 [DBG] Endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)' with route pattern 'api/RoomReservation/save' is valid for the request path '/api/RoomReservation/save'
2025-11-14 17:35:26 [DBG] Request matched endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:35:26 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-14 17:35:26 [INF] CORS policy execution successful.
2025-11-14 17:35:26 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(ReadOnlySpan`1 input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-14 17:35:26 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-14 17:35:26 [INF] Executing endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:35:26 [INF] Route matched with {action = "SaveReservation", controller = "RoomReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveReservation(ReservationDto) on controller RoomReservationController (OIT_Reservation).
2025-11-14 17:35:26 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-14 17:35:26 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-14 17:35:26 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-14 17:35:26 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-14 17:35:26 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-14 17:35:26 [DBG] Executing controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:35:26 [DBG] Executed controller factory for controller RoomReservationController (OIT_Reservation)
2025-11-14 17:35:26 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:35:26 [DBG] Attempting to bind parameter 'reservation' of type 'ReservationDto' using the name '' in request data ...
2025-11-14 17:35:26 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-14 17:35:26 [DBG] JSON input formatter succeeded, deserializing to type 'ReservationDto'
2025-11-14 17:35:26 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:35:26 [DBG] Done attempting to bind parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:35:26 [DBG] Attempting to validate the bound parameter 'reservation' of type 'ReservationDto' ...
2025-11-14 17:35:26 [DBG] Done attempting to validate the bound parameter 'reservation' of type 'ReservationDto'.
2025-11-14 17:35:26 [INF] Saving reservation for customer: G000004
2025-11-14 17:35:26 [INF] Reservation saved successfully: R00000000019
2025-11-14 17:35:26 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-14 17:35:26 [DBG] No information found on request to perform content negotiation.
2025-11-14 17:35:26 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-14 17:35:26 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-14 17:35:26 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-14 17:35:26 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 17:35:26 [INF] Executed action RoomReservationController.SaveReservation (OIT_Reservation) in 112.3408ms
2025-11-14 17:35:26 [INF] Executed endpoint 'RoomReservationController.SaveReservation (OIT_Reservation)'
2025-11-14 17:35:26 [INF] Response 200 Body: {"reservationNo":"R00000000019","message":"Reservation saved successfully"}
2025-11-14 17:35:26 [INF] Request finished HTTP/2 POST https://localhost:9307/api/RoomReservation/save - 200 null application/json; charset=utf-8 175.2932ms
2025-11-14 17:36:14 [DBG] Connection id "0HNH3EJR4OBDV" received FIN.
2025-11-14 17:36:14 [DBG] Connection id "0HNH3EJR4OBDV" is closed. The last processed stream ID was 11.
2025-11-14 17:36:14 [DBG] Connection id "0HNH3EJR4OBDV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-14 17:36:14 [DBG] The connection queue processing loop for 0HNH3EJR4OBDV completed.
2025-11-14 17:36:14 [DBG] Connection id "0HNH3EJR4OBDV" stopped.
